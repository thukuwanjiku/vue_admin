"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[956],{6956:function(e,l,a){a.r(l),a.d(l,{default:function(){return Qe}});var t=a(6768),n=a(1387),s=(a(4114),a(144)),o=a(4232),i=a(7477),u=(a(1452),a(782)),c=a(7021),d=a(4300),r=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-710d5dfe"),e=e(),(0,t.jt)(),e),k={class:"row p-2"},b={class:"col-sm-12 d-flex m-b-10"},p=m((()=>(0,t.Lk)("br",null,null,-1))),g={key:0,class:"row"},h={key:0,class:"text-muted text-italic"},f=m((()=>(0,t.Lk)("br",null,null,-1))),y={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},C={key:0,class:"text-italic"},L={key:1,class:"fw-bold"},_=["onClick"],w={class:"text-center"},E={class:"material-symbols-outlined fs-40"},F=m((()=>(0,t.Lk)("br",null,null,-1))),x={key:1,class:"row"},T=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),I=[T],S={class:"row"},V={class:"row m-b-20"},W=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),R={class:"row p-l-20"},X={class:"col-md-4"},N=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),K=m((()=>(0,t.Lk)("br",null,null,-1))),A={class:"col-md-4"},O=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),D=m((()=>(0,t.Lk)("br",null,null,-1))),G={class:"d-flex"},H={key:0},Q={class:"material-symbols-outlined fs-35"},U={class:"row"},B={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},M=["onClick"],P={class:"material-symbols-outlined fs-35"},J={class:"col-md-4"},j=m((()=>(0,t.Lk)("small",null," ",-1))),z=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},ne=m((()=>(0,t.Lk)("h6",{class:"fw-bold m-0"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),se=m((()=>(0,t.Lk)("br",null,null,-1))),oe={class:"row p-l-20"},ie={class:"col-md-12"},ue=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),de={class:"col-md-12 m-t-20"},re=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},ke={class:"material-symbols-outlined fs-35"},be={class:"row"},pe={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},ge=["onClick"],he={class:"material-symbols-outlined fs-35"},fe=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),ye={class:"col-sm-12"};var Ce={__name:"ManageCategories",setup(e){const l=(0,u.Pj)(),a=(0,s.KR)(!1),n=(0,s.KR)(""),m=(0,s.KR)(!1),T=(0,s.KR)(!1),Ce=(0,s.KR)({name:"",icon:""}),Le=(0,s.KR)(""),_e=(0,s.KR)([]),we=(0,s.KR)(!1),Ee=(0,s.KR)(null),Fe=(0,s.KR)(!1),xe=(0,s.KR)(!1),Te=(0,s.KR)([]),Ie=(0,t.EW)((()=>l.state.investmentHub.isFetchingCategories)),Se=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!Le.value.length||e.includes(Le.value))))),Ve=(0,t.EW)((()=>l.state.investmentHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),We=(0,t.EW)((()=>Ee.value?Ve.value.find((e=>e.id==Ee.value.id)):null)),Re=(0,t.EW)((()=>!!We.value&&Object.keys(We.value).some((e=>Ee.value[e]!==We.value[e]))));function Xe(){m.value=!0,Le.value=""}function Ne(e){Ce.value.icon=e,T.value=!1}function Ke(){return Ce.value.name.length?Ce.value.icon.length?(_e.value.push({id:(0,c.DU)(),name:Ce.value.name,icon:Ce.value.icon}),void(Ce.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Ae(e){let l=_e.value.findIndex((l=>l.id==e));l>-1&&_e.value.splice(l,1)}function Oe(){_e.value.length&&(a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_ADD_LISTING_CATEGORIES,{categories:_e.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.XM)(),m.value=!1,_e.value=[],a.value=!1,Le.value=""})).catch((e=>a.value=!1)))}function De(e){if(xe.value){let l=Te.value.findIndex((l=>l.id==e.id));l>-1?Te.value.splice(l,1):Te.value.push(e)}else Ee.value=JSON.parse(JSON.stringify(e)),we.value=!0,Le.value=""}function Ge(e){Ee.value.icon=e,Fe.value=!1}function He(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Qe()})).catch((()=>{}))}function Qe(){let e={id:Ee.value.id,...Object.keys(We.value).reduce(((e,l)=>(Ee.value[l]!==We.value[l]&&(e[l]=Ee.value[l]),e)),{})};a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Ve.value)),n=t.findIndex((e=>e.id==Ee.value.id));n>-1&&(t[n]=e.data.data,l.commit("investmentHub/STORE_LISTING_CATEGORIES",t)),we.value=!1,a.value=!1})).catch((e=>a.value=!1))}function Ue(){Te.value=[],xe.value=!xe.value}function Be(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:Te.value.map((e=>e.id)),reason:e};Pe(l)})).catch((()=>{}))}function Me(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[Ee.value.id],reason:e};Pe(l)})).catch((()=>{}))}function Pe(e){l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),Te.value=[],(0,c.XM)(),we.value=!1,a.value=!1,xe.value=!1})).catch((e=>{a.value=!1,l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{Ve.value.length||(0,c.XM)(),Se.value.length||(0,c.ob)()})),(e,l)=>{const u=(0,t.g2)("el-button"),d=(0,t.g2)("el-input"),r=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),We=(0,t.g2)("el-divider"),Qe=(0,t.g2)("el-table-column"),Pe=(0,t.g2)("el-table"),Je=(0,t.g2)("el-dialog"),$e=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",b,[(0,t.bF)(u,{type:"primary",icon:(0,s.R1)(i.FWt),onClick:Xe,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(d,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"]),(0,t.eW)("      "),(0,t.bF)(u,{icon:(0,s.R1)(i.Jlk),type:xe.value?"primary":"",onClick:Ue,plain:!xe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),p,Ve.value.length?((0,t.uX)(),(0,t.CE)("div",g,[xe.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",h,"Tap entry to edit")),f,xe.value?((0,t.uX)(),(0,t.CE)("div",y,[Te.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",C,"Tap to select")),Te.value.length?((0,t.uX)(),(0,t.CE)("small",L,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Te.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(r,{closable:"",onClose:l=>De(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Te.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,class:"m-l-10",onClick:Be,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ve.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"investment_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>De(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[(0,t.Lk)("span",E,(0,o.v_)(e.icon),1),F,(0,t.eW)(" "+(0,o.v_)(e.name),1)])])),_:2},1024)],8,_)))),128))])):((0,t.uX)(),(0,t.CE)("div",x,I))])),[[$e,Ie.value]]),(0,t.bF)(Je,{fullscreen:(0,s.R1)(c.Qv),modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",V,[W,(0,t.Lk)("div",R,[(0,t.Lk)("div",X,[N,K,(0,t.bF)(d,{modelValue:Ce.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Ce.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",A,[O,D,(0,t.Lk)("div",G,[Ce.value.icon.length?((0,t.uX)(),(0,t.CE)("div",H,[(0,t.Lk)("span",Q,(0,o.v_)(Ce.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:T.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[3]||(l[3]=e=>T.value=!T.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(Ce.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",U,[(0,t.bF)(d,{modelValue:Le.value,"onUpdate:modelValue":l[2]||(l[2]=e=>Le.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",B,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Ne(e)},[(0,t.Lk)("span",P,(0,o.v_)(e),1)],8,M)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",J,[j,z,(0,t.bF)(u,{onClick:Ke,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),_e.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(We),Y,(0,t.bF)(Pe,{data:_e.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Qe,{prop:"name",label:"Category"}),(0,t.bF)(Qe,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,o.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Qe,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(u,{onClick:l=>Ae(e.row.id),type:"danger",icon:(0,s.R1)(i.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(We),(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(u,{type:"primary",onClick:Oe},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[$e,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)(Je,{fullscreen:(0,s.R1)(c.Qv),width:"40%",modelValue:we.value,"onUpdate:modelValue":l[8]||(l[8]=e=>we.value=e)},{default:(0,t.k6)((()=>[Ee.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[ne,(0,t.eW)("     "),(0,t.bF)(u,{type:"danger",onClick:Me,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),se,(0,t.bF)(We),(0,t.Lk)("div",oe,[(0,t.Lk)("div",ie,[ue,ce,(0,t.bF)(d,{modelValue:Ee.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>Ee.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",de,[re,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",ke,(0,o.v_)(Ee.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:Fe.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[7]||(l[7]=e=>Fe.value=!Fe.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",be,[(0,t.bF)(d,{modelValue:Le.value,"onUpdate:modelValue":l[6]||(l[6]=e=>Le.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",pe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Ge(e)},[(0,t.Lk)("span",he,(0,o.v_)(e),1)],8,ge)))),256))])])])),_:1},8,["visible"])])])]),fe,(0,t.Lk)("div",ye,[(0,t.bF)(u,{type:"primary",onClick:He,disabled:!Re.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[$e,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},Le=a(1241);const _e=(0,Le.A)(Ce,[["__scopeId","data-v-710d5dfe"]]);var we=_e;const Ee={class:"pagetitle"},Fe=(0,t.Lk)("h1",null,"Categories",-1),xe={class:"breadcrumb"},Te={class:"breadcrumb-item"},Ie=(0,t.Lk)("li",{class:"breadcrumb-item"},"Investment Hub",-1),Se=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),Ve={class:"card"},We={class:"card-body"},Re=(0,t.Lk)("br",null,null,-1),Xe={class:"nav nav-tabs",id:"myTab",role:"tablist"},Ne={class:"nav-item",role:"presentation"},Ke={class:"nav-item",role:"presentation"},Ae={class:"tab-content pt-2",id:"myTabContent"},Oe={class:"tab-pane fade show active p-1",id:"investment_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},De=(0,t.Lk)("div",{class:"tab-pane fade",id:"investment_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Will browse archived categories here ",-1);var Ge={__name:"Main",setup(e){(0,n.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Ee,[Fe,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",xe,[(0,t.Lk)("li",Te,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Ie,Se])])]),(0,t.Lk)("div",Ve,[(0,t.Lk)("div",We,[Re,(0,t.Lk)("ul",Xe,[(0,t.Lk)("li",Ne,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",Ke,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])]),(0,t.Lk)("div",Ae,[(0,t.Lk)("div",Oe,[(0,t.bF)(we)]),De])])])],64)}}};const He=Ge;var Qe=He}}]);
//# sourceMappingURL=956.js.map