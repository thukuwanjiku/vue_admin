"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[956],{7021:function(e,l,a){a.d(l,{DU:function(){return E},HC:function(){return d},Qv:function(){return c},RL:function(){return k},XM:function(){return m},eX:function(){return u},k1:function(){return r},ob:function(){return b},yM:function(){return v}});var t=a(4373),n=a(254),o=a(4300),i=a(7190);const s="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints",u=["instagram","facebook","whatsapp","linkedin","youtube","twitter"],c=window.innerWidth<=768;function r(){n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!0),o.A.get(i.pe.GET_EXPLORE_LISTED_COMPANIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)))}function d(){n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),o.A.get(i.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)))}function v(){n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!0),o.A.get(i.pe.GET_INVESTMENT_HUB_LISTED_COMPANIES).then((e=>{n.A.commit("investmentHub/STORE_LISTED_COMPANIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)))}function m(){n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),o.A.get(i.pe.INVESTMENT_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("investmentHub/STORE_LISTING_CATEGORIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)))}function b(){t.A.get(s).then((e=>{const l=e.data,a=l.split("\n"),t=a.map((e=>{const l=e.split(" ");return l[0]}));n.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",t)}))}function E(e=12){let l="",a="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let t=0;t<e;t++)l+=a.charAt(Math.floor(Math.random()*a.length));return l}function k(e,l="",a=null){let t=parseInt(a)||0,n=(new Intl.NumberFormat).format(parseFloat(e).toFixed(t));return(l?l+" ":"")+n}},6956:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ke}});var t=a(6768),n=a(1387),o=(a(4114),a(144)),i=a(4232),s=a(7477),u=(a(1452),a(782)),c=a(7021),r=a(4300),d=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-710d5dfe"),e=e(),(0,t.jt)(),e),b={class:"row p-2"},E={class:"col-sm-12 d-flex m-b-10"},k=m((()=>(0,t.Lk)("br",null,null,-1))),p={key:0,class:"row"},_={key:0,class:"text-muted text-italic"},g=m((()=>(0,t.Lk)("br",null,null,-1))),C={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},f={key:0,class:"text-italic"},h={key:1,class:"fw-bold"},I=["onClick"],T={class:"text-center"},L={class:"material-symbols-outlined fs-40"},S=m((()=>(0,t.Lk)("br",null,null,-1))),y={key:1,class:"row"},w=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),A=[w],F={class:"row"},N={class:"row m-b-20"},x=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),R={class:"row p-l-20"},H={class:"col-md-4"},O=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),G=m((()=>(0,t.Lk)("br",null,null,-1))),X={class:"col-md-4"},V=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),M=m((()=>(0,t.Lk)("br",null,null,-1))),W={class:"d-flex"},P={key:0},K={class:"material-symbols-outlined fs-35"},D={class:"row"},U={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},B=["onClick"],Q={class:"material-symbols-outlined fs-35"},J={class:"col-md-4"},j=m((()=>(0,t.Lk)("small",null," ",-1))),z=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},ne=m((()=>(0,t.Lk)("h6",{class:"fw-bold m-0"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),oe=m((()=>(0,t.Lk)("br",null,null,-1))),ie={class:"row p-l-20"},se={class:"col-md-12"},ue=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),re={class:"col-md-12 m-t-20"},de=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},be={class:"material-symbols-outlined fs-35"},Ee={class:"row"},ke={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},pe=["onClick"],_e={class:"material-symbols-outlined fs-35"},ge=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),Ce={class:"col-sm-12"};var fe={__name:"ManageCategories",setup(e){const l=(0,u.Pj)(),a=(0,o.KR)(!1),n=(0,o.KR)(""),m=(0,o.KR)(!1),w=(0,o.KR)(!1),fe=(0,o.KR)({name:"",icon:""}),he=(0,o.KR)(""),Ie=(0,o.KR)([]),Te=(0,o.KR)(!1),Le=(0,o.KR)(null),Se=(0,o.KR)(!1),ye=(0,o.KR)(!1),we=(0,o.KR)([]),Ae=(0,t.EW)((()=>l.state.investmentHub.isFetchingCategories)),Fe=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!he.value.length||e.includes(he.value))))),Ne=(0,t.EW)((()=>l.state.investmentHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),xe=(0,t.EW)((()=>Le.value?Ne.value.find((e=>e.id==Le.value.id)):null)),Re=(0,t.EW)((()=>!!xe.value&&Object.keys(xe.value).some((e=>Le.value[e]!==xe.value[e]))));function He(){m.value=!0,he.value=""}function Oe(e){fe.value.icon=e,w.value=!1}function Ge(){return fe.value.name.length?fe.value.icon.length?(Ie.value.push({id:(0,c.DU)(),name:fe.value.name,icon:fe.value.icon}),void(fe.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Xe(e){let l=Ie.value.findIndex((l=>l.id==e));l>-1&&Ie.value.splice(l,1)}function Ve(){Ie.value.length&&(a.value=!0,r.A.post(d.pe.INVESTMENT_HUB_ADD_LISTING_CATEGORIES,{categories:Ie.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.XM)(),m.value=!1,Ie.value=[],a.value=!1,he.value=""})).catch((e=>a.value=!1)))}function Me(e){if(ye.value){let l=we.value.findIndex((l=>l.id==e.id));l>-1?we.value.splice(l,1):we.value.push(e)}else Le.value=JSON.parse(JSON.stringify(e)),Te.value=!0,he.value=""}function We(e){Le.value.icon=e,Se.value=!1}function Pe(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Ke()})).catch((()=>{}))}function Ke(){let e={id:Le.value.id,...Object.keys(xe.value).reduce(((e,l)=>(Le.value[l]!==xe.value[l]&&(e[l]=Le.value[l]),e)),{})};a.value=!0,r.A.post(d.pe.INVESTMENT_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Ne.value)),n=t.findIndex((e=>e.id==Le.value.id));n>-1&&(t[n]=e.data.data,l.commit("investmentHub/STORE_LISTING_CATEGORIES",t)),Te.value=!1,a.value=!1})).catch((e=>a.value=!1))}function De(){we.value=[],ye.value=!ye.value}function Ue(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:we.value.map((e=>e.id)),reason:e};Qe(l)})).catch((()=>{}))}function Be(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[Le.value.id],reason:e};Qe(l)})).catch((()=>{}))}function Qe(e){l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,r.A.post(d.pe.INVESTMENT_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),we.value=[],(0,c.XM)(),Te.value=!1,a.value=!1,ye.value=!1})).catch((e=>{a.value=!1,l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{Ne.value.length||(0,c.XM)(),Fe.value.length||(0,c.ob)()})),(e,l)=>{const u=(0,t.g2)("el-button"),r=(0,t.g2)("el-input"),d=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),xe=(0,t.g2)("el-divider"),Ke=(0,t.g2)("el-table-column"),Qe=(0,t.g2)("el-table"),Je=(0,t.g2)("el-dialog"),je=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("div",E,[(0,t.bF)(u,{type:"primary",icon:(0,o.R1)(s.FWt),onClick:He,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(r,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"]),(0,t.eW)("      "),(0,t.bF)(u,{icon:(0,o.R1)(s.Jlk),type:ye.value?"primary":"",onClick:De,plain:!ye.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),k,Ne.value.length?((0,t.uX)(),(0,t.CE)("div",p,[ye.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",_,"Tap entry to edit")),g,ye.value?((0,t.uX)(),(0,t.CE)("div",C,[we.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",f,"Tap to select")),we.value.length?((0,t.uX)(),(0,t.CE)("small",h,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(we.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(d,{closable:"",onClose:l=>Me(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),we.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,class:"m-l-10",onClick:Ue,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ne.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"investment_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Me(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",T,[(0,t.Lk)("span",L,(0,i.v_)(e.icon),1),S,(0,t.eW)(" "+(0,i.v_)(e.name),1)])])),_:2},1024)],8,I)))),128))])):((0,t.uX)(),(0,t.CE)("div",y,A))])),[[je,Ae.value]]),(0,t.bF)(Je,{fullscreen:(0,o.R1)(c.Qv),modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",N,[x,(0,t.Lk)("div",R,[(0,t.Lk)("div",H,[O,G,(0,t.bF)(r,{modelValue:fe.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>fe.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",X,[V,M,(0,t.Lk)("div",W,[fe.value.icon.length?((0,t.uX)(),(0,t.CE)("div",P,[(0,t.Lk)("span",K,(0,i.v_)(fe.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:w.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[3]||(l[3]=e=>w.value=!w.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(fe.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",D,[(0,t.bF)(r,{modelValue:he.value,"onUpdate:modelValue":l[2]||(l[2]=e=>he.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Oe(e)},[(0,t.Lk)("span",Q,(0,i.v_)(e),1)],8,B)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",J,[j,z,(0,t.bF)(u,{onClick:Ge,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),Ie.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(xe),Y,(0,t.bF)(Qe,{data:Ie.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Ke,{prop:"name",label:"Category"}),(0,t.bF)(Ke,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,i.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Ke,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(u,{onClick:l=>Xe(e.row.id),type:"danger",icon:(0,o.R1)(s.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(xe),(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(u,{type:"primary",onClick:Ve},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[je,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)(Je,{fullscreen:(0,o.R1)(c.Qv),width:"40%",modelValue:Te.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Te.value=e)},{default:(0,t.k6)((()=>[Le.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[ne,(0,t.eW)("     "),(0,t.bF)(u,{type:"danger",onClick:Be,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),oe,(0,t.bF)(xe),(0,t.Lk)("div",ie,[(0,t.Lk)("div",se,[ue,ce,(0,t.bF)(r,{modelValue:Le.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>Le.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",re,[de,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",be,(0,i.v_)(Le.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:Se.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[7]||(l[7]=e=>Se.value=!Se.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",Ee,[(0,t.bF)(r,{modelValue:he.value,"onUpdate:modelValue":l[6]||(l[6]=e=>he.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",ke,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>We(e)},[(0,t.Lk)("span",_e,(0,i.v_)(e),1)],8,pe)))),256))])])])),_:1},8,["visible"])])])]),ge,(0,t.Lk)("div",Ce,[(0,t.bF)(u,{type:"primary",onClick:Pe,disabled:!Re.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[je,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},he=a(1241);const Ie=(0,he.A)(fe,[["__scopeId","data-v-710d5dfe"]]);var Te=Ie;const Le={class:"pagetitle"},Se=(0,t.Lk)("h1",null,"Categories",-1),ye={class:"breadcrumb"},we={class:"breadcrumb-item"},Ae=(0,t.Lk)("li",{class:"breadcrumb-item"},"Investment Hub",-1),Fe=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),Ne={class:"card"},xe={class:"card-body"},Re=(0,t.Lk)("br",null,null,-1),He={class:"nav nav-tabs",id:"myTab",role:"tablist"},Oe={class:"nav-item",role:"presentation"},Ge={class:"nav-item",role:"presentation"},Xe={class:"tab-content pt-2",id:"myTabContent"},Ve={class:"tab-pane fade show active p-1",id:"investment_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},Me=(0,t.Lk)("div",{class:"tab-pane fade",id:"investment_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Will browse archived categories here ",-1);var We={__name:"Main",setup(e){(0,n.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Le,[Se,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",ye,[(0,t.Lk)("li",we,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Ae,Fe])])]),(0,t.Lk)("div",Ne,[(0,t.Lk)("div",xe,[Re,(0,t.Lk)("ul",He,[(0,t.Lk)("li",Oe,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",Ge,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])]),(0,t.Lk)("div",Xe,[(0,t.Lk)("div",Ve,[(0,t.bF)(Te)]),Me])])])],64)}}};const Pe=We;var Ke=Pe}}]);
//# sourceMappingURL=956.js.map