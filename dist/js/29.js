"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[29],{7676:function(e,l,a){a.d(l,{A:function(){return c}});var t=a(6768);const i={class:"f-w-600"},n=(0,t.Lk)("br",null,null,-1);function s(e,l){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("small",i,[(0,t.RG)(e.$slots,"default")]),n],64)}var r=a(1241);const o={},u=(0,r.A)(o,[["render",s]]);var c=u},3029:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ce}});a(4114);var t=a(6768),i=a(144),n=a(1387),s=a(4232),r=a(5130),o=a(782),u=a(7676),c=a(4300),d=a(7190),v=a(1219),p=a(7021);const b={key:0,class:"row d-flex align-items-center justify-content-center p-t-20 p-b-20"},m={class:"col-md-4 col-sm-12"},k=["src"],g={class:"col-sm-12 m-t-10"},_={key:1,class:"row"},f={class:"row p-t-15 p-b-10"},L={class:"col-md-12 d-flex align-items-center justify-content-center flex-wrap p-2"},w={class:"m-0"},y={key:1,class:"d-flex align-items-center flex-wrap company_changer m-l-10"},h=["src"],x={class:"change_actions"},C={class:"row m-t-20"},E={class:"col-md-3 text-center"},R=(0,t.Lk)("h5",null,[(0,t.Lk)("small",{class:"fw-bold"},"Total Reviews")],-1),X={class:"total_review_count"},F={class:"col-md-3 text-center"},W=(0,t.Lk)("h5",null,[(0,t.Lk)("small",{class:"fw-bold"},"Average Rating")],-1),K={class:"col-md-12 d-flex justify-content-center align-items-center"},V={class:"average_rating"},A={class:"col-md-3"},O={style:{"font-size":"20px","font-weight":"600"}},S={class:"progress",style:{height:"12px",width:"250px"}},Q={style:{"font-size":"20px","font-weight":"600"}},I={class:"col-sm-12 d-flex flex-wrap reviews"},N={class:"col-md-12 d-flex align-items-center reviewer_details"},P=["src"],U={class:"m-l-8"},z={class:"fw-bold fs-12"},H=(0,t.Lk)("br",null,null,-1),M={class:"fs-12"},T=(0,t.Lk)("br",null,null,-1),j={class:"fs-12"},$={class:"col-md-12 d-flex align-items-center justify-content-between"},B={class:"fs-11"},Y={class:"col-sm-12 m-t-5 fs-12"},J={class:"col-sm-12 review_listing"},G=(0,t.Lk)("small",{class:"text-muted fs-11"},"Posted for",-1),D=(0,t.Lk)("br",null,null,-1),q={class:"m-0 fw-bold fs-12"},Z={key:0,class:"col-sm-12 reviews_pagination m-t-20"},ee={class:"pagination justify-content-center"},le=["onClick","innerHTML"],ae={key:0,class:"text-center text-muted p-5"};var te={__name:"Reviews",setup(e){const l=(0,o.Pj)(),a=(0,i.KR)(!1),n=(0,i.KR)(!1),te=(0,i.KR)(null),ie=(0,i.KR)({}),ne=(0,i.KR)({}),se=(0,i.KR)({}),re=(0,i.KR)({}),oe=(0,i.KR)(null),ue=(0,i.KR)(null),ce=(0,t.EW)((()=>l.state.exploreHub.companies)),de=(0,t.EW)((()=>oe.value&&se.value[oe.value]?se.value[oe.value]:[]));function ve(){let e=ce.value.find((e=>e.id==te.value));if(!e)return v.nk.warning("An error occurred, please reload the page and try again");ie.value=JSON.parse(JSON.stringify(e)),pe()}function pe(){let e={company_id:te.value};a.value=!0,c.A.post(d.pe.EXPLORE_HUB_COMPANY_REVIEWS_SUMMARY,e).then((e=>{ne.value=e.data,be()})).catch((e=>a.value=!1))}function be(e=null){e||(e=d.pe.EXPLORE_HUB_COMPANY_REVIEWS);let l={company_id:ie.value.id};a.value=!0,c.A.post(e,l).then((e=>{re.value=e.data.pagination.links,oe.value=e.data.pagination.current_page,ue.value=e.data.pagination.last_page,se.value[e.data.pagination.current_page]=e.data.data,n.value=!1,a.value=!1,te.value=null})).catch((e=>a.value=!1))}function me(e){if(e.active)return;let l=parseInt(e.url.toString().split("page=")[1]);if(!se.value[l])return be(e.url);oe.value=l;let a=JSON.parse(JSON.stringify(re.value)).map((e=>(e.active=e.url&&e.label.length<2&&e.url.includes(`page=${l}`),e))).map((e=>(e.label.toLowerCase().includes("previous")&&(e.url=1==l?null:`${d.pe.EXPLORE_HUB_COMPANY_REVIEWS}?page=${oe.value-1}`),e.label.toLowerCase().includes("next")&&(e.url=l==ue.value?null:`${d.pe.EXPLORE_HUB_COMPANY_REVIEWS}?page=${oe.value+1}`),e)));re.value=a}return(e,l)=>{const o=(0,t.g2)("el-option"),c=(0,t.g2)("el-select"),d=(0,t.g2)("el-button"),v=(0,t.g2)("el-button-group"),se=(0,t.g2)("el-divider"),oe=(0,t.g2)("el-rate"),ue=(0,t.gN)("loading");return Object.keys(ie.value).length?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",_,[(0,t.Lk)("div",f,[(0,t.Lk)("div",L,[(0,t.Lk)("h3",w,(0,s.v_)(ie.value.name),1),(0,t.eW)("   "),n.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(d,{key:0,size:"small",onClick:l[1]||(l[1]=e=>n.value=!0),plain:"",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})),n.value?((0,t.uX)(),(0,t.CE)("div",y,[(0,t.bF)(c,{modelValue:te.value,"onUpdate:modelValue":l[2]||(l[2]=e=>te.value=e),placeholder:"Click to select another company",style:{width:"255px"},filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ce.value.filter((e=>e.id!=ie.value.id)),(e=>((0,t.uX)(),(0,t.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,h),(0,t.eW)("  "+(0,s.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.eW)("    "),(0,t.Lk)("div",x,[(0,t.bF)(v,null,{default:(0,t.k6)((()=>[(0,t.bF)(d,{onClick:ve,type:"primary"},{default:(0,t.k6)((()=>[(0,t.eW)("Go")])),_:1}),(0,t.bF)(d,{onClick:l[3]||(l[3]=e=>n.value=!1)},{default:(0,t.k6)((()=>[(0,t.eW)("Cancel")])),_:1})])),_:1})])])):(0,t.Q3)("",!0)])]),ne.value.reviews_count&&ne.value.reviews_count>0?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("div",C,[(0,t.Lk)("div",E,[R,(0,t.Lk)("div",X,(0,s.v_)(ne.value.reviews_count),1)]),(0,t.bF)(se,{style:(0,s.Tr)("height:"+((0,i.R1)(p.Qv)?"inherit":"7em")+";"),direction:(0,i.R1)(p.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,t.Lk)("div",F,[W,(0,t.Lk)("div",K,[(0,t.Lk)("div",V,(0,s.v_)(ne.value.average_rating),1),(0,t.eW)("    "),(0,t.bF)(oe,{class:"big_rating",size:"large",modelValue:ne.value.average_rating,"onUpdate:modelValue":l[4]||(l[4]=e=>ne.value.average_rating=e),disabled:""},null,8,["modelValue"])])]),(0,t.bF)(se,{style:(0,s.Tr)("height:"+((0,i.R1)(p.Qv)?"inherit":"7em")+";"),direction:(0,i.R1)(p.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,t.Lk)("div",A,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ne.value.rating_levels_count,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"rating-level-"+e.rating,class:"d-flex align-items-center"},[(0,t.Lk)("div",O,(0,s.v_)(e.rating),1),(0,t.eW)("    "),(0,t.Lk)("div",S,[(0,t.Lk)("div",{class:(0,s.C4)(["progress-bar",{"bg-success":5==e.rating,"bg-primary":4==e.rating,"bg-info":3==e.rating,"bg-warning":2==e.rating,"bg-danger":1==e.rating}]),role:"progressbar",style:(0,s.Tr)("width: "+e.percentage+"%")},null,6)]),(0,t.eW)("    "),(0,t.Lk)("div",Q,(0,s.v_)(e.count),1)])))),128))])]),(0,t.bF)(se,{id:"reviewsStart"}),(0,t.Lk)("div",I,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(de.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"page-reviews-"+e.id,class:"col-md-4 review",style:{padding:"10px"}},[(0,t.Lk)("div",N,[(0,t.Lk)("img",{src:e.reviewer.avatar},null,8,P),(0,t.Lk)("div",U,[(0,t.Lk)("h6",null,[(0,t.Lk)("small",null,[(0,t.Lk)("span",z,(0,s.v_)(e.reviewer.name),1),H,(0,t.Lk)("span",M,(0,s.v_)(e.reviewer.email),1),T,(0,t.Lk)("span",j,(0,s.v_)(e.reviewer.phone),1)])])])]),(0,t.Lk)("div",$,[(0,t.Lk)("div",null,[(0,t.bF)(oe,{"disabled-void-color":"#c8c5cb",colors:["#fdbf08","#fdbf08","#fdbf08"],modelValue:e.rating,"onUpdate:modelValue":l=>e.rating=l,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("small",B,(0,s.v_)(e.date),1)]),(0,t.Lk)("div",Y,(0,s.v_)(e.review),1),(0,t.Lk)("div",J,[G,D,(0,t.Lk)("p",q,(0,s.v_)(e.listing_title),1)])])))),128))]),re.value.length>3?((0,t.uX)(),(0,t.CE)("div",Z,[(0,t.Lk)("ul",ee,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(re.value,(e=>((0,t.uX)(),(0,t.CE)("li",{class:"page-item",key:"pagination-link-"+e.label},[(0,t.Lk)("a",{class:(0,s.C4)({"page-link":!0,disabled:!e.url,active:e.active}),href:"#",onClick:(0,r.D$)((l=>me(e)),["prevent"]),innerHTML:e.label},null,10,le)])))),128))])])):(0,t.Q3)("",!0)],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[a.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",ae," No reviews found "))],64))])),[[ue,a.value]]):((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("div",m,[(0,t.bF)(u.A,null,{default:(0,t.k6)((()=>[(0,t.eW)("Select company to browse reviews")])),_:1}),(0,t.bF)(c,{modelValue:te.value,"onUpdate:modelValue":l[0]||(l[0]=e=>te.value=e),placeholder:"Click to select",size:"large",filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ce.value,(e=>((0,t.uX)(),(0,t.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,k),(0,t.eW)("  "+(0,s.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.Lk)("div",g,[(0,t.bF)(d,{disabled:!te.value,type:"primary",onClick:ve},{default:(0,t.k6)((()=>[(0,t.eW)("Browse Reviews")])),_:1},8,["disabled"])])])]))}}};const ie=te;var ne=ie;const se={class:"pagetitle"},re=(0,t.Lk)("h1",null,"Companies",-1),oe={class:"breadcrumb"},ue={class:"breadcrumb-item"},ce=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),de=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Companies",-1),ve={class:"card"},pe={class:"card-body"},be=(0,t.Lk)("br",null,null,-1),me={class:"nav nav-tabs",id:"myTab",role:"tablist"},ke={key:0,class:"nav-item",role:"presentation"},ge={key:1,class:"nav-item",role:"presentation"},_e={key:2,class:"nav-item",role:"presentation"},fe={class:"tab-content pt-2",id:"myTabContent"},Le={class:"tab-pane fade show active p-1",id:"explore_companies_listed",role:"tabpanel","aria-labelledby":"home-tab"},we={class:"tab-pane fade",id:"explore_companies_reviews",role:"tabpanel","aria-labelledby":"profile-tab"},ye=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_companies_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Browse archived companies ",-1);var he={__name:"Main",setup(e){const l=(0,n.rd)();function a(e){switch(e){case"listed":l.push({name:"explore_hub.companies.listed"});case"reviews":case"deleted":}}return(0,t.sV)((()=>{l.push({name:"explore_hub.companies.listed"})})),(e,l)=>{const n=(0,t.g2)("router-link"),s=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",se,[re,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",oe,[(0,t.Lk)("li",ue,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),ce,de])])]),(0,t.Lk)("div",ve,[(0,t.Lk)("div",pe,[be,(0,t.Lk)("ul",me,[(0,i.R1)(p.oE)(["explore_hub.companies"])?((0,t.uX)(),(0,t.CE)("li",ke,[(0,t.Lk)("button",{class:"nav-link active",onClick:l[0]||(l[0]=e=>a("listed")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_listed",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Listed")])):(0,t.Q3)("",!0),(0,i.R1)(p.oE)(["explore_hub.company_reviews"])?((0,t.uX)(),(0,t.CE)("li",ge,[(0,t.Lk)("button",{class:"nav-link",id:"profile-tab",onClick:l[1]||(l[1]=e=>a("reviews")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_reviews",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",tabindex:"-1"},"Reviews")])):(0,t.Q3)("",!0),(0,i.R1)(p.oE)(["explore_hub.archived_companies"])?((0,t.uX)(),(0,t.CE)("li",_e,[(0,t.Lk)("button",{class:"nav-link",id:"contact-tab",onClick:l[2]||(l[2]=e=>a("deleted")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",fe,[(0,t.Lk)("div",Le,[(0,t.bF)(s,{name:"explore_companies_listed"})]),(0,t.Lk)("div",we,[(0,t.bF)(ne)]),ye])])])],64)}}};const xe=he;var Ce=xe}}]);
//# sourceMappingURL=29.js.map