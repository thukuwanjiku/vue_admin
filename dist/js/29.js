"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[29],{7021:function(e,a,t){t.d(a,{DU:function(){return g},HC:function(){return d},Qv:function(){return u},RL:function(){return k},XM:function(){return m},cE:function(){return b},eX:function(){return o},fv:function(){return f},hU:function(){return _},k1:function(){return c},kN:function(){return p},ob:function(){return E},yM:function(){return v}});var l=t(4373),n=t(254),i=t(4300),s=t(7190);const r="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints",o=["instagram","facebook","whatsapp","linkedin","youtube","twitter"],u=window.innerWidth<=768;function c(){n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!0),i.A.get(s.pe.GET_EXPLORE_LISTED_COMPANIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)))}function d(){n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),i.A.get(s.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)))}function v(){n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!0),i.A.get(s.pe.GET_INVESTMENT_HUB_LISTED_COMPANIES).then((e=>{n.A.commit("investmentHub/STORE_LISTED_COMPANIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)))}function m(){n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),i.A.get(s.pe.INVESTMENT_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("investmentHub/STORE_LISTING_CATEGORIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)))}function p(){n.A.commit("auth/SET_IS_FETCHING_ROLES",!0),i.A.get(s.pe.LIST_ROLES).then((e=>{n.A.commit("auth/STORE_ROLES",e.data),n.A.commit("auth/SET_IS_FETCHING_ROLES",!1)})).catch((e=>n.A.commit("auth/SET_IS_FETCHING_ROLES",!1)))}function _(){n.A.commit("auth/SET_IS_FETCHING_USERS",!0),i.A.get(s.pe.LIST_USERS).then((e=>{n.A.commit("auth/STORE_USERS",e.data),n.A.commit("auth/SET_IS_FETCHING_USERS",!1)})).catch((e=>n.A.commit("auth/SET_IS_FETCHING_USERS",!1)))}function b(e){return n.A.getters["auth/isSuperAdmin"]||n.A.state.auth.permissions.includes(e)}function E(){l.A.get(r).then((e=>{const a=e.data,t=a.split("\n"),l=t.map((e=>{const a=e.split(" ");return a[0]}));n.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",l)}))}function g(e=12){let a="",t="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let l=0;l<e;l++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}function k(e,a="",t=null){let l=parseInt(t)||0,n=(new Intl.NumberFormat).format(parseFloat(e).toFixed(l));return(a?a+" ":"")+n}function f(e,a=2){const t=e.trim().split(/\s+/),l=t.map((e=>e[0].toUpperCase()));return l.slice(0,a).join("")}},7676:function(e,a,t){t.d(a,{A:function(){return c}});var l=t(6768);const n={class:"f-w-600"},i=(0,l.Lk)("br",null,null,-1);function s(e,a){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("small",n,[(0,l.RG)(e.$slots,"default")]),i],64)}var r=t(1241);const o={},u=(0,r.A)(o,[["render",s]]);var c=u},3029:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ce}});t(4114);var l=t(6768),n=t(1387),i=t(4232),s=t(144),r=t(5130),o=t(782),u=t(7676),c=t(4300),d=t(7190),v=t(1219),m=t(7021);const p={key:0,class:"row d-flex align-items-center justify-content-center p-t-20 p-b-20"},_={class:"col-md-4 col-sm-12"},b=["src"],E={class:"col-sm-12 m-t-10"},g={key:1,class:"row"},k={class:"row p-t-15 p-b-10"},f={class:"col-md-12 d-flex align-items-center justify-content-center flex-wrap p-2"},S={class:"m-0"},L={key:1,class:"d-flex align-items-center flex-wrap company_changer m-l-10"},h=["src"],I={class:"change_actions"},C={class:"row m-t-20"},T={class:"col-md-3 text-center"},A=(0,l.Lk)("h5",null,[(0,l.Lk)("small",{class:"fw-bold"},"Total Reviews")],-1),w={class:"total_review_count"},R={class:"col-md-3 text-center"},y=(0,l.Lk)("h5",null,[(0,l.Lk)("small",{class:"fw-bold"},"Average Rating")],-1),x={class:"col-md-12 d-flex justify-content-center align-items-center"},N={class:"average_rating"},O={class:"col-md-3"},H={style:{"font-size":"20px","font-weight":"600"}},F={class:"progress",style:{height:"12px",width:"250px"}},G={style:{"font-size":"20px","font-weight":"600"}},X={class:"col-sm-12 d-flex flex-wrap reviews"},M={class:"col-md-12 d-flex align-items-center reviewer_details"},P=["src"],W={class:"m-l-8"},U={class:"fw-bold fs-12"},V=(0,l.Lk)("br",null,null,-1),K={class:"fs-12"},z=(0,l.Lk)("br",null,null,-1),B={class:"fs-12"},Q={class:"col-md-12 d-flex align-items-center justify-content-between"},j={class:"fs-11"},D={class:"col-sm-12 m-t-5 fs-12"},$={class:"col-sm-12 review_listing"},Y=(0,l.Lk)("small",{class:"text-muted fs-11"},"Posted for",-1),J=(0,l.Lk)("br",null,null,-1),q={class:"m-0 fw-bold fs-12"},Z={key:0,class:"col-sm-12 reviews_pagination m-t-20"},ee={class:"pagination justify-content-center"},ae=["onClick","innerHTML"],te={key:0,class:"text-center text-muted p-5"};var le={__name:"Reviews",setup(e){const a=(0,o.Pj)(),t=(0,s.KR)(!1),n=(0,s.KR)(!1),le=(0,s.KR)(null),ne=(0,s.KR)({}),ie=(0,s.KR)({}),se=(0,s.KR)({}),re=(0,s.KR)({}),oe=(0,s.KR)(null),ue=(0,s.KR)(null),ce=(0,l.EW)((()=>a.state.exploreHub.companies)),de=(0,l.EW)((()=>oe.value&&se.value[oe.value]?se.value[oe.value]:[]));function ve(){let e=ce.value.find((e=>e.id==le.value));if(!e)return v.nk.warning("An error occurred, please reload the page and try again");ne.value=JSON.parse(JSON.stringify(e)),me()}function me(){let e={company_id:le.value};t.value=!0,c.A.post(d.pe.EXPLORE_HUB_COMPANY_REVIEWS_SUMMARY,e).then((e=>{ie.value=e.data,pe()})).catch((e=>t.value=!1))}function pe(e=null){e||(e=d.pe.EXPLORE_HUB_COMPANY_REVIEWS);let a={company_id:ne.value.id};t.value=!0,c.A.post(e,a).then((e=>{re.value=e.data.pagination.links,oe.value=e.data.pagination.current_page,ue.value=e.data.pagination.last_page,se.value[e.data.pagination.current_page]=e.data.data,n.value=!1,t.value=!1,le.value=null})).catch((e=>t.value=!1))}function _e(e){if(e.active)return;let a=parseInt(e.url.toString().split("page=")[1]);if(!se.value[a])return pe(e.url);oe.value=a;let t=JSON.parse(JSON.stringify(re.value)).map((e=>(e.active=e.url&&e.label.length<2&&e.url.includes(`page=${a}`),e))).map((e=>(e.label.toLowerCase().includes("previous")&&(e.url=1==a?null:`${d.pe.EXPLORE_HUB_COMPANY_REVIEWS}?page=${oe.value-1}`),e.label.toLowerCase().includes("next")&&(e.url=a==ue.value?null:`${d.pe.EXPLORE_HUB_COMPANY_REVIEWS}?page=${oe.value+1}`),e)));re.value=t}return(e,a)=>{const o=(0,l.g2)("el-option"),c=(0,l.g2)("el-select"),d=(0,l.g2)("el-button"),v=(0,l.g2)("el-button-group"),se=(0,l.g2)("el-divider"),oe=(0,l.g2)("el-rate"),ue=(0,l.gN)("loading");return Object.keys(ne.value).length?(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("div",k,[(0,l.Lk)("div",f,[(0,l.Lk)("h3",S,(0,i.v_)(ne.value.name),1),(0,l.eW)("   "),n.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:0,size:"small",onClick:a[1]||(a[1]=e=>n.value=!0),plain:"",round:""},{default:(0,l.k6)((()=>[(0,l.eW)("Change")])),_:1})),n.value?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.bF)(c,{modelValue:le.value,"onUpdate:modelValue":a[2]||(a[2]=e=>le.value=e),placeholder:"Click to select another company",style:{width:"255px"},filterable:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ce.value.filter((e=>e.id!=ne.value.id)),(e=>((0,l.uX)(),(0,l.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,h),(0,l.eW)("  "+(0,i.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,l.eW)("    "),(0,l.Lk)("div",I,[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:ve,type:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("Go")])),_:1}),(0,l.bF)(d,{onClick:a[3]||(a[3]=e=>n.value=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1})])),_:1})])])):(0,l.Q3)("",!0)])]),ie.value.reviews_count&&ie.value.reviews_count>0?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",C,[(0,l.Lk)("div",T,[A,(0,l.Lk)("div",w,(0,i.v_)(ie.value.reviews_count),1)]),(0,l.bF)(se,{style:(0,i.Tr)("height:"+((0,s.R1)(m.Qv)?"inherit":"7em")+";"),direction:(0,s.R1)(m.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,l.Lk)("div",R,[y,(0,l.Lk)("div",x,[(0,l.Lk)("div",N,(0,i.v_)(ie.value.average_rating),1),(0,l.eW)("    "),(0,l.bF)(oe,{class:"big_rating",size:"large",modelValue:ie.value.average_rating,"onUpdate:modelValue":a[4]||(a[4]=e=>ie.value.average_rating=e),disabled:""},null,8,["modelValue"])])]),(0,l.bF)(se,{style:(0,i.Tr)("height:"+((0,s.R1)(m.Qv)?"inherit":"7em")+";"),direction:(0,s.R1)(m.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,l.Lk)("div",O,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ie.value.rating_levels_count,(e=>((0,l.uX)(),(0,l.CE)("div",{key:"rating-level-"+e.rating,class:"d-flex align-items-center"},[(0,l.Lk)("div",H,(0,i.v_)(e.rating),1),(0,l.eW)("    "),(0,l.Lk)("div",F,[(0,l.Lk)("div",{class:(0,i.C4)(["progress-bar",{"bg-success":5==e.rating,"bg-primary":4==e.rating,"bg-info":3==e.rating,"bg-warning":2==e.rating,"bg-danger":1==e.rating}]),role:"progressbar",style:(0,i.Tr)("width: "+e.percentage+"%")},null,6)]),(0,l.eW)("    "),(0,l.Lk)("div",G,(0,i.v_)(e.count),1)])))),128))])]),(0,l.bF)(se,{id:"reviewsStart"}),(0,l.Lk)("div",X,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(de.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:"page-reviews-"+e.id,class:"col-md-4 review",style:{padding:"10px"}},[(0,l.Lk)("div",M,[(0,l.Lk)("img",{src:e.reviewer.avatar},null,8,P),(0,l.Lk)("div",W,[(0,l.Lk)("h6",null,[(0,l.Lk)("small",null,[(0,l.Lk)("span",U,(0,i.v_)(e.reviewer.name),1),V,(0,l.Lk)("span",K,(0,i.v_)(e.reviewer.email),1),z,(0,l.Lk)("span",B,(0,i.v_)(e.reviewer.phone),1)])])])]),(0,l.Lk)("div",Q,[(0,l.Lk)("div",null,[(0,l.bF)(oe,{"disabled-void-color":"#c8c5cb",colors:["#fdbf08","#fdbf08","#fdbf08"],modelValue:e.rating,"onUpdate:modelValue":a=>e.rating=a,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("small",j,(0,i.v_)(e.date),1)]),(0,l.Lk)("div",D,(0,i.v_)(e.review),1),(0,l.Lk)("div",$,[Y,J,(0,l.Lk)("p",q,(0,i.v_)(e.listing_title),1)])])))),128))]),re.value.length>3?((0,l.uX)(),(0,l.CE)("div",Z,[(0,l.Lk)("ul",ee,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(re.value,(e=>((0,l.uX)(),(0,l.CE)("li",{class:"page-item",key:"pagination-link-"+e.label},[(0,l.Lk)("a",{class:(0,i.C4)({"page-link":!0,disabled:!e.url,active:e.active}),href:"#",onClick:(0,r.D$)((a=>_e(e)),["prevent"]),innerHTML:e.label},null,10,ae)])))),128))])])):(0,l.Q3)("",!0)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[t.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",te," No reviews found "))],64))])),[[ue,t.value]]):((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",_,[(0,l.bF)(u.A,null,{default:(0,l.k6)((()=>[(0,l.eW)("Select company to browse reviews")])),_:1}),(0,l.bF)(c,{modelValue:le.value,"onUpdate:modelValue":a[0]||(a[0]=e=>le.value=e),placeholder:"Click to select",size:"large",filterable:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ce.value,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,b),(0,l.eW)("  "+(0,i.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,l.Lk)("div",E,[(0,l.bF)(d,{disabled:!le.value,type:"primary",onClick:ve},{default:(0,l.k6)((()=>[(0,l.eW)("Browse Reviews")])),_:1},8,["disabled"])])])]))}}};const ne=le;var ie=ne;const se={class:"pagetitle"},re=(0,l.Lk)("h1",null,"Companies",-1),oe={class:"breadcrumb"},ue={class:"breadcrumb-item"},ce=(0,l.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),de=(0,l.Lk)("li",{class:"breadcrumb-item active"},"Companies",-1),ve={class:"card"},me={class:"card-body"},pe=(0,l.Lk)("br",null,null,-1),_e={class:"nav nav-tabs",id:"myTab",role:"tablist"},be={class:"nav-item",role:"presentation"},Ee={class:"nav-item",role:"presentation"},ge={class:"nav-item",role:"presentation"},ke={class:"tab-content pt-2",id:"myTabContent"},fe={class:"tab-pane fade show active p-1",id:"explore_companies_listed",role:"tabpanel","aria-labelledby":"home-tab"},Se={class:"tab-pane fade",id:"explore_companies_reviews",role:"tabpanel","aria-labelledby":"profile-tab"},Le=(0,l.Lk)("div",{class:"tab-pane fade",id:"explore_companies_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Browse archived companies ",-1);var he={__name:"Main",setup(e){const a=(0,n.rd)();function t(e){switch(e){case"listed":a.push({name:"explore_hub.companies.listed"});case"reviews":case"deleted":}}return(0,l.sV)((()=>{a.push({name:"explore_hub.companies.listed"})})),(e,a)=>{const n=(0,l.g2)("router-link"),i=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",se,[re,(0,l.Lk)("nav",null,[(0,l.Lk)("ol",oe,[(0,l.Lk)("li",ue,[(0,l.bF)(n,{to:{name:"dashboard"}},{default:(0,l.k6)((()=>[(0,l.eW)("Home")])),_:1})]),ce,de])])]),(0,l.Lk)("div",ve,[(0,l.Lk)("div",me,[pe,(0,l.Lk)("ul",_e,[(0,l.Lk)("li",be,[(0,l.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>t("listed")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_listed",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Listed")]),(0,l.Lk)("li",Ee,[(0,l.Lk)("button",{class:"nav-link",id:"profile-tab",onClick:a[1]||(a[1]=e=>t("reviews")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_reviews",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",tabindex:"-1"},"Reviews")]),(0,l.Lk)("li",ge,[(0,l.Lk)("button",{class:"nav-link",id:"contact-tab",onClick:a[2]||(a[2]=e=>t("deleted")),"data-bs-toggle":"tab","data-bs-target":"#explore_companies_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])]),(0,l.Lk)("div",ke,[(0,l.Lk)("div",fe,[(0,l.bF)(i,{name:"explore_companies_listed"})]),(0,l.Lk)("div",Se,[(0,l.bF)(ie)]),Le])])])],64)}}};const Ie=he;var Ce=Ie}}]);
//# sourceMappingURL=29.js.map