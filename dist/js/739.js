"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[739],{739:function(l,e,a){a.r(e),a.d(e,{default:function(){return _l}});a(4114);var n=a(6768),o=a(5130),t=a(144),i=a(4232),s=a(1387),c=a(4300),u=a(7190),d=a(782),r=a(6133),m=a(22),p=a(1452),k=a(5015),v=a(7021);const f={class:"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between"},L=(0,n.Lk)("h6",{class:"fw-bold mb-0",style:{"margin-left":"20px"}},"Add a new Company",-1),b={class:"row"},y={class:"col-md-6"},g={class:"col-md-10 m-b-20"},h={class:"form-floating"},C=(0,n.Lk)("label",{for:"companyName"},"Company Name",-1),E={class:"col-md-10 m-b-20"},_={class:"form-floating"},x=(0,n.Lk)("label",{for:"companyTagline"},"Tagline",-1),w={class:"col-md-10 m-b-20"},R={class:"form-floating"},X=(0,n.Lk)("label",{for:"companyContactPerson"},"Contact Person",-1),A={class:"col-md-10 m-b-20"},S=(0,n.Lk)("small",{class:"text-muted"},"Contact Phone",-1),F={class:"col-md-10 m-b-20"},P={class:"form-floating"},K=(0,n.Lk)("label",{for:"companyContactEmail"},"Email",-1),V=(0,n.Lk)("div",{class:"col-md-10 m-b-20"},[(0,n.Lk)("h6",null,"Company's Bio (About)"),(0,n.Lk)("div",{id:"addCompanyAboutEditor",class:"quill-editor-default"})],-1),D={class:"col-md-6"},N={class:"col-md-10 m-b-20"},T={class:"form-floating"},O=(0,n.Lk)("label",{for:"companyLogo"},"Company Logo",-1),Q={key:0,class:"d-flex flex-wrap m-t-10"},U={class:"p-1 uploaded-image"},J=["src"],W=(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1),j=[W],q={class:"col-md-10 m-b-20"},I=(0,n.Lk)("h6",null,"Social Media Handles",-1),H={class:"d-inline-flex align-items-center flex-wrap"},M={key:0,class:"d-inline-flex"},z={key:0,class:"ri ri-add-line"},B=(0,n.Lk)("hr",null,null,-1),Y={class:"modal-footer"},G=(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Company",-1),Z={key:0,class:"row"},ll=(0,n.Lk)("h6",{class:"fw-bold"},[(0,n.Lk)("small",{class:"text-muted"},"Currently added")],-1),el=(0,n.Lk)("small",{class:"text-muted text-italic"},"Click to remove",-1),al={class:"d-inline-flex"},nl=["onClick"],ol=(0,n.Lk)("br",null,null,-1),tl={class:"row"},il={key:0,class:"fw-bold"},sl=(0,n.Lk)("small",{class:"text-muted"},"Add more here",-1),cl=[sl],ul={class:"p-l-20"},dl=(0,n.Lk)("small",null,"Select Platform",-1),rl=(0,n.Lk)("br",null,null,-1),ml={class:"d-inline-flex flex-wrap"},pl=["onClick"],kl=(0,n.Lk)("br",null,null,-1),vl=(0,n.Lk)("br",null,null,-1),fl={key:0,class:"col-md-6"},Ll={class:"input-group mb-3"},bl={class:"form-floating"},yl={for:"newSocialLink"},gl={class:"input-group-text",id:"basic-addon2"},hl={class:"col-sm-12 d-flex justify-content-end"};var Cl={__name:"Add",setup(l){const e=(0,s.rd)(),a=(0,d.Pj)(),W=(0,t.KR)({name:"",description:"",contact_name:"",contact_phone:"",email:"",about:""}),sl=(0,t.KR)([]),Cl=(0,t.KR)({platform:"",link:""});let El=(0,t.KR)(null),_l=(0,t.KR)(null);const xl=(0,t.KR)(!1),wl=(0,t.KR)(!1);let Rl=(0,t.KR)(null);const Xl=(0,n.EW)((()=>{let l=sl.value.map((l=>l.platform));return v.eX.filter((e=>!l.includes(e)))}));function Al(l){El.value=l.target.files[0];const e=l.target.files[0],a=new FileReader;a.onload=l=>{_l.value=l.target.result},a.readAsDataURL(e)}function Sl(){El.value=null,_l.value=null,$("#companyLogo").val("")}function Fl(){sl.value.push({platform:Cl.value.platform,link:Cl.value.link}),Cl.value={platform:"",link:""}}function Pl(){let l=Rl.getSemanticHTML();if(!l||!l.toString().length||"<p></p>"==l)return $.growl.warning({message:"Please enter the company's bio"});if(W.value["about"]=l,!W.value.contact_phone||!W.value.contact_phone.toString().length)return $.growl.warning({message:"Please enter contact phone"});let n=new FormData;Object.keys(W.value).forEach((l=>{let e=W.value[l];"contact_phone"==l&&(e=e.toString().replaceAll(" ","")),n.append(l,e)})),n.append("company_logo",El.value),sl.value.length&&sl.value.forEach(((l,e)=>{n.append(`socials[${e}][platform]`,l.platform),n.append(`socials[${e}][link]`,l.link)})),xl.value=!0,c.A.post(u.pe.ADD_EXPLORE_LISTED_COMPANY,n).then((l=>{$.growl.notice({message:l.data.message});let n=JSON.parse(JSON.stringify(a.state.exploreHub.companies));n.unshift(l.data.data),a.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",n),xl.value=!1,e.back()})).catch((l=>xl.value=!1))}return(0,n.sV)((()=>{Rl=new Quill("#addCompanyAboutEditor",{theme:"snow",placeholder:"Enter company about here"})})),(l,a)=>{const s=(0,n.g2)("el-button"),c=(0,n.g2)("el-badge"),u=(0,n.g2)("el-dialog"),d=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",f,[L,(0,n.bF)(r.A)]),(0,n.bo)(((0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,o.D$)(Pl,["prevent"])},[(0,n.Lk)("div",b,[(0,n.Lk)("div",y,[(0,n.Lk)("div",g,[(0,n.Lk)("div",h,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyName",placeholder:"Company Name","onUpdate:modelValue":a[0]||(a[0]=l=>W.value.name=l),required:""},null,512),[[o.Jo,W.value.name]]),C])]),(0,n.Lk)("div",E,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyTagline",placeholder:"Tagline","onUpdate:modelValue":a[1]||(a[1]=l=>W.value.description=l),required:""},null,512),[[o.Jo,W.value.description]]),x])]),(0,n.Lk)("div",w,[(0,n.Lk)("div",R,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyContactPerson",placeholder:"Company Person","onUpdate:modelValue":a[2]||(a[2]=l=>W.value.contact_name=l),required:""},null,512),[[o.Jo,W.value.contact_name]]),X])]),(0,n.Lk)("div",A,[S,(0,n.bF)((0,t.R1)(m.E),{modelValue:W.value.contact_phone,"onUpdate:modelValue":a[3]||(a[3]=l=>W.value.contact_phone=l),mode:"international"},null,8,["modelValue"])]),(0,n.Lk)("div",F,[(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control",id:"companyContactEmail",placeholder:"Email","onUpdate:modelValue":a[4]||(a[4]=l=>W.value.email=l),required:""},null,512),[[o.Jo,W.value.email]]),K])]),V]),(0,n.Lk)("div",D,[(0,n.Lk)("div",N,[(0,n.Lk)("div",T,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"companyLogo",onChange:Al,accept:".png,.jpg,.jpeg,.gif"},null,32),O]),(0,t.R1)(_l)?((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",U,[(0,n.Lk)("img",{src:(0,t.R1)(_l),style:{"max-width":"80px","max-height":"60px"}},null,8,J),(0,n.Lk)("div",{class:"remover",onClick:Sl},j)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",q,[I,(0,n.Lk)("div",H,[sl.value.length?((0,n.uX)(),(0,n.CE)("div",M,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(sl.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"p-1",key:"form-current-socials-"+e},[(0,n.bF)((0,t.R1)(p.p),{type:l.platform,link:{src:l.link}},null,8,["type","link"])])))),128))])):(0,n.Q3)("",!0),(0,n.bF)(s,{onClick:a[5]||(a[5]=l=>wl.value=!wl.value),size:"small",round:""},{default:(0,n.k6)((()=>[sl.value.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("i",z)),(0,n.eW)((0,i.v_)(sl.value.length?"Click to edit":"Click to add"),1)])),_:1})])])])]),B,(0,n.Lk)("div",Y,[G,(0,n.eW)("   "),(0,n.Lk)("button",{onClick:a[6]||(a[6]=l=>(0,t.R1)(e).back()),class:"btn btn-secondary",type:"button"},"Cancel")])],32)),[[d,xl.value]]),(0,n.bF)(u,{fullscreen:(0,t.R1)(v.Qv),modelValue:wl.value,"onUpdate:modelValue":a[9]||(a[9]=l=>wl.value=l)},{default:(0,n.k6)((()=>[sl.value.length?((0,n.uX)(),(0,n.CE)("div",Z,[ll,el,(0,n.Lk)("div",al,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(sl.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"p-1",onClick:l=>sl.value.splice(e,1),key:"current-socials-"+e},[(0,n.bF)((0,t.R1)(p.p),{type:l.platform,link:{src:"#"}},null,8,["type"])],8,nl)))),128))])])):(0,n.Q3)("",!0),ol,(0,n.Lk)("div",tl,[sl.value.length?((0,n.uX)(),(0,n.CE)("h6",il,cl)):(0,n.Q3)("",!0),(0,n.Lk)("div",ul,[(0,n.Lk)("form",{onSubmit:(0,o.D$)(Fl,["prevent"])},[dl,rl,(0,n.Lk)("div",ml,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Xl.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"p-1",onClick:e=>Cl.value.platform=l,key:"to-add-social"+e},[Cl.value.platform==l?((0,n.uX)(),(0,n.Wv)(c,{key:0,value:"✓",class:"item",type:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)((0,t.R1)(p.p),{type:l,link:{src:"#"}},null,8,["type"])])),_:2},1024)):((0,n.uX)(),(0,n.Wv)((0,t.R1)(p.p),{key:1,type:l,link:{src:"#"}},null,8,["type"]))],8,pl)))),128))]),kl,vl,Cl.value.platform.length?((0,n.uX)(),(0,n.CE)("div",fl,[(0,n.Lk)("div",Ll,[(0,n.Lk)("div",bl,[(0,n.bo)((0,n.Lk)("input",{type:"url",class:"form-control",id:"newSocialLink",placeholder:"Tagline","onUpdate:modelValue":a[7]||(a[7]=l=>Cl.value.link=l),required:""},null,512),[[o.Jo,Cl.value.link]]),(0,n.Lk)("label",yl,"Enter "+(0,i.v_)((0,t.R1)(k.A)(Cl.value.platform))+" Link here",1)]),(0,n.Lk)("span",gl,[(0,n.bF)(s,{"native-type":"submit",link:""},{default:(0,n.k6)((()=>[(0,n.eW)("Add")])),_:1})])])])):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",hl,[(0,n.bF)(s,{type:"info",onClick:a[8]||(a[8]=l=>wl.value=!wl.value),plain:""},{default:(0,n.k6)((()=>[(0,n.eW)("Done")])),_:1})])])])),_:1},8,["fullscreen","modelValue"])],64)}}};const El=Cl;var _l=El}}]);
//# sourceMappingURL=739.js.map