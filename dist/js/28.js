"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[28],{2028:function(e,u,l){l.r(u),l.d(u,{default:function(){return T}});var n=l(6768),a=l(144),t=l(4232),r=l(5130),d=l(4300),o=l(7190),f=l(782),i=l(1387),s=(l(2933),l(1452),l(7477)),c=l(7021),v=l(5015);const m={class:"pagetitle"},k=(0,n.Lk)("h1",null,"Users",-1),b={class:"breadcrumb"},p={class:"breadcrumb-item"},g=(0,n.Lk)("li",{class:"breadcrumb-item"},"Access Control",-1),h=(0,n.Lk)("li",{class:"breadcrumb-item active"},"Users",-1),x={class:"card"},E={class:"card-body"},L=(0,n.Lk)("br",null,null,-1),_={class:"row p-2"},R={class:"col-sm-12 d-flex m-b-10"},A=(0,n.Lk)("br",null,null,-1),y={key:1,class:"table-responsive"},U={class:"table table-hover"},C=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"User"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"Phone Number"),(0,n.Lk)("th",null,"Roles"),(0,n.Lk)("th",null,"Actions")])],-1),I={key:1},F=(0,n.Lk)("td",{colspan:"5",class:"text-center p-3"},"No data",-1),W=[F],z={class:"p-3"},S=(0,n.Lk)("br",null,null,-1),X=(0,n.Lk)("br",null,null,-1),j=(0,n.Lk)("br",null,null,-1),N={class:"m-t-10"};var w={__name:"ManageUsers",setup(e){const u=(0,f.Pj)(),l=((0,i.rd)(),(0,a.KR)(!1)),F=(0,a.KR)(!1),w=(0,a.KR)(""),O=(0,a.KR)(null),T=(0,n.EW)((()=>u.state.auth.users)),V=(0,n.EW)((()=>u.state.auth.roles)),Z=(0,n.EW)({get:()=>u.state.auth.isFetchingUsers,set:e=>u.commit("auth/SET_IS_FETCHING_USERS",e)});function K(){let e={emails:[w.value],role_id:O.value};l.value=!0,d.A.post(o.pe.INVITE_USERS,e).then((e=>{$.growl.notice({message:e.data.message}),F.value=!1,l.value=!1,O.value=null,w.value=""})).catch((e=>l.value=!1))}function D(e){}return(0,n.sV)((()=>{(0,c.cE)("users.list")&&!T.value.length&&(0,c.hU)(),V.value.length||(0,c.kN)()})),(e,u)=>{const d=(0,n.g2)("router-link"),o=(0,n.g2)("el-button"),f=(0,n.g2)("el-icon"),i=(0,n.g2)("el-dropdown-item"),Q=(0,n.g2)("el-dropdown-menu"),G=(0,n.g2)("el-dropdown"),H=(0,n.g2)("input-label"),$=(0,n.g2)("el-option"),J=(0,n.g2)("el-select"),M=(0,n.g2)("el-dialog"),Y=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",m,[k,(0,n.Lk)("nav",null,[(0,n.Lk)("ol",b,[(0,n.Lk)("li",p,[(0,n.bF)(d,{to:{name:"dashboard"}},{default:(0,n.k6)((()=>[(0,n.eW)("Home")])),_:1})]),g,h])])]),(0,n.Lk)("div",x,[(0,n.Lk)("div",E,[L,(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,a.R1)(c.cE)("users.invite")?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",R,[(0,n.bF)(o,{onClick:u[0]||(u[0]=e=>F.value=!0),type:"primary",icon:(0,a.R1)(s.FWt),plain:""},{default:(0,n.k6)((()=>[(0,n.eW)("Invite User")])),_:1},8,["icon"])]),A],64)):(0,n.Q3)("",!0),(0,a.R1)(c.cE)("users.list")?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("table",U,[C,(0,n.Lk)("tbody",null,[T.value.length?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(T.value,((e,u)=>((0,n.uX)(),(0,n.CE)("tr",{key:"users-"+u},[(0,n.Lk)("td",null,(0,t.v_)(e.name),1),(0,n.Lk)("td",null,(0,t.v_)(e.email),1),(0,n.Lk)("td",null,(0,t.v_)(e.phone_number),1),(0,n.Lk)("td",null,(0,t.v_)(e.roles.map((e=>(0,a.R1)(v.A)(e.name))).join(", ")),1),(0,n.Lk)("td",null,[e.roles.some((e=>"super_admin"==e.name))||!(0,a.R1)(c.cE)("users.delete")&&!(0,a.R1)(c.cE)("users.manage_roles")?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(G,{key:0,trigger:"click",onCommand:D},{dropdown:(0,n.k6)((()=>[(0,n.bF)(Q,null,{default:(0,n.k6)((()=>[(0,a.R1)(c.cE)("users.delete")?((0,n.uX)(),(0,n.Wv)(i,{key:0,command:{action:"delete",user:e}},{default:(0,n.k6)((()=>[(0,n.eW)("Delete")])),_:2},1032,["command"])):(0,n.Q3)("",!0),(0,a.R1)(c.cE)("users.manage_roles")?((0,n.uX)(),(0,n.Wv)(i,{key:1,command:{action:"manage_roles",user:e}},{default:(0,n.k6)((()=>[(0,n.eW)("Manage Roles")])),_:2},1032,["command"])):(0,n.Q3)("",!0)])),_:2},1024)])),default:(0,n.k6)((()=>[(0,n.bF)(o,{plain:"",type:"primary",size:"small"},{default:(0,n.k6)((()=>[(0,n.eW)(" Actions"),(0,n.bF)(f,{class:"el-icon--right"},{default:(0,n.k6)((()=>[(0,n.bF)((0,a.R1)(s.yd$))])),_:1})])),_:1})])),_:2},1024))])])))),128)):((0,n.uX)(),(0,n.CE)("tr",I,W))])])])):(0,n.Q3)("",!0)])),[[Y,Z.value]])])]),(0,n.bF)(M,{modelValue:F.value,"onUpdate:modelValue":u[3]||(u[3]=e=>F.value=e),width:"40%",title:"Invite users",fullscreen:(0,a.R1)(c.Qv)},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("form",{onSubmit:(0,r.D$)(K,["prevent"])},[(0,n.bF)(H,null,{default:(0,n.k6)((()=>[(0,n.eW)("Email")])),_:1}),(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control",placeholder:"Enter email to invite here","onUpdate:modelValue":u[1]||(u[1]=e=>w.value=e),required:""},null,512),[[r.Jo,w.value]]),S,(0,n.bF)(H,null,{default:(0,n.k6)((()=>[(0,n.eW)("Role")])),_:1}),X,(0,n.bF)(J,{modelValue:O.value,"onUpdate:modelValue":u[2]||(u[2]=e=>O.value=e),placeholder:"Select a role for the invited user",size:"large",filterable:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(V.value.filter((e=>"super_admin"!=e.name)),(e=>((0,n.uX)(),(0,n.Wv)($,{key:"user-invite-role-picker-"+e.id,label:(0,a.R1)(v.A)(e.name),value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),j,(0,n.Lk)("div",N,[(0,n.bF)(o,{"native-type":"submit",type:"primary",disabled:!w.value.length||!O.value},{default:(0,n.k6)((()=>[(0,n.eW)("Invite User")])),_:1},8,["disabled"])])],32)])),[[Y,l.value]])])),_:1},8,["modelValue","fullscreen"])],64)}}};const O=w;var T=O},5015:function(e,u,l){function n(e,u,l,n){var a=-1,t=null==e?0:e.length;n&&t&&(l=e[++a]);while(++a<t)l=u(l,e[a],a,e);return l}l.d(u,{A:function(){return iu}});var a=n;function t(e){return function(u){return null==e?void 0:e[u]}}var r=t,d={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},o=r(d),f=o,i=l(49),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",m="\\u20d0-\\u20ff",k=c+v+m,b="["+k+"]",p=RegExp(b,"g");function g(e){return e=(0,i.A)(e),e&&e.replace(s,f).replace(p,"")}var h=g,x=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function E(e){return e.match(x)||[]}var L=E,_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function R(e){return _.test(e)}var A=R,y="\\ud800-\\udfff",U="\\u0300-\\u036f",C="\\ufe20-\\ufe2f",I="\\u20d0-\\u20ff",F=U+C+I,W="\\u2700-\\u27bf",z="a-z\\xdf-\\xf6\\xf8-\\xff",S="\\xac\\xb1\\xd7\\xf7",X="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",j="\\u2000-\\u206f",N=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",w="A-Z\\xc0-\\xd6\\xd8-\\xde",O="\\ufe0e\\ufe0f",T=S+X+j+N,V="['’]",Z="["+T+"]",K="["+F+"]",D="\\d+",Q="["+W+"]",G="["+z+"]",H="[^"+y+T+D+W+z+w+"]",$="\\ud83c[\\udffb-\\udfff]",J="(?:"+K+"|"+$+")",M="[^"+y+"]",Y="(?:\\ud83c[\\udde6-\\uddff]){2}",P="[\\ud800-\\udbff][\\udc00-\\udfff]",q="["+w+"]",B="\\u200d",ee="(?:"+G+"|"+H+")",ue="(?:"+q+"|"+H+")",le="(?:"+V+"(?:d|ll|m|re|s|t|ve))?",ne="(?:"+V+"(?:D|LL|M|RE|S|T|VE))?",ae=J+"?",te="["+O+"]?",re="(?:"+B+"(?:"+[M,Y,P].join("|")+")"+te+ae+")*",de="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fe=te+ae+re,ie="(?:"+[Q,Y,P].join("|")+")"+fe,se=RegExp([q+"?"+G+"+"+le+"(?="+[Z,q,"$"].join("|")+")",ue+"+"+ne+"(?="+[Z,q+ee,"$"].join("|")+")",q+"?"+ee+"+"+le,q+"+"+ne,oe,de,D,ie].join("|"),"g");function ce(e){return e.match(se)||[]}var ve=ce;function me(e,u,l){return e=(0,i.A)(e),u=l?void 0:u,void 0===u?A(e)?ve(e):L(e):e.match(u)||[]}var ke=me,be="['’]",pe=RegExp(be,"g");function ge(e){return function(u){return a(ke(h(u).replace(pe,"")),e,"")}}var he=ge,xe=l(6497);function Ee(e,u,l){var n=e.length;return l=void 0===l?n:l,!u&&l>=n?e:(0,xe.A)(e,u,l)}var Le=Ee,_e="\\ud800-\\udfff",Re="\\u0300-\\u036f",Ae="\\ufe20-\\ufe2f",ye="\\u20d0-\\u20ff",Ue=Re+Ae+ye,Ce="\\ufe0e\\ufe0f",Ie="\\u200d",Fe=RegExp("["+Ie+_e+Ue+Ce+"]");function We(e){return Fe.test(e)}var ze=We;function Se(e){return e.split("")}var Xe=Se,je="\\ud800-\\udfff",Ne="\\u0300-\\u036f",we="\\ufe20-\\ufe2f",Oe="\\u20d0-\\u20ff",Te=Ne+we+Oe,Ve="\\ufe0e\\ufe0f",Ze="["+je+"]",Ke="["+Te+"]",De="\\ud83c[\\udffb-\\udfff]",Qe="(?:"+Ke+"|"+De+")",Ge="[^"+je+"]",He="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",Je="\\u200d",Me=Qe+"?",Ye="["+Ve+"]?",Pe="(?:"+Je+"(?:"+[Ge,He,$e].join("|")+")"+Ye+Me+")*",qe=Ye+Me+Pe,Be="(?:"+[Ge+Ke+"?",Ke,He,$e,Ze].join("|")+")",eu=RegExp(De+"(?="+De+")|"+Be+qe,"g");function uu(e){return e.match(eu)||[]}var lu=uu;function nu(e){return ze(e)?lu(e):Xe(e)}var au=nu;function tu(e){return function(u){u=(0,i.A)(u);var l=ze(u)?au(u):void 0,n=l?l[0]:u.charAt(0),a=l?Le(l,1).join(""):u.slice(1);return n[e]()+a}}var ru=tu,du=ru("toUpperCase"),ou=du,fu=he((function(e,u,l){return e+(l?" ":"")+ou(u)})),iu=fu}}]);
//# sourceMappingURL=28.js.map