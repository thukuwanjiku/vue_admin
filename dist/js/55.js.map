{"version":3,"file":"js/55.js","mappings":"8iEAeA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,IAAUC,EAAAA,EAAAA,IAAI,CAChBC,KAAK,GACLC,YAAY,GACZC,aAAa,GACbC,cAAc,GACdC,MAAM,GACNC,MAAM,KAGV,IAAIC,IAAaP,EAAAA,EAAAA,IAAI,MACrB,MAAMQ,IAAYR,EAAAA,EAAAA,KAAI,GACtB,IAAIS,IAAmBT,EAAAA,EAAAA,IAAI,MAiB3B,SAASU,GAAcC,GACnBJ,GAAWK,MAAQD,EAAME,OAAOC,MAAM,EAC1C,CACA,SAASC,KAEL,IAAIT,EAAQG,GAAiBO,kBAC7B,IAAIV,IAAUA,EAAMW,WAAWC,QAAmB,WAATZ,EACrC,OAAOa,EAAEC,MAAMC,QAAQ,CAACC,QAAS,mCAKrC,GAHAvB,GAAQa,MAAM,SAAWN,GAGrBP,GAAQa,MAAMR,gBAAkBL,GAAQa,MAAMR,cAAca,WAAWC,OACvE,OAAOC,EAAEC,MAAMC,QAAQ,CAACC,QAAS,+BAIrC,IAAIC,EAAU,IAAIC,SAElBC,OAAOC,KAAK3B,GAAQa,OACXe,SAAQC,IACL,IAAIhB,EAAQb,GAAQa,MAAMgB,GAChB,iBAAPA,IAAwBhB,EAAQA,EAAMK,WAAWY,WAAW,IAAK,KACpEN,EAAQO,OAAOF,EAAKhB,EAAM,IAItCW,EAAQO,OAAO,eAAgBvB,GAAWK,OAG1CJ,GAAUI,OAAQ,EAGlBmB,EAAAA,EAAIC,KAAKC,EAAAA,GAAUC,2BAA4BX,GACtCY,MAAKC,IAEFjB,EAAEC,MAAMiB,OAAO,CAACf,QAASc,EAASE,KAAKhB,UAGvC,IAAIiB,EAAYC,KAAKC,MAAMD,KAAKE,UAAU7C,EAAM8C,MAAMC,QAAQL,YAE9DA,EAAUM,QAAQT,EAASE,KAAKA,MAEhCzC,EAAMiD,OAAO,yCAA0CP,GAGvD/B,GAAUI,OAAQ,EAGlBjB,EAAOoD,MAAM,IAEhBC,OAAMC,GAASzC,GAAUI,OAAQ,GAC9C,C,OA/DAsC,EAAAA,EAAAA,KAAU,KACNzC,GAAmB,IAAI0C,MAAM,yBAA0B,CACnDC,MAAO,OACPC,YAAa,4BACf,I,qzDCpCN,MAAMC,GAAc,GAEpB,S","sources":["webpack://myzola-admin/./src/views/explore/companies/listed/Add.vue","webpack://myzola-admin/./src/views/explore/companies/listed/Add.vue?91a4"],"sourcesContent":["<script setup>\r\n\r\nimport {useRouter} from \"vue-router\";\r\nimport {onMounted, ref} from \"vue\";\r\nimport api from \"@/services/api\";\r\nimport {apiRoutes} from \"@/services/apiRoutes\";\r\nimport {useStore} from \"vuex\";\r\nimport BackButton from \"@/components/BackButton.vue\";\r\nimport { VueTelInput } from 'vue-tel-input';\r\nimport 'vue-tel-input/vue-tel-input.css';\r\n\r\n/* ------------------------------\r\n* Variables & Properties\r\n* ------------------------------\r\n* */\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst company = ref({\r\n    name:\"\",\r\n    description:\"\",\r\n    contact_name:\"\",\r\n    contact_phone:\"\",\r\n    email:\"\",\r\n    about:\"\"\r\n});\r\n\r\nlet logoUpload = ref(null);\r\nconst isLoading = ref(false);\r\nlet aboutQuillEditor = ref(null);\r\n\r\n/* ------------------------------\r\n* Lifecycle Hooks\r\n* ------------------------------\r\n* */\r\nonMounted(()=>{\r\n    aboutQuillEditor = new Quill('#addCompanyAboutEditor', {\r\n        theme: 'snow',\r\n        placeholder: 'Enter company about here'\r\n    });\r\n});\r\n\r\n/* ------------------------------\r\n* Methods & functions\r\n* ------------------------------\r\n* */\r\nfunction processUpload(event){\r\n    logoUpload.value = event.target.files[0];\r\n}\r\nfunction submit(){\r\n    //validate that company about is provided\r\n    let about = aboutQuillEditor.getSemanticHTML();\r\n    if(!about || !about.toString().length || about == \"<p></p>\") {\r\n        return $.growl.warning({message: \"Please enter the company's bio\"})\r\n    }\r\n    company.value['about'] = about;\r\n\r\n    //validate that phone number is entered\r\n    if(!company.value.contact_phone || !company.value.contact_phone.toString().length) {\r\n        return $.growl.warning({message: \"Please enter contact phone\"})\r\n    }\r\n\r\n    //prepare request payload\r\n    let payload = new FormData();\r\n    //add all company details to the form data\r\n    Object.keys(company.value)\r\n            .forEach(key => {\r\n                let value = company.value[key];\r\n                if(key == 'contact_phone') value = value.toString().replaceAll(\" \", \"\");\r\n                payload.append(key, value)\r\n            });\r\n\r\n    //add logo to payload\r\n    payload.append('company_logo', logoUpload.value);\r\n\r\n    //SHOW LOADER\r\n    isLoading.value = true;\r\n\r\n    //make api call\r\n    api.post(apiRoutes.ADD_EXPLORE_LISTED_COMPANY, payload)\r\n            .then(response => {\r\n                //show success response\r\n                $.growl.notice({message: response.data.message});\r\n\r\n                //get a copy of current companies list\r\n                let companies = JSON.parse(JSON.stringify(store.state.explore.companies));\r\n                //add the new company to the copy\r\n                companies.unshift(response.data.data);\r\n                //overwrite the vuex companies list with the updated copy\r\n                store.commit('explore/STORE_EXPLORE_LISTED_COMPANIES', companies)\r\n\r\n                //DISMISS LOADER\r\n                isLoading.value = false;\r\n\r\n                //navigate back to companies list\r\n                router.back();\r\n            })\r\n            .catch(error => isLoading.value = false);\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n\r\n    <div class=\"col-sm-12\">\r\n        <back-button></back-button>\r\n    </div>\r\n\r\n    <br>\r\n\r\n    <form @submit.prevent=\"submit\" v-loading=\"isLoading\">\r\n        <h6 class=\"text-muted fw-bold\">Company Details</h6>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"form-floating\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"companyName\"\r\n                           placeholder=\"Company Name\" v-model=\"company.name\" required>\r\n                    <label for=\"companyName\">Company Name</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-1\">&nbsp;</div>\r\n            <div class=\"col-md-5\">\r\n                <div class=\"form-floating\">\r\n                    <input type=\"file\" class=\"form-control\" id=\"companyLogo\" @change=\"processUpload\" required>\r\n                    <label for=\"companyLogo\">Logo</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"form-floating\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"companyTagline\"\r\n                           placeholder=\"Tagline\" v-model=\"company.description\" required>\r\n                    <label for=\"companyTagline\">Tagline</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-1\">&nbsp;</div>\r\n            <div class=\"col-md-5\">\r\n                <h6>Social Media Handles</h6>\r\n                <small class=\"text-muted\">\r\n                    {-- Company social handles will be added here --}\r\n                </small>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <h6>Company's Bio (About)</h6>\r\n\r\n                <!-- Quill Editor Default -->\r\n                <div id=\"addCompanyAboutEditor\" class=\"quill-editor-default\">\r\n                </div>\r\n                <!-- End Quill Editor Default -->\r\n            </div>\r\n        </div>\r\n\r\n        <br><br><br><br><br><br>\r\n\r\n        <h6 class=\"text-muted fw-bold\">Contact Details</h6>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"form-floating\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"companyContactPerson\"\r\n                           placeholder=\"Company Person\" v-model=\"company.contact_name\" required>\r\n                    <label for=\"companyContactPerson\">Contact Person</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-1\">&nbsp;</div>\r\n            <div class=\"col-md-5\">\r\n                <small class=\"text-muted\">Contact Phone</small>\r\n                <vue-tel-input\r\n                        v-model=\"company.contact_phone\"\r\n                        mode=\"international\"></vue-tel-input>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-5\">\r\n                <div class=\"form-floating\">\r\n                    <input type=\"email\" class=\"form-control\" id=\"companyContactEmail\"\r\n                           placeholder=\"Email\" v-model=\"company.email\" required>\r\n                    <label for=\"companyContactEmail\">Email</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-1\">&nbsp;</div>\r\n        </div>\r\n\r\n        <hr>\r\n        <div class=\"modal-footer\">\r\n            <button class=\"btn btn-primary\" type=\"submit\">Submit</button>\r\n            &nbsp;\r\n            <button @click=\"router.back()\" class=\"btn btn-secondary\" type=\"button\">Cancel</button>\r\n        </div>\r\n    </form>\r\n\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./Add.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Add.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","store","useStore","company","ref","name","description","contact_name","contact_phone","email","about","logoUpload","isLoading","aboutQuillEditor","processUpload","event","value","target","files","submit","getSemanticHTML","toString","length","$","growl","warning","message","payload","FormData","Object","keys","forEach","key","replaceAll","append","api","post","apiRoutes","ADD_EXPLORE_LISTED_COMPANY","then","response","notice","data","companies","JSON","parse","stringify","state","explore","unshift","commit","back","catch","error","onMounted","Quill","theme","placeholder","__exports__"],"sourceRoot":""}