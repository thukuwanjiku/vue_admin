"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[590],{2653:function(e,t,s){s.d(t,{A:function(){return k}});var l=s(6768);const a={class:"alert alert-danger alert-dismissible fade show",role:"alert"},n=(0,l.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),i=(0,l.Lk)("hr",null,null,-1),u=(0,l.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),r=[n,i,u];function c(e,t){return(0,l.uX)(),(0,l.CE)("div",a,r)}var o=s(1241);const m={},_=(0,o.A)(m,[["render",c]]);var k=_},8590:function(e,t,s){s.r(t),s.d(t,{default:function(){return dt}});s(4114);var l=s(6768),a=s(144),n=s(4232),i=s(4300),u=s(7190),r=s(782),c=s(1387),o=s(2933),m=s(7477),_=s(7021),k=s(2653);const d=e=>((0,l.Qi)("data-v-7348c39c"),e=e(),(0,l.jt)(),e),b={class:"row p-2"},v={key:0,class:"col-sm-12 d-flex m-b-10"},p=d((()=>(0,l.Lk)("br",null,null,-1))),h={key:1,class:"table-responsive"},f={class:"table table-hover"},L=d((()=>(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Logo"),(0,l.Lk)("th",null,"Business Name"),(0,l.Lk)("th",null,"Business Type"),(0,l.Lk)("th",null,"Business Address"),(0,l.Lk)("th",null,"Business Contact"),(0,l.Lk)("th",null,"Contact Person"),(0,l.Lk)("th",null,"Status"),(0,l.Lk)("th",null,"Actions")])],-1))),y=["onClick"],g=["src","alt"],C=d((()=>(0,l.Lk)("br",null,null,-1))),E=["onClick"],w={class:"text-center"},x=d((()=>(0,l.Lk)("br",null,null,-1))),X=["onClick"],A={class:"text-center"},N=d((()=>(0,l.Lk)("br",null,null,-1))),T=["onClick"],R={class:"text-center"},I=d((()=>(0,l.Lk)("br",null,null,-1))),W=["onClick"],S=d((()=>(0,l.Lk)("br",null,null,-1))),P=["href"],Q=["onClick"],D=d((()=>(0,l.Lk)("br",null,null,-1))),M=["href"],F={key:1},B={key:1},O=d((()=>(0,l.Lk)("td",{colspan:"8",class:"text-center p-3"},"No data",-1))),H=[O],V={key:2},j={class:"container"},K={class:"text-center mb-4"},Y={class:"h4 fw-bold mb-0"},J={class:"text-muted"},U={class:"mb-0"},z=["href"],G={class:"text-secondary"},q={class:"border-top pt-3 mb-4"},Z=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Description",-1))),ee=["innerHTML"],te={key:1,class:"text-muted"},se={class:"row border-top pt-3 mb-4"},le={class:"col-md-6"},ae=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Company Contact",-1))),ne={class:"list-unstyled"},ie=d((()=>(0,l.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),ue=["href"],re=d((()=>(0,l.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),ce=d((()=>(0,l.Lk)("i",{class:"bi bi-geo-alt-fill text-muted me-2"},null,-1))),oe={class:"col-md-6"},me=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Contact Person",-1))),_e={class:"list-unstyled"},ke=d((()=>(0,l.Lk)("i",{class:"bi bi-person-fill text-muted me-2"},null,-1))),de=d((()=>(0,l.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),be=["href"],ve=d((()=>(0,l.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),pe={class:"row border-top pt-3 mb-4"},he={class:"col-md-6"},fe=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Bank Details",-1))),Le={class:"list-unstyled"},ye=d((()=>(0,l.Lk)("br",null,null,-1))),ge=d((()=>(0,l.Lk)("br",null,null,-1))),Ce={class:"col-md-6"},Ee=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Company Documents",-1))),we={class:"list-unstyled"},xe={key:0},Xe=["href"],Ae={key:1},Ne=["href"],Te={key:2},Re=["href"],Ie={key:3},We=["href"],Se={key:4},Pe=["href"],Qe={key:5},De=["href"],Me={key:0,class:"border-top pt-3 mb-4"},Fe=d((()=>(0,l.Lk)("h6",{class:"fw-bold"},"Directors",-1))),Be={class:"table table-bordered table-hover text-center"},Oe=d((()=>(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Phone"),(0,l.Lk)("th",null,"ID Document"),(0,l.Lk)("th",null,"KRA PIN Document")])],-1))),He=["href"],Ve=["href"],je={key:1,class:"border-top pt-3 mb-4"},Ke={class:"d-flex justify-content-center gap-3"},Ye=["href"],Je=d((()=>(0,l.Lk)("i",{class:"bi bi-linkedin fs-5"},null,-1))),Ue=[Je],$e=["href"],ze=d((()=>(0,l.Lk)("i",{class:"bi bi-twitter fs-5"},null,-1))),Ge=[ze],qe=["href"],Ze=d((()=>(0,l.Lk)("i",{class:"bi bi-facebook fs-5"},null,-1))),et=[Ze],tt=["href"],st=d((()=>(0,l.Lk)("i",{class:"bi bi-instagram fs-5"},null,-1))),lt=[st],at=["href"],nt=d((()=>(0,l.Lk)("i",{class:"bi bi-youtube fs-5"},null,-1))),it=[nt],ut=["href"],rt=d((()=>(0,l.Lk)("i",{class:"bi bi-tiktok fs-5"},null,-1))),ct=[rt],ot={class:"text-end"};var mt={__name:"List",setup(e){const t=(0,r.Pj)(),s=(0,c.rd)(),d=(0,a.KR)(!1),O=(0,a.KR)(null);let Je=(0,l.EW)({get:()=>t.state.investmentHub.companies,set:e=>t.commit("investmentHub/STORE_LISTED_COMPANIES",e)}),ze=(0,l.EW)({get:()=>t.state.investmentHub.isFetchingCompanies,set:e=>t.commit("investmentHub/SET_IS_FETCHING_COMPANIES",e)});function Ze(e){switch(e.action){case"view":return st(e.company);case"edit":return nt(e.company);case"approve":return rt(e.company);case"reject":return mt(e.company);case"archive":return _t(e.company);case"delete":return dt(e.company)}}function st(e){if((0,_.cE)("investment_hub.companies.view"))return O.value=JSON.parse(JSON.stringify(e)),d.value=!0}function nt(e){(0,_.cE)("investment_hub.companies.edit")&&(t.commit("investmentHub/SET_EDIT_COMPANY",JSON.parse(JSON.stringify(e))),s.push({name:"investment_hub.companies.edit"}))}function rt(e){ze.value=!0,i.A.post(u.pe.APPROVE_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>ze.value=!1))}function mt(e){ze.value=!0,i.A.post(u.pe.REJECT_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>ze.value=!1))}function _t(e){(0,_.cE)("investment_hub.companies.archive")&&o.s.prompt("Sure you want to archive this company?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:t})=>{let s={id:e.id,reason:t};kt(s)})).catch((()=>{}))}function kt(e){ze.value=!0,i.A.post(u.pe.ARCHIVE_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),(0,_.Y0)(),$.growl.notice({message:e.data.message})})).catch((e=>ze.value=!1))}function dt(e){(0,_.cE)("investment_hub.companies.delete")&&o.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let t={id:e.id};bt(t)})).catch((()=>{}))}function bt(e){ze.value=!0,i.A.post(u.pe.DELETE_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>ze.value=!1))}return(0,l.sV)((()=>{(0,_.cE)("investment_hub.companies.view")&&!Je.value.length&&(0,_.yM)()})),(e,t)=>{const i=(0,l.g2)("el-button"),u=(0,l.g2)("el-icon"),r=(0,l.g2)("el-dropdown-item"),c=(0,l.g2)("el-dropdown-menu"),o=(0,l.g2)("el-dropdown"),$=(0,l.g2)("el-dialog"),nt=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",b,[(0,a.R1)(_.cE)("investment_hub.companies.add")?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(i,{onClick:t[0]||(t[0]=e=>(0,a.R1)(s).push({name:"investment_hub.companies.add"})),type:"primary",icon:(0,a.R1)(m.FWt),plain:""},{default:(0,l.k6)((()=>[(0,l.eW)("Add Company")])),_:1},8,["icon"])])):(0,l.Q3)("",!0),p,(0,a.R1)(_.cE)("investment_hub.companies.view")?((0,l.uX)(),(0,l.CE)("div",h,[(0,l.Lk)("table",f,[L,(0,l.Lk)("tbody",null,[(0,a.R1)(Je).length?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)((0,a.R1)(Je),((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:"investment_hub-companies-"+t,style:{cursor:"pointer"}},[(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("img",{class:"table-img",src:e.logo_url,alt:e.business_name+"'s logo"},null,8,g),C,(0,l.Lk)("small",null,(0,n.v_)(e.reference),1)],8,y),(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("span",w,(0,n.v_)(e.business_name),1),x,(0,l.Lk)("small",null,(0,n.v_)(e.business_tagline),1)],8,E),(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("span",A,(0,n.v_)(e.business_type),1),N,(0,l.Lk)("small",null,(0,n.v_)(e.business_industry.name),1)],8,X),(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("span",R,(0,n.v_)(e.business_country.name),1),I,(0,l.Lk)("small",null,(0,n.v_)(e.business_address.formatted_address),1)],8,T),(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("span",null,(0,n.v_)(e.business_website),1),S,(0,l.Lk)("small",null,[(0,l.eW)((0,n.v_)(e.business_phone_number)+" | ",1),(0,l.Lk)("a",{href:"mailto:"+e.business_email},(0,n.v_)(e.business_email),9,P)])],8,W),(0,l.Lk)("td",{onClick:t=>st(e)},[(0,l.Lk)("span",null,(0,n.v_)(e.partner_contact_person.formatted_name),1),D,(0,l.Lk)("small",null,[(0,l.eW)((0,n.v_)(e.partner_contact_person.user.phone_number)+" | ",1),(0,l.Lk)("a",{href:"mailto:"+e.partner_contact_person.user.email},(0,n.v_)(e.partner_contact_person.user.email),9,M)])],8,Q),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)({"badge bg-warning":"pending"===e.status,"badge bg-success":"approved"===e.status,"badge bg-danger":"rejected"===e.status})},(0,n.v_)(e.status),3)]),(0,l.Lk)("td",null,[(0,l.bF)(o,{trigger:"click",onCommand:Ze},{dropdown:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,a.R1)(_.cE)("investment_hub.companies.view")?((0,l.uX)(),(0,l.Wv)(r,{key:0,command:{action:"view",company:e}},{default:(0,l.k6)((()=>[(0,l.eW)("View")])),_:2},1032,["command"])):(0,l.Q3)("",!0),"pending"===e.status?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.bF)(r,{command:{action:"approve",company:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Approve")])),_:2},1032,["command"]),(0,l.bF)(r,{command:{action:"reject",company:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Reject")])),_:2},1032,["command"])])):(0,l.Q3)("",!0),(0,a.R1)(_.cE)("investment_hub.companies.archive")?((0,l.uX)(),(0,l.Wv)(r,{key:2,command:{action:"archive",company:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Archive")])),_:2},1032,["command"])):(0,l.Q3)("",!0),(0,a.R1)(_.cE)("investment_hub.companies.delete")?((0,l.uX)(),(0,l.Wv)(r,{key:3,command:{action:"delete",company:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Delete")])),_:2},1032,["command"])):(0,l.Q3)("",!0)])),_:2},1024)])),default:(0,l.k6)((()=>[(0,l.bF)(i,{plain:"",type:"primary",size:"small",disabled:!(0,a.R1)(_.oE)(["investment_hub.companies.view","investment_hub.companies.edit","investment_hub.companies.archive","investment_hub.companies.delete"])},{default:(0,l.k6)((()=>[(0,l.eW)(" Actions"),(0,l.bF)(u,{class:"el-icon--right"},{default:(0,l.k6)((()=>[(0,l.bF)((0,a.R1)(m.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,l.uX)(),(0,l.CE)("tr",B,H))])])])):((0,l.uX)(),(0,l.CE)("div",V,[(0,l.bF)(k.A)]))])),[[nt,(0,a.R1)(ze)]]),O.value?((0,l.uX)(),(0,l.Wv)($,{key:0,modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),width:"70%",class:"view-company-modal"},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",ot,[(0,l.Lk)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=e=>d.value=!1)},"Close")])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",j,[(0,l.Lk)("div",K,[(0,l.Lk)("h3",Y,(0,n.v_)(O.value.business_name),1),(0,l.Lk)("p",J,(0,n.v_)(O.value.business_tagline),1),(0,l.Lk)("p",U,[(0,l.Lk)("a",{href:O.value.business_website,target:"_blank",class:"text-primary"},(0,n.v_)(O.value.business_website),9,z)]),(0,l.Lk)("p",G,(0,n.v_)(O.value.business_type)+" | "+(0,n.v_)(O.value.business_industry.name),1)]),(0,l.Lk)("div",q,[Z,O.value.bio?((0,l.uX)(),(0,l.CE)("p",{key:0,innerHTML:O.value.bio},null,8,ee)):((0,l.uX)(),(0,l.CE)("p",te,"No description available."))]),(0,l.Lk)("div",se,[(0,l.Lk)("div",le,[ae,(0,l.Lk)("ul",ne,[(0,l.Lk)("li",null,[ie,(0,l.Lk)("a",{href:"mailto:"+O.value.business_email,class:"text-primary"},(0,n.v_)(O.value.business_email),9,ue)]),(0,l.Lk)("li",null,[re,(0,l.eW)(" "+(0,n.v_)(O.value.business_phone_number),1)]),(0,l.Lk)("li",null,[ce,(0,l.eW)(" "+(0,n.v_)(O.value.business_address.formatted_address),1)])])]),(0,l.Lk)("div",oe,[me,(0,l.Lk)("ul",_e,[(0,l.Lk)("li",null,[ke,(0,l.eW)(" "+(0,n.v_)(O.value.partner_contact_person.formatted_name),1)]),(0,l.Lk)("li",null,[de,(0,l.Lk)("a",{href:"mailto:"+O.value.partner_contact_person.user.email,class:"text-primary"},(0,n.v_)(O.value.partner_contact_person.user.email),9,be)]),(0,l.Lk)("li",null,[ve,(0,l.eW)(" "+(0,n.v_)(O.value.partner_contact_person.user.phone_number),1)])])])]),(0,l.Lk)("div",pe,[(0,l.Lk)("div",he,[fe,(0,l.Lk)("ul",Le,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.value.banks,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},[(0,l.Lk)("strong",null,(0,n.v_)(e.bank_name),1),(0,l.eW)(" ("+(0,n.v_)(e.bank_branch)+")",1),ye,(0,l.eW)(" Account Name: "+(0,n.v_)(e.bank_account_name),1),ge,(0,l.eW)(" Account Number: "+(0,n.v_)(e.bank_account_number),1)])))),128))])]),(0,l.Lk)("div",Ce,[Ee,(0,l.Lk)("ul",we,[O.value.documents.business_registration_certificate_file_path?((0,l.uX)(),(0,l.CE)("li",xe,[(0,l.Lk)("a",{href:O.value.documents.business_registration_certificate_file_url,target:"_blank",class:"text-primary"}," Business Registration Certificate ",8,Xe)])):(0,l.Q3)("",!0),O.value.documents.company_kra_pin_certificate_file_path?((0,l.uX)(),(0,l.CE)("li",Ae,[(0,l.Lk)("a",{href:O.value.documents.company_kra_pin_certificate_file_url,target:"_blank",class:"text-primary"}," KRA PIN Certificate ",8,Ne)])):(0,l.Q3)("",!0),O.value.documents.business_permit_certificate_file_path?((0,l.uX)(),(0,l.CE)("li",Te,[(0,l.Lk)("a",{href:O.value.documents.business_permit_certificate_file_url,target:"_blank",class:"text-primary"}," Business Permit ",8,Re)])):(0,l.Q3)("",!0),O.value.documents.partnership_deed_file_path?((0,l.uX)(),(0,l.CE)("li",Ie,[(0,l.Lk)("a",{href:O.value.documents.partnership_deed_file_url,target:"_blank",class:"text-primary"}," Partnership Deed ",8,We)])):(0,l.Q3)("",!0),O.value.documents.partners_resolution_letter_file_path?((0,l.uX)(),(0,l.CE)("li",Se,[(0,l.Lk)("a",{href:O.value.documents.partners_resolution_letter_file_url,target:"_blank",class:"text-primary"}," Partners Resolution Letter ",8,Pe)])):(0,l.Q3)("",!0),O.value.documents.cr12_certificate_file_path?((0,l.uX)(),(0,l.CE)("li",Qe,[(0,l.Lk)("a",{href:O.value.documents.cr12_certificate_file_url,target:"_blank",class:"text-primary"}," CR12 Certificate ",8,De)])):(0,l.Q3)("",!0)])])]),O.value.directors.length?((0,l.uX)(),(0,l.CE)("div",Me,[Fe,(0,l.Lk)("table",Be,[Oe,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.value.directors,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)(e.first_name)+" "+(0,n.v_)(e.last_name),1),(0,l.Lk)("td",null,(0,n.v_)(e.email),1),(0,l.Lk)("td",null,(0,n.v_)(e.phone_number),1),(0,l.Lk)("td",null,[(0,l.Lk)("a",{href:e.id_file_url,target:"_blank",class:"text-primary"}," Download ",8,He)]),(0,l.Lk)("td",null,[(0,l.Lk)("a",{href:e.kra_pin_file_url,target:"_blank",class:"text-primary"}," Download ",8,Ve)])])))),128))])])])):(0,l.Q3)("",!0),Object.keys(O.value.business_socials).length?((0,l.uX)(),(0,l.CE)("div",je,[(0,l.Lk)("div",Ke,[O.value.business_socials.linkedin?((0,l.uX)(),(0,l.CE)("a",{key:0,href:O.value.business_socials.linkedin,target:"_blank",class:"text-primary"},Ue,8,Ye)):(0,l.Q3)("",!0),O.value.business_socials.twitter?((0,l.uX)(),(0,l.CE)("a",{key:1,href:O.value.business_socials.twitter,target:"_blank",class:"text-primary"},Ge,8,$e)):(0,l.Q3)("",!0),O.value.business_socials.facebook?((0,l.uX)(),(0,l.CE)("a",{key:2,href:O.value.business_socials.facebook,target:"_blank",class:"text-primary"},et,8,qe)):(0,l.Q3)("",!0),O.value.business_socials.instagram?((0,l.uX)(),(0,l.CE)("a",{key:3,href:O.value.business_socials.instagram,target:"_blank",class:"text-danger"},lt,8,tt)):(0,l.Q3)("",!0),O.value.business_socials.youtube?((0,l.uX)(),(0,l.CE)("a",{key:4,href:O.value.business_socials.youtube,target:"_blank",class:"text-danger"},it,8,at)):(0,l.Q3)("",!0),O.value.business_socials.tiktok?((0,l.uX)(),(0,l.CE)("a",{key:5,href:O.value.business_socials.tiktok,target:"_blank",class:"text-dark"},ct,8,ut)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])])),_:1},8,["modelValue"])):(0,l.Q3)("",!0)],64)}}},_t=s(1241);const kt=(0,_t.A)(mt,[["__scopeId","data-v-7348c39c"]]);var dt=kt}}]);
//# sourceMappingURL=590.js.map