"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[629],{1629:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(6768),o=a(5130),n=a(7871),s=a(144),r=a(6519),c=a(7190),u=a(1387),i=a(782);const m={class:"container-scroller"},d={class:"container-fluid page-body-wrapper full-page-wrapper"},p={class:"content-wrapper d-flex align-items-center auth px-0"},k={class:"row w-100 mx-0"},g={class:"col-lg-4 mx-auto"},h={class:"auth-form-light text-left py-5 px-4 px-sm-5"},f=(0,l.Lk)("div",{class:"brand-logo"},[(0,l.Lk)("img",{src:n,alt:"logo"})],-1),v=(0,l.Lk)("h4",{class:"font-weight-light"},"Sign in to continue.",-1),b={class:"form-group"},L={class:"form-group"},w=(0,l.Lk)("div",{class:"mt-3 d-grid gap-2"},[(0,l.Lk)("button",{type:"submit",class:"btn btn-block btn-lg font-weight-medium auth-form-btn mz-bg mz-bg-hover text-white"},"SIGN IN")],-1),x={class:"my-2 d-flex justify-content-between align-items-center"},S={class:"form-check"},y={class:"form-check-label text-muted"},_=(0,l.Lk)("a",{href:"#"},"Remember me",-1),R=(0,l.Lk)("i",{class:"input-helper"},null,-1),E=(0,l.Lk)("i",{class:"input-helper"},null,-1),N=(0,l.Lk)("a",{href:"#",class:"auth-link text-black"},"Forgot password?",-1);var T={__name:"Login",setup(e){const t=(0,u.rd)(),a=(0,i.Pj)(),n=(0,s.KR)(""),T=(0,s.KR)(""),U=(0,s.KR)(!1),C=(0,s.KR)(!1);function K(){C.value=!0,r.A.get(c.pe.SANCTUM_CSRF_TOKEN).then((e=>(console.log("Sanctum response",e),O()))).catch((e=>C.value=!1))}function O(){let e={email:n.value.trim(),password:T.value.trim()};r.A.post(c.pe.LOGIN,e).then((e=>{a.commit("auth/STORE_AUTH_TOKEN",e.data.token),a.commit("auth/STORE_AUTH_USER",e.data.user),U&&(localStorage.setItem("mz.admin",JSON.stringify(e.data.user)),localStorage.setItem("bearer_token",e.data.token)),C.value=!1,t.replace({name:"dashboard"})})).catch((e=>C.value=!1))}return(e,t)=>{const a=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("div",d,[(0,l.Lk)("div",p,[(0,l.Lk)("div",k,[(0,l.Lk)("div",g,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",h,[f,v,(0,l.Lk)("form",{onSubmit:(0,o.D$)(K,["prevent"]),class:"pt-3"},[(0,l.Lk)("div",b,[(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control form-control-lg",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),required:""},null,512),[[o.Jo,n.value]])]),(0,l.Lk)("div",L,[(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control form-control-lg",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>T.value=e),required:""},null,512),[[o.Jo,T.value]])]),w,(0,l.Lk)("div",x,[(0,l.Lk)("div",S,[(0,l.Lk)("label",y,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=e=>U.value=e)},null,512),[[o.lH,U.value]]),_,R,E])]),N])],32)])),[[a,C.value]])])])])])])}}};const U=T;var C=U}}]);
//# sourceMappingURL=629.js.map