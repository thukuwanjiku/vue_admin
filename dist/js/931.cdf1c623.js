"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[931],{8931:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});n(4114);var l=n(6768),a=n(144),o=n(4232),s=n(6519),i=n(7190),c=n(782),u=n(1387),r=n(2933);const d={class:"col-md-12 grid-margin stretch-card"},p={class:"card"},m={class:"card-body"},k=(0,l.Lk)("h4",{class:"card-title"},"Listed Companies",-1),L=(0,l.Lk)("i",{class:"fa fa-plus btn-icon-append"},null,-1),h={class:"table-responsive",style:{"margin-top":"10px"}},g={class:"table table-hover"},v=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Logo"),(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Desc"),(0,l.Lk)("th",null,"Contact Person"),(0,l.Lk)("th",null,"Actions")])],-1),b=["onClick"],y=["src","alt"],E=["onClick"],C=(0,l.Lk)("i",{class:"mdi mdi-eye"},null,-1),_=[C],f=["onClick"],x=(0,l.Lk)("i",{class:"mdi mdi-delete-forever"},null,-1),S=[x],O={key:1},P=(0,l.Lk)("td",{colspan:"5",class:"text-center"},"No data",-1),N=[P];var T={__name:"List",setup(e){const t=(0,c.Pj)(),n=(0,u.rd)(),C=(0,a.KR)(!1);let x=(0,l.EW)({get:()=>t.state.explore.companies,set:e=>t.commit("explore/STORE_EXPLORE_LISTED_COMPANIES",e)});function P(){x.value.length||(C.value=!0,s.A.get(i.p.GET_EXPLORE_LISTED_COMPANIES).then((e=>{x.value=e.data.data,C.value=!1})).catch((e=>C.value=!1)))}function T(e){return t.commit("explore/SET_VIEWED_COMPANY",JSON.parse(JSON.stringify(e))),n.push({name:"explore.companies.view",params:{name_slug:e.name.toString().replace(" ","-")}})}function w(e){r.s.prompt("Sure you want to delete this company?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:t})=>{let n={id:e.id,reason:t};A(n)})).catch((()=>{}))}function A(e){C.value=!0,s.A.post(i.p.DELETE_EXPLORE_LISTED_COMPANY,e).then((t=>{let n=JSON.parse(JSON.stringify(x.value)),l=n.findIndex((t=>t.id==e.id));l>-1&&(n.splice(l,1),x.value=n),$.growl.notice({message:t.data.message}),C.value=!1})).catch((e=>C.value=!1))}return(0,l.sV)((()=>{P()})),(e,t)=>{const n=(0,l.g2)("router-link"),s=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",m,[k,(0,l.bF)(n,{to:{name:"explore.companies.add"},class:"btn btn-outline-secondary btn-icon-text"},{default:(0,l.k6)((()=>[L,(0,l.eW)("  Add Company ")])),_:1}),(0,l.Lk)("div",h,[(0,l.Lk)("table",g,[v,(0,l.Lk)("tbody",null,[(0,a.R1)(x).length?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)((0,a.R1)(x),((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:"explore-companies-"+t,onClick:t=>T(e)},[(0,l.Lk)("td",null,[(0,l.Lk)("img",{style:{"max-height":"150px"},src:e.logo,alt:e.name+"'s logo"},null,8,y)]),(0,l.Lk)("td",null,(0,o.v_)(e.name),1),(0,l.Lk)("td",null,(0,o.v_)(e.description),1),(0,l.Lk)("td",null,(0,o.v_)(e.contact_name),1),(0,l.Lk)("td",null,[(0,l.Lk)("button",{type:"button",class:"btn btn-outline-secondary btn-rounded btn-icon",style:{"margin-right":"3px"},onClick:t=>T(e)},_,8,E),(0,l.Lk)("button",{type:"button",onClick:t=>w(e),class:"btn btn-danger btn-rounded btn-icon"},S,8,f)])],8,b)))),128)):((0,l.uX)(),(0,l.CE)("tr",O,N))])])])])])),[[s,C.value]])])}}};const w=T;var A=w}}]);
//# sourceMappingURL=931.cdf1c623.js.map