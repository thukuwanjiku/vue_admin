"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[935],{5992:function(e,l,a){a.d(l,{A:function(){return p}});var t=a(6768);const i={class:"alert alert-danger alert-dismissible fade show",role:"alert"},s=(0,t.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page.",-1),n=(0,t.Lk)("hr",null,null,-1),r=(0,t.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),o=[s,n,r];function c(e,l){return(0,t.uX)(),(0,t.CE)("div",i,o)}var u=a(1241);const d={},v=(0,u.A)(d,[["render",c]]);var p=v},9935:function(e,l,a){a.r(l),a.d(l,{default:function(){return Xe}});a(4114);var t=a(6768),i=a(144),s=a(1387),n=a(4232),r=a(5130),o=a(7190),c=a(4300),u=a(7477),d=a(7021),v=a(2933),p=a(782),k=a(5992);const b={class:"row"},m={key:0,class:"table-responsive m-t-10"},_={class:"table"},g=(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"ID"),(0,t.Lk)("th",null,"Title"),(0,t.Lk)("th",null,"Company"),(0,t.Lk)("th",null,"Times Reported"),(0,t.Lk)("th",null,"Details")])],-1),L=["onClick"],h=["onClick"],f=["onClick"],y=["onClick"],C={key:1},E=(0,t.Lk)("td",{colspan:"5",class:"text-center p-3"},"No data",-1),w=[E],x={key:1},R={class:"row",style:{"max-height":"95vh","overflow-y":"scroll"}},X={class:"col-md-12 d-flex justify-content-center flex-wrap p-t-15"},T={class:"p-2"},I={class:"m-0"},S={key:0,class:"col-md-12 d-flex justify-content-center flex-wrap"},Q={class:"p-2"},F={class:"m-0"},K={class:"fw-bold"},O={class:"m-0"},A={class:"fw-bold fs-16"},P={key:1,class:"col-md-12 d-flex justify-content-center flex-wrap p-t-10 p-b-10"},N={class:"col-md-5 col-sm-12 d-flex justify-content-between flex-wrap"},H=(0,t.Lk)("small",null,"Listing Company",-1),V={class:"m-0 fw-bold"},B=(0,t.Lk)("small",null,"Times Reported",-1),j={class:"m-0 fw-bold fs-25"},W={class:"col-md-12 d-flex align-items-center reviewer_details"},G=["src"],U={class:"m-l-8"},J={class:"fw-bold fs-12"},z=(0,t.Lk)("br",null,null,-1),D={class:"fs-12"},M=(0,t.Lk)("br",null,null,-1),Y={class:"fs-12"},q={class:"col-md-12 m-t-5 fs-12",style:{color:"#993455"}},Z={class:"col-md-12"},ee={class:"fs-11 text-italic"},le={key:2,class:"col-sm-12 reviews_pagination m-t-20"},ae={class:"pagination justify-content-center"},te=["onClick","innerHTML"],ie={key:3,class:"m-t-20 m-b-20 d-flex justify-content-end"};var se={__name:"ReportedListings",setup(e){const l=(0,p.Pj)(),a=(0,i.KR)(!1),s=(0,i.KR)(!1),E=(0,i.KR)(!1),se=(0,i.KR)([]),ne=(0,i.KR)({}),re=(0,i.KR)({}),oe=(0,i.KR)({}),ce=(0,i.KR)(null),ue=(0,i.KR)(null),de=(0,t.EW)((()=>ce.value&&re.value[ce.value]?re.value[ce.value]:[]));function ve(){a.value=!0,c.A.post(o.pe.EXPLORE_HUB_REPORTED_LISTINGS).then((e=>{se.value=e.data.data,a.value=!1})).catch((e=>a.value=!1))}function pe(e){(0,d.cE)("explore_hub.reported_listings.view")&&(ne.value=JSON.parse(JSON.stringify(e)),E.value=!0,ke())}function ke(e=null){e||(e=o.pe.EXPLORE_HUB_LISTING_REPORTS);let l={listing_id:ne.value.id};s.value=!0,c.A.post(e,l).then((e=>{oe.value=e.data.pagination.links,ce.value=e.data.pagination.current_page,ue.value=e.data.pagination.last_page,re.value[e.data.pagination.current_page]=e.data.data,s.value=!1})).catch((e=>s.value=!1))}function be(e){if(e.active)return;let l=parseInt(e.url.toString().split("page=")[1]);if(!re.value[l])return ke(e.url);ce.value=l;let a=JSON.parse(JSON.stringify(oe.value)).map((e=>(e.active=e.url&&e.label.length<2&&e.url.includes(`page=${l}`),e))).map((e=>(e.label.toLowerCase().includes("previous")&&(e.url=1==l?null:`${o.pe.EXPLORE_HUB_LISTING_REPORTS}?page=${ce.value-1}`),e.label.toLowerCase().includes("next")&&(e.url=l==ue.value?null:`${o.pe.EXPLORE_HUB_LISTING_REPORTS}?page=${ce.value+1}`),e)));oe.value=a}function me(){v.s.prompt("Sure you want to archive this listing?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={id:ne.value.id,reason:e};_e(l)})).catch((()=>{}))}function _e(e){s.value=!0,c.A.post(o.pe.EXPLORE_HUB_ARCHIVE_LISTING,e).then((e=>{$.growl.notice({message:e.data.message}),E.value=!1,ve(),l.commit("exploreHub/STORE_ACTIVE_LISTINGS",[]),s.value=!1})).catch((e=>s.value=!1))}return(0,t.sV)((()=>{ve()})),(e,l)=>{const o=(0,t.g2)("el-button"),c=(0,t.g2)("el-divider"),v=(0,t.g2)("el-dialog"),p=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",b,[(0,i.R1)(d.cE)("explore_hub.reported_listings.view")?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.Lk)("table",_,[g,(0,t.Lk)("tbody",null,[se.value.length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)(se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("tr",{key:"explore_hub-reported-listings-"+l,style:{cursor:"pointer"}},[(0,t.Lk)("td",{onClick:l=>pe(e)},(0,n.v_)(e.listing_id),9,L),(0,t.Lk)("td",{onClick:l=>pe(e)},(0,n.v_)(e.title),9,h),(0,t.Lk)("td",{onClick:l=>pe(e)},(0,n.v_)(e.company),9,f),(0,t.Lk)("td",{onClick:l=>pe(e)},(0,n.v_)(e.times_reported),9,y),(0,t.Lk)("td",null,[(0,t.bF)(o,{disabled:!(0,i.R1)(d.cE)("explore_hub.reported_listings.view"),onClick:l=>pe(e),type:"primary",size:"small",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("View")])),_:2},1032,["disabled","onClick"])])])))),128)):((0,t.uX)(),(0,t.CE)("tr",C,w))])])])):((0,t.uX)(),(0,t.CE)("div",x,[(0,t.bF)(k.A)]))])),[[p,a.value]]),ne.value?((0,t.uX)(),(0,t.Wv)(v,{key:0,modelValue:E.value,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e),width:"80%",top:"10px","close-on-click-modal":!1,fullscreen:(0,i.R1)(d.Qv),onClosed:l[1]||(l[1]=e=>re.value={})},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("div",X,[(0,t.Lk)("div",T,[(0,t.Lk)("small",null,"Listing "+(0,n.v_)(ne.value.listing_id),1),(0,t.Lk)("h3",I,(0,n.v_)(ne.value.title),1)])]),(0,i.R1)(d.Qv)?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",Q,[(0,t.Lk)("p",F,[(0,t.eW)(" Listing Company: "),(0,t.Lk)("span",K,(0,n.v_)(ne.value.company),1)]),(0,t.Lk)("p",O,[(0,t.eW)(" Times Reported: "),(0,t.Lk)("span",A,(0,n.v_)(ne.value.times_reported),1)])])])):(0,t.Q3)("",!0),(0,i.R1)(d.Qv)?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",P,[(0,t.Lk)("div",N,[(0,t.Lk)("div",null,[H,(0,t.Lk)("h6",V,(0,n.v_)(ne.value.company),1)]),(0,t.bF)(c,{direction:"vertical",style:{height:"40px"}}),(0,t.Lk)("div",null,[B,(0,t.Lk)("h6",j,(0,n.v_)(ne.value.times_reported),1)])])])),(0,t.bF)(c),(0,t.Lk)("div",{class:(0,n.C4)({"col-md-12 flex-wrap reviews":!0,"d-flex":!(0,i.R1)(d.Qv)})},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(de.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"page-reviews-"+e.id,class:"col-md-4 col-sm-12 review",style:{padding:"10px"}},[(0,t.Lk)("div",W,[(0,t.Lk)("img",{src:e.reporter.avatar},null,8,G),(0,t.Lk)("div",U,[(0,t.Lk)("h6",null,[(0,t.Lk)("small",null,[(0,t.Lk)("span",J,(0,n.v_)(e.reporter.name),1),z,(0,t.Lk)("span",D,(0,n.v_)(e.reporter.email),1),M,(0,t.Lk)("span",Y,(0,n.v_)(e.reporter.phone),1)])])])]),(0,t.Lk)("div",q,(0,n.v_)("other"==e.reason.toLowerCase()?e.description:e.reason),1),(0,t.Lk)("div",Z,[(0,t.Lk)("small",ee,(0,n.v_)(e.date),1)])])))),128))],2),oe.value.length>3?((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("ul",ae,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(oe.value,(e=>((0,t.uX)(),(0,t.CE)("li",{class:"page-item",key:"pagination-link-"+e.label},[(0,t.Lk)("a",{class:(0,n.C4)({"page-link":!0,disabled:!e.url,active:e.active}),href:"#",onClick:(0,r.D$)((l=>be(e)),["prevent"]),innerHTML:e.label},null,10,te)])))),128))])])):(0,t.Q3)("",!0),(0,i.R1)(d.cE)("explore_hub.listings.archive")?((0,t.uX)(),(0,t.CE)("div",ie,[(0,t.bF)(o,{onClick:me,icon:(0,i.R1)(u.azJ),type:"danger"},{default:(0,t.k6)((()=>[(0,t.eW)("Archive Listing")])),_:1},8,["icon"])])):(0,t.Q3)("",!0)])),[[p,s.value]])])),_:1},8,["modelValue","fullscreen"])):(0,t.Q3)("",!0)],64)}}};const ne=se;var re=ne;const oe={class:"pagetitle"},ce=(0,t.Lk)("h1",null,"Listings",-1),ue={class:"breadcrumb"},de={class:"breadcrumb-item"},ve=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),pe=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listings",-1),ke={class:"card"},be={class:"card-body"},me=(0,t.Lk)("br",null,null,-1),_e={class:"nav nav-tabs",id:"myTab",role:"tablist"},ge={key:0,class:"nav-item",role:"presentation"},Le={key:1,class:"nav-item",role:"presentation"},he={key:2,class:"nav-item",role:"presentation"},fe={class:"tab-content pt-2",id:"myTabContent"},ye={key:0,class:"tab-pane fade show active p-1",id:"explore_listings_active",role:"tabpanel","aria-labelledby":"home-tab"},Ce={key:1,class:"tab-pane fade",id:"explore_listings_reported",role:"tabpanel","aria-labelledby":"profile-tab"},Ee=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_listings_closed",role:"tabpanel","aria-labelledby":"profile-tab"}," Browse closed listings here ",-1),we={key:2,class:"tab-pane fade",id:"explore_listings_archived",role:"tabpanel","aria-labelledby":"contact-tab"};var xe={__name:"Main",setup(e){const l=(0,s.rd)();function a(e){switch(e){case"active":return l.push({name:"explore_hub.listings.active"});case"reviews":case"archived":return l.push({name:"explore_hub.listings.archived"})}}return(0,t.sV)((()=>{l.push({name:"explore_hub.listings.active"})})),(e,l)=>{const s=(0,t.g2)("router-link"),n=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",oe,[ce,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",ue,[(0,t.Lk)("li",de,[(0,t.bF)(s,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),ve,pe])])]),(0,t.Lk)("div",ke,[(0,t.Lk)("div",be,[me,(0,t.Lk)("ul",_e,[(0,i.R1)(d.oE)(["explore_hub.listings.view"])?((0,t.uX)(),(0,t.CE)("li",ge,[(0,t.Lk)("button",{class:"nav-link active",onClick:l[0]||(l[0]=e=>a("active")),"data-bs-toggle":"tab","data-bs-target":"#explore_listings_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Active")])):(0,t.Q3)("",!0),(0,i.R1)(d.oE)(["explore_hub.reported_listings.view"])?((0,t.uX)(),(0,t.CE)("li",Le,[(0,t.Lk)("button",{class:"nav-link",onClick:l[1]||(l[1]=e=>a("reported")),"data-bs-toggle":"tab","data-bs-target":"#explore_listings_reported",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Reported")])):(0,t.Q3)("",!0),(0,i.R1)(d.oE)(["explore_hub.archived_listings.view"])?((0,t.uX)(),(0,t.CE)("li",he,[(0,t.Lk)("button",{class:"nav-link",onClick:l[2]||(l[2]=e=>a("archived")),"data-bs-toggle":"tab","data-bs-target":"#explore_listings_archived",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",fe,[(0,i.R1)(d.oE)(["explore_hub.listings.view"])?((0,t.uX)(),(0,t.CE)("div",ye,[(0,t.bF)(n,{name:"explore_listings_active"})])):(0,t.Q3)("",!0),(0,i.R1)(d.oE)(["explore_hub.reported_listings.view"])?((0,t.uX)(),(0,t.CE)("div",Ce,[(0,t.bF)(re)])):(0,t.Q3)("",!0),Ee,(0,i.R1)(d.oE)(["explore_hub.archived_listings.view"])?((0,t.uX)(),(0,t.CE)("div",we,[(0,t.bF)(n,{name:"explore_listings_archived"})])):(0,t.Q3)("",!0)])])])],64)}}};const Re=xe;var Xe=Re}}]);
//# sourceMappingURL=935.js.map