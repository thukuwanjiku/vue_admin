"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[974],{7021:function(e,u,t){t.d(u,{DU:function(){return v},HC:function(){return d},Qv:function(){return r},RL:function(){return A},XM:function(){return f},cE:function(){return S},eX:function(){return s},fv:function(){return I},hU:function(){return _},k1:function(){return c},kN:function(){return E},ob:function(){return p},yM:function(){return m}});var n=t(4373),l=t(254),a=t(4300),i=t(7190);const o="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints",s=["instagram","facebook","whatsapp","linkedin","youtube","twitter"],r=window.innerWidth<=768;function c(){l.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!0),a.A.get(i.pe.GET_EXPLORE_LISTED_COMPANIES).then((e=>{l.A.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e.data.data),l.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>l.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)))}function d(){l.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),a.A.get(i.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{l.A.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),l.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>l.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)))}function m(){l.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!0),a.A.get(i.pe.GET_INVESTMENT_HUB_LISTED_COMPANIES).then((e=>{l.A.commit("investmentHub/STORE_LISTED_COMPANIES",e.data.data),l.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>l.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)))}function f(){l.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),a.A.get(i.pe.INVESTMENT_HUB_FETCH_LISTING_CATEGORIES).then((e=>{l.A.commit("investmentHub/STORE_LISTING_CATEGORIES",e.data.data),l.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>l.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)))}function E(){l.A.commit("auth/SET_IS_FETCHING_ROLES",!0),a.A.get(i.pe.LIST_ROLES).then((e=>{l.A.commit("auth/STORE_ROLES",e.data),l.A.commit("auth/SET_IS_FETCHING_ROLES",!1)})).catch((e=>l.A.commit("auth/SET_IS_FETCHING_ROLES",!1)))}function _(){l.A.commit("auth/SET_IS_FETCHING_USERS",!0),a.A.get(i.pe.LIST_USERS).then((e=>{l.A.commit("auth/STORE_USERS",e.data),l.A.commit("auth/SET_IS_FETCHING_USERS",!1)})).catch((e=>l.A.commit("auth/SET_IS_FETCHING_USERS",!1)))}function S(e){return l.A.getters["auth/isSuperAdmin"]||l.A.state.auth.permissions.includes(e)}function p(){n.A.get(o).then((e=>{const u=e.data,t=u.split("\n"),n=t.map((e=>{const u=e.split(" ");return u[0]}));l.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",n)}))}function v(e=12){let u="",t="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let n=0;n<e;n++)u+=t.charAt(Math.floor(Math.random()*t.length));return u}function A(e,u="",t=null){let n=parseInt(t)||0,l=(new Intl.NumberFormat).format(parseFloat(e).toFixed(n));return(u?u+" ":"")+l}function I(e,u=2){const t=e.trim().split(/\s+/),n=t.map((e=>e[0].toUpperCase()));return n.slice(0,u).join("")}},7676:function(e,u,t){t.d(u,{A:function(){return c}});var n=t(6768);const l={class:"f-w-600"},a=(0,n.Lk)("br",null,null,-1);function i(e,u){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("small",l,[(0,n.RG)(e.$slots,"default")]),a],64)}var o=t(1241);const s={},r=(0,o.A)(s,[["render",i]]);var c=r},4974:function(e,u,t){t.r(u),t.d(u,{default:function(){return Z}});var n=t(6768),l=t(144),a=t(4232),i=t(7021),o=t(5015),s=t(782),r=t(7676),c=t(1219),d=t(4300),m=t(7190);const f=e=>((0,n.Qi)("data-v-3316b6a0"),e=e(),(0,n.jt)(),e),E={class:"pagetitle"},_=f((()=>(0,n.Lk)("h1",null,"Role Permissions",-1))),S={class:"breadcrumb"},p={class:"breadcrumb-item"},v=f((()=>(0,n.Lk)("li",{class:"breadcrumb-item"},"Access Control",-1))),A=f((()=>(0,n.Lk)("li",{class:"breadcrumb-item active"},"Role Permissions",-1))),I={class:"card"},b={class:"card-body"},h=f((()=>(0,n.Lk)("br",null,null,-1))),T={key:0,class:"row p-2"},C={class:"row p-b-10"},k={class:"col-md-6 col-sm-12"},g={class:"d-flex align-items-center flex-wrap"},x={key:0,class:"row"},R={class:"m-0 text-center"},L={class:"row m-t-10"},O=f((()=>(0,n.Lk)("i",{class:"bx bx-shield-quarter"},null,-1))),N={class:"col-md-12"},H={class:"d-flex align-items-center"},G={class:"fw-bold m-0"},F=["onClick"],y=f((()=>(0,n.Lk)("small",null,"Check all",-1))),U=[y],M={key:0,class:"d-flex align-items-center"},X={class:"fw-bold m-0"},w=["onClick"],P=f((()=>(0,n.Lk)("small",null,"Check all",-1))),j=[P],z={class:"p-1 row m-l-10"},V={class:"col-md-12 d-flex justify-content-end"};var K={__name:"Permissions",setup(e){const u=(0,s.Pj)(),t=(0,l.KR)(!1),f=(0,l.KR)(null),y=(0,l.KR)({}),P=(0,l.KR)([]),K=(0,l.KR)([]),D=(0,n.EW)((()=>u.state.auth.roles));function W(){let e=D.value.find((e=>e.id==f.value));if(!e)return c.nk.warning("An error occurred, please reload the page and try again");y.value=JSON.parse(JSON.stringify(e)),Z()}function Z(){let e={role_id:y.value.id};t.value=!0,d.A.post(m.pe.GET_ROLE_PERMISSIONS,e).then((e=>{P.value=e.data.permissions,K.value=JSON.parse(JSON.stringify(e.data.permissions.map((e=>e.module)))),f.value=null,t.value=!1})).catch((e=>t.value=!1))}function Q(){let e=P.value.filter((e=>K.value.includes(e.module))).flatMap((e=>e.submodules.flatMap((e=>e.actions.map((e=>({name:e.name,has_permission:e.has_permission}))))))),u={role_id:y.value.id,permissions:e};t.value=!0,d.A.post(m.pe.SAVE_ROLE_PERMISSIONS,u).then((e=>{$.growl.notice({message:e.data.message}),t.value=!1})).catch((e=>t.value=!1))}return(0,n.sV)((()=>{(0,i.cE)("roles.list")&&!D.value.length&&(0,i.kN)()})),(e,u)=>{const s=(0,n.g2)("router-link"),c=(0,n.g2)("el-option"),d=(0,n.g2)("el-select"),m=(0,n.g2)("el-button"),Z=(0,n.g2)("el-divider"),J=(0,n.g2)("el-checkbox"),B=(0,n.g2)("el-checkbox-group"),Y=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",E,[_,(0,n.Lk)("nav",null,[(0,n.Lk)("ol",S,[(0,n.Lk)("li",p,[(0,n.bF)(s,{to:{name:"dashboard"}},{default:(0,n.k6)((()=>[(0,n.eW)("Home")])),_:1})]),v,A])])]),(0,n.Lk)("div",I,[(0,n.Lk)("div",b,[h,(0,l.R1)(i.cE)("permissions.list")?(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",T,[(0,n.Lk)("div",C,[(0,n.Lk)("div",k,[(0,n.bF)(r.A,null,{default:(0,n.k6)((()=>[(0,n.eW)("Select a role to manage permissions")])),_:1}),(0,n.Lk)("div",g,[(0,n.bF)(d,{style:{width:"250px"},modelValue:f.value,"onUpdate:modelValue":u[0]||(u[0]=e=>f.value=e),placeholder:"Click to select",size:"large",filterable:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(D.value.filter((e=>"super_admin"!=e.name)),(e=>((0,n.uX)(),(0,n.Wv)(c,{key:"roles-permission-picker-"+e.id,label:(0,l.R1)(o.A)(e.name),value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,n.bF)(m,{disabled:!f.value,type:"primary",id:"btn-get-permissions",onClick:W},{default:(0,n.k6)((()=>[(0,n.eW)("Get Permissions")])),_:1},8,["disabled"])])])]),P.value.length?((0,n.uX)(),(0,n.CE)("div",x,[(0,n.bF)(Z),(0,n.Lk)("h4",R,"Permissions for "+(0,a.v_)((0,l.R1)(o.A)(y.value.name)),1),(0,n.Lk)("div",L,[(0,n.bF)(B,{class:"d-flex flex-wrap justify-content-center align-items-center",modelValue:K.value,"onUpdate:modelValue":u[1]||(u[1]=e=>K.value=e),min:1},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.value,(e=>((0,n.uX)(),(0,n.Wv)(J,{key:"modules-checker-"+e.module,label:(0,l.R1)(o.A)(e.module),value:e.module,border:""},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,n.bF)(Z,null,{default:(0,n.k6)((()=>[O])),_:1}),(0,n.Lk)("div",N,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.value.filter((e=>K.value.includes(e.module))),((e,u)=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-12 p-2 permission_module m-t-10",key:"permissions-module-"+e.module},[u>0?((0,n.uX)(),(0,n.Wv)(Z,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("div",H,[(0,n.Lk)("h5",G,(0,a.v_)((0,l.R1)(o.A)(e.module)),1),1==e.submodules.length&&e.submodules.some((e=>e.actions.some((e=>!e.has_permission))))?((0,n.uX)(),(0,n.CE)("div",{key:0,onClick:u=>e.submodules.forEach((e=>e.actions.forEach((e=>e.has_permission=!0)))),class:"m-l-10 check_all d-flex align-items-center"},U,8,F)):(0,n.Q3)("",!0)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.submodules,((u,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-12 p-1 m-l-15 m-t-10",key:e.module+"-submodule-"+t},[u.submodule.length?((0,n.uX)(),(0,n.CE)("div",M,[(0,n.Lk)("h6",X,(0,a.v_)((0,l.R1)(o.A)(u.submodule)),1),u.actions.length>1&&u.actions.some((e=>!e.has_permission))?((0,n.uX)(),(0,n.CE)("div",{key:0,onClick:e=>u.actions.forEach((e=>e.has_permission=!0)),class:"m-l-10 check_all d-flex align-items-center"},j,8,w)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",z,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.actions,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-2 col-sm-6",key:"module-permission-"+e.action},[(0,n.bF)(J,{modelValue:e.has_permission,"onUpdate:modelValue":u=>e.has_permission=u,label:(0,l.R1)(o.A)(e.action),disabled:!(0,l.R1)(i.cE)(e.has_permission?"permissions.revoke":"permission.grant"),size:"large"},null,8,["modelValue","onUpdate:modelValue","label","disabled"])])))),128))])])))),128))])))),128))]),(0,n.bF)(Z),(0,n.Lk)("div",V,[(0,n.bF)(m,{size:"large",type:"primary",onClick:Q},{default:(0,n.k6)((()=>[(0,n.eW)("Save Permissions")])),_:1})])])):(0,n.Q3)("",!0)])),[[Y,t.value]]):(0,n.Q3)("",!0)])])],64)}}},D=t(1241);const W=(0,D.A)(K,[["__scopeId","data-v-3316b6a0"]]);var Z=W},5015:function(e,u,t){function n(e,u,t,n){var l=-1,a=null==e?0:e.length;n&&a&&(t=e[++l]);while(++l<a)t=u(t,e[l],l,e);return t}t.d(u,{A:function(){return cu}});var l=n;function a(e){return function(u){return null==e?void 0:e[u]}}var i=a,o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},s=i(o),r=s,c=t(49),d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,m="\\u0300-\\u036f",f="\\ufe20-\\ufe2f",E="\\u20d0-\\u20ff",_=m+f+E,S="["+_+"]",p=RegExp(S,"g");function v(e){return e=(0,c.A)(e),e&&e.replace(d,r).replace(p,"")}var A=v,I=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function b(e){return e.match(I)||[]}var h=b,T=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function C(e){return T.test(e)}var k=C,g="\\ud800-\\udfff",x="\\u0300-\\u036f",R="\\ufe20-\\ufe2f",L="\\u20d0-\\u20ff",O=x+R+L,N="\\u2700-\\u27bf",H="a-z\\xdf-\\xf6\\xf8-\\xff",G="\\xac\\xb1\\xd7\\xf7",F="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",y="\\u2000-\\u206f",U=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",M="A-Z\\xc0-\\xd6\\xd8-\\xde",X="\\ufe0e\\ufe0f",w=G+F+y+U,P="['’]",j="["+w+"]",z="["+O+"]",V="\\d+",K="["+N+"]",D="["+H+"]",W="[^"+g+w+V+N+H+M+"]",Z="\\ud83c[\\udffb-\\udfff]",Q="(?:"+z+"|"+Z+")",J="[^"+g+"]",B="(?:\\ud83c[\\udde6-\\uddff]){2}",Y="[\\ud800-\\udbff][\\udc00-\\udfff]",$="["+M+"]",q="\\u200d",ee="(?:"+D+"|"+W+")",ue="(?:"+$+"|"+W+")",te="(?:"+P+"(?:d|ll|m|re|s|t|ve))?",ne="(?:"+P+"(?:D|LL|M|RE|S|T|VE))?",le=Q+"?",ae="["+X+"]?",ie="(?:"+q+"(?:"+[J,B,Y].join("|")+")"+ae+le+")*",oe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",se="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",re=ae+le+ie,ce="(?:"+[K,B,Y].join("|")+")"+re,de=RegExp([$+"?"+D+"+"+te+"(?="+[j,$,"$"].join("|")+")",ue+"+"+ne+"(?="+[j,$+ee,"$"].join("|")+")",$+"?"+ee+"+"+te,$+"+"+ne,se,oe,V,ce].join("|"),"g");function me(e){return e.match(de)||[]}var fe=me;function Ee(e,u,t){return e=(0,c.A)(e),u=t?void 0:u,void 0===u?k(e)?fe(e):h(e):e.match(u)||[]}var _e=Ee,Se="['’]",pe=RegExp(Se,"g");function ve(e){return function(u){return l(_e(A(u).replace(pe,"")),e,"")}}var Ae=ve,Ie=t(6497);function be(e,u,t){var n=e.length;return t=void 0===t?n:t,!u&&t>=n?e:(0,Ie.A)(e,u,t)}var he=be,Te="\\ud800-\\udfff",Ce="\\u0300-\\u036f",ke="\\ufe20-\\ufe2f",ge="\\u20d0-\\u20ff",xe=Ce+ke+ge,Re="\\ufe0e\\ufe0f",Le="\\u200d",Oe=RegExp("["+Le+Te+xe+Re+"]");function Ne(e){return Oe.test(e)}var He=Ne;function Ge(e){return e.split("")}var Fe=Ge,ye="\\ud800-\\udfff",Ue="\\u0300-\\u036f",Me="\\ufe20-\\ufe2f",Xe="\\u20d0-\\u20ff",we=Ue+Me+Xe,Pe="\\ufe0e\\ufe0f",je="["+ye+"]",ze="["+we+"]",Ve="\\ud83c[\\udffb-\\udfff]",Ke="(?:"+ze+"|"+Ve+")",De="[^"+ye+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="\\u200d",Je=Ke+"?",Be="["+Pe+"]?",Ye="(?:"+Qe+"(?:"+[De,We,Ze].join("|")+")"+Be+Je+")*",$e=Be+Je+Ye,qe="(?:"+[De+ze+"?",ze,We,Ze,je].join("|")+")",eu=RegExp(Ve+"(?="+Ve+")|"+qe+$e,"g");function uu(e){return e.match(eu)||[]}var tu=uu;function nu(e){return He(e)?tu(e):Fe(e)}var lu=nu;function au(e){return function(u){u=(0,c.A)(u);var t=He(u)?lu(u):void 0,n=t?t[0]:u.charAt(0),l=t?he(t,1).join(""):u.slice(1);return n[e]()+l}}var iu=au,ou=iu("toUpperCase"),su=ou,ru=Ae((function(e,u,t){return e+(t?" ":"")+su(u)})),cu=ru}}]);
//# sourceMappingURL=974.js.map