"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[984],{7676:function(l,e,a){a.d(e,{A:function(){return c}});var n=a(6768);const t={class:"f-w-600"},o=(0,n.Lk)("br",null,null,-1);function i(l,e){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("small",t,[(0,n.RG)(l.$slots,"default")]),o],64)}var s=a(1241);const u={},d=(0,s.A)(u,[["render",i]]);var c=d},8984:function(l,e,a){a.r(e),a.d(e,{default:function(){return Zl}});a(4114);var n=a(6768),t=a(5130),o=a(144),i=a(4232),s=a(1387),u=a(4300),d=a(7190),c=a(782),r=a(22),m=a(6133),p=a(5015),v=a(7021),k=a(1219),f=a(7676),L=a(1099),g=a(5459);const b=l=>((0,n.Qi)("data-v-b9eb278e"),l=l(),(0,n.jt)(),l),y={class:"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between"},h=b((()=>(0,n.Lk)("h6",{class:"fw-bold mb-0",style:{"margin-left":"20px"}},"Edit Company Details",-1))),C={class:"row"},E={class:"col-md-6"},x={class:"col-md-10 m-b-20"},w={class:"form-floating"},R=b((()=>(0,n.Lk)("label",{for:"companyName"},"Company Name",-1))),_={class:"col-md-10 m-b-20"},A={class:"form-floating"},F=b((()=>(0,n.Lk)("label",{for:"companyTagline"},"Tagline",-1))),X={class:"col-md-10 m-b-20"},S={class:"form-floating"},K=b((()=>(0,n.Lk)("label",{for:"companyContactPerson"},"Contact Person",-1))),N={class:"col-md-10 m-b-20"},I=b((()=>(0,n.Lk)("small",{class:"text-muted"},"Contact Phone",-1))),Q={class:"col-md-10 m-b-20"},V={class:"form-floating"},P=b((()=>(0,n.Lk)("label",{for:"companyContactEmail"},"Email",-1))),T=b((()=>(0,n.Lk)("div",{class:"col-md-10 m-b-20"},[(0,n.Lk)("h6",null,"Company's Bio (About)"),(0,n.Lk)("div",{id:"editCompanyAboutEditor",class:"quill-editor-default"})],-1))),J={class:"col-md-6"},D={class:"col-md-10 m-b-20"},O={class:"m-b-10"},U=["src"],W={class:"form-floating"},j=b((()=>(0,n.Lk)("label",{for:"companyLogo"},"Company Logo",-1))),H={key:0,class:"d-flex flex-wrap m-t-10"},B={class:"p-1 uploaded-image"},q=["src"],M=b((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),z=[M],G={class:"col-md-10 m-b-20"},Y={class:"m-b-10"},Z=["src"],ll={class:"form-floating"},el=b((()=>(0,n.Lk)("label",{for:"companyBanner"},"Company Banner",-1))),al={key:0,class:"d-flex flex-wrap m-t-10"},nl={class:"p-1 uploaded-image"},tl=["src"],ol=b((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),il=[ol],sl={class:"col-md-10 m-b-20"},ul=b((()=>(0,n.Lk)("h6",null,"Social Media Handles",-1))),dl={key:0,class:"p-l-10 m-t-10"},cl=b((()=>(0,n.Lk)("h6",null,[(0,n.Lk)("small",null,"Currently saved")],-1))),rl={class:"d-inline-flex align-items-center flex-wrap"},ml=["onClick"],pl=b((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),vl=[pl],kl={key:1,class:"p-l-10 m-t-10"},fl=b((()=>(0,n.Lk)("h6",{class:"text-danger"},[(0,n.Lk)("small",null,"Marked for deletion")],-1))),Ll={class:"d-inline-flex align-items-center flex-wrap"},gl={class:"p-l-10 m-t-10"},bl={key:0},yl={class:"d-inline-flex align-items-center flex-wrap"},hl={key:0,class:"d-inline-flex"},Cl={key:0,class:"ri ri-add-line"},El=b((()=>(0,n.Lk)("hr",null,null,-1))),xl={class:"modal-footer"},wl=b((()=>(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Save Edits",-1))),Rl={key:0,class:"row"},_l=b((()=>(0,n.Lk)("h6",{class:"fw-bold"},[(0,n.Lk)("small",{class:"text-muted"},"Currently added")],-1))),Al=b((()=>(0,n.Lk)("small",{class:"text-muted text-italic"},"Click to remove",-1))),Fl={class:"d-inline-flex"},Xl=["onClick"],Sl=b((()=>(0,n.Lk)("br",null,null,-1))),Kl={class:"row"},Nl={key:0,class:"fw-bold"},$l=b((()=>(0,n.Lk)("small",{class:"text-muted"},"Add more here",-1))),Il=[$l],Ql={class:"p-l-20"},Vl=b((()=>(0,n.Lk)("small",null,"Select Platform",-1))),Pl=b((()=>(0,n.Lk)("br",null,null,-1))),Tl={class:"d-inline-flex flex-wrap"},Jl=["onClick"],Dl=["onClick"],Ol=b((()=>(0,n.Lk)("br",null,null,-1))),Ul=b((()=>(0,n.Lk)("br",null,null,-1))),Wl={key:0,class:"col-md-6"},jl={class:"input-group mb-3"},Hl={class:"form-floating"},Bl={for:"newSocialLink"},ql={class:"input-group-text",id:"basic-addon2"},Ml={class:"col-sm-12 d-flex justify-content-end"};var zl={__name:"Edit",setup(l){const e=(0,s.rd)(),a=(0,c.Pj)();let b=(0,o.KR)({}),M=(0,o.KR)(null),ol=(0,o.KR)(null),pl=(0,o.KR)(null),$l=(0,o.KR)(null);const zl=(0,o.KR)(!1);let Gl=(0,o.KR)(null);const Yl=(0,o.KR)(!1),Zl=(0,o.KR)([]),le=(0,o.KR)([]),ee=(0,o.KR)({platform:"",link:""}),ae=(0,n.EW)((()=>Zl.value.filter((l=>!l.deleted)))),ne=(0,n.EW)((()=>Zl.value.filter((l=>l.deleted)))),te=(0,n.EW)((()=>{let l=[...le.value.map((l=>l.platform)),...ae.value.map((l=>l.platform))];return v.eX.filter((e=>!l.includes(e)))}));function oe(l){M.value=l.target.files[0];const e=l.target.files[0],a=new FileReader;a.onload=l=>{ol.value=l.target.result},a.readAsDataURL(e)}function ie(l){pl.value=l.target.files[0];const e=l.target.files[0],a=new FileReader;a.onload=l=>{$l.value=l.target.result},a.readAsDataURL(e)}function se(){M.value=null,ol.value=null,$("#companyLogo").val("")}function ue(){pl.value=null,$l.value=null,$("#companyBanner").val("")}function de(l){let e=le.value.findIndex((e=>e.platform===l.platform));e>-1&&(le.value.splice(e,1),$.growl({title:"Heads-up",message:`Newly added ${(0,p.A)(l.platform)} handle removed in favor of the one already saved`})),l.deleted=!l.deleted}function ce(l){ee.value.platform=l,ee.value.link="whatsapp"===l?"https://wa.me/":""}function re(){if("whatsapp"!==ee.value.platform&&(ee.value.link=ee.value.link.replace(/\/+$/,"")),!(0,g.I)(ee.value))return k.nk.warning(`Please enter a valid ${(0,p.A)(ee.value.platform)} url`);le.value.push({platform:ee.value.platform,link:ee.value.link}),ee.value={platform:"",link:""}}function me(){let l=Gl.getSemanticHTML();if(!l||!l.toString().length||"<p></p>"==l)return $.growl.warning({message:"Please enter the company's bio"});if(b.value["about"]=l,!b.value.contact_phone||!b.value.contact_phone.toString().length)return $.growl.warning({message:"Please enter contact phone"});let n=new FormData;Object.keys(b.value).filter((l=>!["socials","logo"].includes(l))).forEach((l=>{let e=b.value[l];"contact_phone"===l&&(e=e.toString().replaceAll(" ","")),n.append(l,e)})),null!=M.value&&n.append("company_logo",M.value),null!=pl.value&&n.append("company_banner",pl.value),le.value.length&&le.value.forEach(((l,e)=>{n.append(`socials[${e}][platform]`,l.platform),n.append(`socials[${e}][link]`,l.link)})),ne.value.length&&ne.value.forEach(((l,e)=>{n.append(`deleted_socials[${e}]`,l.id)})),zl.value=!0,u.A.post(d.pe.EDIT_INVESTMENT_HUB_LISTED_COMPANY,n).then((l=>{$.growl.notice({message:l.data.message});let n=JSON.parse(JSON.stringify(a.state.investmentHub.companies)),t=n.findIndex((l=>l.id==b.value["id"]));t>-1&&(n[t]=l.data.data),a.commit("investmentHub/STORE_LISTED_COMPANIES",n),zl.value=!1,e.back()})).catch((l=>zl.value=!1))}return(0,n.sV)((()=>{if(null==a.state.investmentHub.editCompany)return e.push({name:"investment_hub.companies.listed"});b.value=JSON.parse(JSON.stringify(a.state.investmentHub.editCompany)),Zl.value=JSON.parse(JSON.stringify(b.value.socials)),Zl.value=Zl.value.map((l=>(l.deleted=!1,l))),$("#editCompanyAboutEditor").html(b.value["about"]),Gl=new Quill("#editCompanyAboutEditor",{theme:"snow",placeholder:"Enter company about here"})})),(l,a)=>{const s=(0,n.g2)("el-tag"),u=(0,n.g2)("el-button"),d=(0,n.g2)("el-badge"),c=(0,n.g2)("el-dialog"),k=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",y,[h,(0,n.bF)(m.A)]),(0,n.bo)(((0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,t.D$)(me,["prevent"])},[(0,n.Lk)("div",C,[(0,n.Lk)("div",E,[(0,n.Lk)("div",x,[(0,n.Lk)("div",w,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyName",placeholder:"Company Name","onUpdate:modelValue":a[0]||(a[0]=l=>(0,o.R1)(b).name=l),required:""},null,512),[[t.Jo,(0,o.R1)(b).name]]),R])]),(0,n.Lk)("div",_,[(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyTagline",placeholder:"Tagline","onUpdate:modelValue":a[1]||(a[1]=l=>(0,o.R1)(b).description=l),required:""},null,512),[[t.Jo,(0,o.R1)(b).description]]),F])]),(0,n.Lk)("div",X,[(0,n.Lk)("div",S,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyContactPerson",placeholder:"Company Person","onUpdate:modelValue":a[2]||(a[2]=l=>(0,o.R1)(b).contact_name=l),required:""},null,512),[[t.Jo,(0,o.R1)(b).contact_name]]),K])]),(0,n.Lk)("div",N,[I,(0,n.bF)((0,o.R1)(r.E),{modelValue:(0,o.R1)(b).contact_phone,"onUpdate:modelValue":a[3]||(a[3]=l=>(0,o.R1)(b).contact_phone=l),mode:"international"},null,8,["modelValue"])]),(0,n.Lk)("div",Q,[(0,n.Lk)("div",V,[(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control",id:"companyContactEmail",placeholder:"Email","onUpdate:modelValue":a[4]||(a[4]=l=>(0,o.R1)(b).email=l),required:""},null,512),[[t.Jo,(0,o.R1)(b).email]]),P])]),T]),(0,n.Lk)("div",J,[(0,n.Lk)("div",D,[(0,n.bF)(f.A,null,{default:(0,n.k6)((()=>[(0,n.eW)("Saved Logo")])),_:1}),(0,n.Lk)("div",O,[(0,n.Lk)("img",{src:(0,o.R1)(b).logo,style:{"max-height":"80px","max-width":"100px"}},null,8,U)]),(0,n.Lk)("div",W,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"companyLogo",onChange:oe,accept:".png,.jpg,.jpeg,.gif"},null,32),j]),(0,o.R1)(ol)?((0,n.uX)(),(0,n.CE)("div",H,[(0,n.Lk)("div",B,[(0,n.Lk)("img",{src:(0,o.R1)(ol),style:{"max-width":"80px","max-height":"60px"}},null,8,q),(0,n.Lk)("div",{class:"remover",onClick:se},z)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",G,[(0,n.bF)(f.A,null,{default:(0,n.k6)((()=>[(0,n.eW)("Saved Banner")])),_:1}),(0,n.Lk)("div",Y,[(0,n.Lk)("img",{src:(0,o.R1)(b).banner,style:{"max-height":"80px","max-width":"100px"}},null,8,Z)]),(0,n.Lk)("div",ll,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"companyBanner",onChange:ie,accept:".png,.jpg,.jpeg,.gif"},null,32),el]),(0,o.R1)($l)?((0,n.uX)(),(0,n.CE)("div",al,[(0,n.Lk)("div",nl,[(0,n.Lk)("img",{src:(0,o.R1)($l),style:{"max-width":"80px","max-height":"60px"}},null,8,tl),(0,n.Lk)("div",{class:"remover",onClick:ue},il)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",sl,[ul,ae.value.length?((0,n.uX)(),(0,n.CE)("div",dl,[cl,(0,n.Lk)("div",rl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ae.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"saved-social",key:"saved-socials-"+e},[(0,n.bF)(L.A,(0,n.v6)({ref_for:!0},l),null,16),(0,n.Lk)("div",{class:"remover",onClick:e=>l.deleted=!l.deleted},vl,8,ml)])))),128))])])):(0,n.Q3)("",!0),ne.value.length?((0,n.uX)(),(0,n.CE)("div",kl,[fl,(0,n.Lk)("div",Ll,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ne.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{key:"to-delete-socials-"+e,class:"m-r-5"},[(0,n.bF)(s,{closable:"",type:"danger",onClose:e=>de(l)},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)((0,o.R1)(p.A)(l.platform)),1)])),_:2},1032,["onClose"])])))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",gl,[Zl.value.length?((0,n.uX)(),(0,n.CE)("h6",bl,[(0,n.Lk)("small",null,(0,i.v_)(le.value.length?"Newly added to be saved":"Add new handles"),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",yl,[le.value.length?((0,n.uX)(),(0,n.CE)("div",hl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(le.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"p-1",key:"form-new-socials-"+e},[(0,n.bF)(L.A,(0,n.v6)({ref_for:!0},l),null,16)])))),128))])):(0,n.Q3)("",!0),(0,n.bF)(u,{onClick:a[5]||(a[5]=l=>Yl.value=!Yl.value),size:"small",round:""},{default:(0,n.k6)((()=>[le.value.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("i",Cl)),(0,n.eW)((0,i.v_)(le.value.length?"Click to edit":"Click to add"),1)])),_:1})])])])])]),El,(0,n.Lk)("div",xl,[wl,(0,n.eW)("   "),(0,n.Lk)("button",{onClick:a[6]||(a[6]=l=>(0,o.R1)(e).back()),class:"btn btn-secondary",type:"button"},"Cancel")])],32)),[[k,zl.value]]),(0,n.bF)(c,{fullscreen:(0,o.R1)(v.Qv),modelValue:Yl.value,"onUpdate:modelValue":a[9]||(a[9]=l=>Yl.value=l)},{default:(0,n.k6)((()=>[le.value.length?((0,n.uX)(),(0,n.CE)("div",Rl,[_l,Al,(0,n.Lk)("div",Fl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(le.value,((l,e)=>((0,n.uX)(),(0,n.CE)("div",{onClick:l=>le.value.splice(e,1),key:"current-socials-"+e},[(0,n.bF)(L.A,{platform:l.platform},null,8,["platform"])],8,Xl)))),128))])])):(0,n.Q3)("",!0),Sl,(0,n.Lk)("div",Kl,[le.value.length?((0,n.uX)(),(0,n.CE)("h6",Nl,Il)):(0,n.Q3)("",!0),(0,n.Lk)("div",Ql,[(0,n.Lk)("form",{onSubmit:(0,t.D$)(re,["prevent"])},[Vl,Pl,(0,n.Lk)("div",Tl,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(te.value,((l,e)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:"to-add-social"+e},[ee.value.platform==l?((0,n.uX)(),(0,n.CE)("div",{key:0,onClick:e=>ce(l)},[(0,n.bF)(d,{value:"✓",class:"item",type:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(L.A,{platform:l},null,8,["platform"])])),_:2},1024)],8,Jl)):((0,n.uX)(),(0,n.CE)("div",{key:1,onClick:e=>ce(l)},[(0,n.bF)(L.A,{platform:l},null,8,["platform"])],8,Dl))],64)))),128))]),Ol,Ul,ee.value.platform.length?((0,n.uX)(),(0,n.CE)("div",Wl,[(0,n.Lk)("div",jl,[(0,n.Lk)("div",Hl,[(0,n.bo)((0,n.Lk)("input",{type:"url",class:"form-control",id:"newSocialLink",placeholder:"Tagline","onUpdate:modelValue":a[7]||(a[7]=l=>ee.value.link=l),required:""},null,512),[[t.Jo,ee.value.link]]),(0,n.Lk)("label",Bl,"Enter "+(0,i.v_)((0,o.R1)(p.A)(ee.value.platform))+" Link here",1)]),(0,n.Lk)("span",ql,[(0,n.bF)(u,{"native-type":"submit",link:""},{default:(0,n.k6)((()=>[(0,n.eW)("Add")])),_:1})])])])):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",Ml,[(0,n.bF)(u,{type:"info",onClick:a[8]||(a[8]=l=>Yl.value=!Yl.value),plain:""},{default:(0,n.k6)((()=>[(0,n.eW)("Done")])),_:1})])])])),_:1},8,["fullscreen","modelValue"])],64)}}},Gl=a(1241);const Yl=(0,Gl.A)(zl,[["__scopeId","data-v-b9eb278e"]]);var Zl=Yl}}]);
//# sourceMappingURL=984.js.map