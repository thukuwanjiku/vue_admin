"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[413],{7021:function(e,l,a){a.d(l,{DU:function(){return d},HC:function(){return c},RL:function(){return v},k1:function(){return u},ob:function(){return r}});var t=a(4373),n=a(9143),o=a(4300),s=a(7190);const i="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints";function u(){n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!0),o.A.get(s.pe.GET_EXPLORE_LISTED_COMPANIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)))}function c(){n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),o.A.get(s.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)))}function r(){t.A.get(i).then((e=>{const l=e.data,a=l.split("\n"),t=a.map((e=>{const l=e.split(" ");return l[0]}));n.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",t)}))}function d(e=12){let l="",a="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let t=0;t<e;t++)l+=a.charAt(Math.floor(Math.random()*a.length));return l}function v(e,l="",a=null){let t=parseInt(a)||0,n=(new Intl.NumberFormat).format(parseFloat(e).toFixed(t));return(l?l+" ":"")+n}},8413:function(e,l,a){a.r(l),a.d(l,{default:function(){return De}});var t=a(6768),n=a(1387),o=(a(4114),a(144)),s=a(4232),i=a(7477),u=(a(1452),a(782)),c=a(7021),r=a(4300),d=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-6b233b1d"),e=e(),(0,t.jt)(),e),p={class:"row p-2"},b={class:"col-sm-12 d-flex m-b-10"},k=m((()=>(0,t.Lk)("br",null,null,-1))),g={key:0,class:"row"},E={key:0,class:"text-muted text-italic"},h=m((()=>(0,t.Lk)("br",null,null,-1))),f={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},C={key:0,class:"text-italic"},_={key:1,class:"fw-bold"},L=["onClick"],y={class:"text-center"},w={class:"material-symbols-outlined fs-40"},I=m((()=>(0,t.Lk)("br",null,null,-1))),x={key:1,class:"row"},T=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),S=[T],F={class:"row"},A={class:"row m-b-20"},R=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),O={class:"row p-l-20"},N={class:"col-md-4"},X=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),H=m((()=>(0,t.Lk)("br",null,null,-1))),W={class:"col-md-4"},G=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),V=m((()=>(0,t.Lk)("br",null,null,-1))),P={class:"d-flex"},K={key:0},D={class:"material-symbols-outlined fs-35"},M={class:"row"},U={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},B=["onClick"],Q={class:"material-symbols-outlined fs-35"},J={class:"col-md-4"},j=m((()=>(0,t.Lk)("small",null," ",-1))),z=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},ne=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),oe=m((()=>(0,t.Lk)("br",null,null,-1))),se={class:"row p-l-20"},ie={class:"col-md-12"},ue=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),re={class:"col-md-12 m-t-20"},de=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},pe={class:"material-symbols-outlined fs-35"},be={class:"row"},ke={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},ge=["onClick"],Ee={class:"material-symbols-outlined fs-35"},he=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),fe={class:"col-sm-12"};var Ce={__name:"ManageCategories",setup(e){const l=(0,u.Pj)(),a=(0,o.KR)(!1),n=(0,o.KR)(""),m=(0,o.KR)(!1),T=(0,o.KR)(!1),Ce=(0,o.KR)({name:"",icon:""}),_e=(0,o.KR)(""),Le=(0,o.KR)([]),ye=(0,o.KR)(!1),we=(0,o.KR)(null),Ie=(0,o.KR)(!1),xe=(0,o.KR)(!1),Te=(0,o.KR)([]),Se=(0,t.EW)((()=>l.state.exploreHub.isFetchingCategories)),Fe=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!_e.value.length||e.includes(_e.value))))),Ae=(0,t.EW)((()=>l.state.exploreHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),Re=(0,t.EW)((()=>we.value?Ae.value.find((e=>e.id==we.value.id)):null)),Oe=(0,t.EW)((()=>!!Re.value&&Object.keys(Re.value).some((e=>we.value[e]!==Re.value[e]))));function Ne(){m.value=!0,_e.value=""}function Xe(e){Ce.value.icon=e,T.value=!1}function He(){return Ce.value.name.length?Ce.value.icon.length?(Le.value.push({id:(0,c.DU)(),name:Ce.value.name,icon:Ce.value.icon}),void(Ce.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function We(e){let l=Le.value.findIndex((l=>l.id==e));l>-1&&Le.value.splice(l,1)}function Ge(){Le.value.length&&(a.value=!0,r.A.post(d.pe.EXPLORE_HUB_ADD_LISTING_CATEGORIES,{categories:Le.value}).then((e=>{$.growl.notice({message:e.data.message}),fetchExploreListingCategories(),m.value=!1,Le.value=[],a.value=!1,_e.value=""})).catch((e=>a.value=!1)))}function Ve(e){if(xe.value){let l=Te.value.findIndex((l=>l.id==e.id));l>-1?Te.value.splice(l,1):Te.value.push(e)}else we.value=JSON.parse(JSON.stringify(e)),ye.value=!0,_e.value=""}function Pe(e){we.value.icon=e,Ie.value=!1}function Ke(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{De()})).catch((()=>{}))}function De(){let e={id:we.value.id,...Object.keys(Re.value).reduce(((e,l)=>(we.value[l]!==Re.value[l]&&(e[l]=we.value[l]),e)),{})};a.value=!0,r.A.post(d.pe.EXPLORE_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Ae.value)),n=t.findIndex((e=>e.id==we.value.id));n>-1&&(t[n]=e.data.data,l.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",t)),ye.value=!1,a.value=!1})).catch((e=>a.value=!1))}function Me(){Te.value=[],xe.value=!xe.value}function Ue(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:Te.value.map((e=>e.id)),reason:e};Qe(l)})).catch((()=>{}))}function Be(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[we.value.id],reason:e};Qe(l)})).catch((()=>{}))}function Qe(e){l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,r.A.post(d.pe.EXPLORE_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),Te.value=[],fetchExploreListingCategories(),ye.value=!1,a.value=!1,xe.value=!1})).catch((e=>{a.value=!1,l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{Ae.value.length||(0,c.HC)(),Fe.value.length||(0,c.ob)()})),(e,l)=>{const u=(0,t.g2)("el-button"),c=(0,t.g2)("el-input"),r=(0,t.g2)("el-tag"),d=(0,t.g2)("el-card"),v=(0,t.g2)("el-popover"),$=(0,t.g2)("el-divider"),Re=(0,t.g2)("el-table-column"),De=(0,t.g2)("el-table"),Qe=(0,t.g2)("el-dialog"),Je=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",p,[(0,t.Lk)("div",b,[(0,t.bF)(u,{type:"primary",icon:(0,o.R1)(i.FWt),onClick:Ne,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(c,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"]),(0,t.eW)("      "),(0,t.bF)(u,{icon:(0,o.R1)(i.Jlk),type:xe.value?"primary":"",onClick:Me,plain:!xe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),k,Ae.value.length?((0,t.uX)(),(0,t.CE)("div",g,[xe.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",E,"Tap entry to edit")),h,xe.value?((0,t.uX)(),(0,t.CE)("div",f,[Te.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",C,"Tap to select")),Te.value.length?((0,t.uX)(),(0,t.CE)("small",_,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Te.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(r,{closable:"",onClose:l=>Ve(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Te.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,class:"m-l-10",onClick:Ue,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ae.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"explore-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Ve(e)},[(0,t.bF)(d,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",y,[(0,t.Lk)("span",w,(0,s.v_)(e.icon),1),I,(0,t.eW)(" "+(0,s.v_)(e.name),1)])])),_:2},1024)],8,L)))),128))])):((0,t.uX)(),(0,t.CE)("div",x,S))])),[[Je,Se.value]]),(0,t.bF)(Qe,{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",A,[R,(0,t.Lk)("div",O,[(0,t.Lk)("div",N,[X,H,(0,t.bF)(c,{modelValue:Ce.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Ce.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",W,[G,V,(0,t.Lk)("div",P,[Ce.value.icon.length?((0,t.uX)(),(0,t.CE)("div",K,[(0,t.Lk)("span",D,(0,s.v_)(Ce.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)(v,{visible:T.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[3]||(l[3]=e=>T.value=!T.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(Ce.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",M,[(0,t.bF)(c,{modelValue:_e.value,"onUpdate:modelValue":l[2]||(l[2]=e=>_e.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Xe(e)},[(0,t.Lk)("span",Q,(0,s.v_)(e),1)],8,B)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",J,[j,z,(0,t.bF)(u,{onClick:He,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),Le.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)($),Y,(0,t.bF)(De,{data:Le.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{prop:"name",label:"Category"}),(0,t.bF)(Re,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,s.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Re,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(u,{onClick:l=>We(e.row.id),type:"danger",icon:(0,o.R1)(i.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)($),(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(u,{type:"primary",onClick:Ge},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[Je,a.value]])])),_:1},8,["modelValue"]),(0,t.bF)(Qe,{width:"40%",modelValue:ye.value,"onUpdate:modelValue":l[8]||(l[8]=e=>ye.value=e)},{default:(0,t.k6)((()=>[we.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[ne,(0,t.eW)("     "),(0,t.bF)(u,{type:"danger",onClick:Be,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),oe,(0,t.bF)($),(0,t.Lk)("div",se,[(0,t.Lk)("div",ie,[ue,ce,(0,t.bF)(c,{modelValue:we.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>we.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",re,[de,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",pe,(0,s.v_)(we.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)(v,{visible:Ie.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[7]||(l[7]=e=>Ie.value=!Ie.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",be,[(0,t.bF)(c,{modelValue:_e.value,"onUpdate:modelValue":l[6]||(l[6]=e=>_e.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",ke,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Pe(e)},[(0,t.Lk)("span",Ee,(0,s.v_)(e),1)],8,ge)))),256))])])])),_:1},8,["visible"])])])]),he,(0,t.Lk)("div",fe,[(0,t.bF)(u,{type:"primary",onClick:Ke,disabled:!Oe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[Je,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["modelValue"])],64)}}},_e=a(1241);const Le=(0,_e.A)(Ce,[["__scopeId","data-v-6b233b1d"]]);var ye=Le;const we={class:"pagetitle"},Ie=(0,t.Lk)("h1",null,"Categories",-1),xe={class:"breadcrumb"},Te={class:"breadcrumb-item"},Se=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore",-1),Fe=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),Ae={class:"card"},Re={class:"card-body"},Oe=(0,t.Lk)("br",null,null,-1),Ne={class:"nav nav-tabs",id:"myTab",role:"tablist"},Xe={class:"nav-item",role:"presentation"},He={class:"nav-item",role:"presentation"},We={class:"tab-content pt-2",id:"myTabContent"},Ge={class:"tab-pane fade show active p-1",id:"explore_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},Ve=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Will browse archived categories here ",-1);var Pe={__name:"Main",setup(e){(0,n.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",we,[Ie,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",xe,[(0,t.Lk)("li",Te,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Se,Fe])])]),(0,t.Lk)("div",Ae,[(0,t.Lk)("div",Re,[Oe,(0,t.Lk)("ul",Ne,[(0,t.Lk)("li",Xe,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",He,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])]),(0,t.Lk)("div",We,[(0,t.Lk)("div",Ge,[(0,t.bF)(ye)]),Ve])])])],64)}}};const Ke=Pe;var De=Ke}}]);
//# sourceMappingURL=413.js.map