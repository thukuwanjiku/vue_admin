{"version":3,"file":"js/510.js","mappings":"8KAOSA,MAAM,iDAAiDC,KAAK,S,GAC7DC,EAAAA,EAAAA,IAA4E,MAAxEF,MAAM,iBAAgB,iDAA6C,G,GACvEE,EAAAA,EAAAA,IAAI,mB,GACJA,EAAAA,EAAAA,IAEI,SAFD,+EAEH,G,GAJAC,EACAC,EACAC,G,kCAHJC,EAAAA,EAAAA,IAMM,MANNC,EAPJC,E,eCCA,MAAMC,EAAS,CAAC,EAGVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,KAEpE,O,gnFCeA,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,GAAiBC,EAAAA,EAAAA,KAAI,GACrBC,GAAeD,EAAAA,EAAAA,IAAI,IAEnBE,GAAqBF,EAAAA,EAAAA,KAAI,GACzBG,GAA6BH,EAAAA,EAAAA,KAAI,GACjCI,IAAcJ,EAAAA,EAAAA,IAAI,CAACK,KAAK,GAAIC,KAAK,KACjCC,IAA+BP,EAAAA,EAAAA,IAAI,IACnCQ,IAAgBR,EAAAA,EAAAA,IAAI,IAEpBS,IAAoBT,EAAAA,EAAAA,KAAI,GACxBU,IAAeV,EAAAA,EAAAA,IAAI,MACnBW,IAA8BX,EAAAA,EAAAA,KAAI,GAElCY,IAAsBZ,EAAAA,EAAAA,KAAI,GAC1Ba,IAAqBb,EAAAA,EAAAA,IAAI,IAOzBc,IAAYC,EAAAA,EAAAA,KAAS,IAAKlB,EAAMmB,MAAMC,cAAcC,uBACpDC,IAAqBJ,EAAAA,EAAAA,KAAS,IAC5BlB,EAAMmB,MAAMI,OAAOD,mBACVE,QAAOf,IAASC,GAA6Be,MAAMC,QACzCjB,EAAKkB,SAASjB,GAA6Be,WAEhEG,IAAaV,EAAAA,EAAAA,KAAS,IAAKlB,EAAMmB,MAAMC,cAAcS,kBAClDL,QAAOM,IAAU1B,EAAaqB,MAAMC,QAC1BI,EAAMtB,KAAKuB,cAAcJ,SAASvB,EAAaqB,MAAMM,mBAElEC,IAAsBd,EAAAA,EAAAA,KAAS,IAC7BL,GAAaY,MACVG,GAAWH,MACTQ,MAAKH,GAASA,EAAMI,IAAMrB,GAAaY,MAAMS,KAFvB,OAI7BC,IAAoBjB,EAAAA,EAAAA,KAAS,MAC3Bc,GAAoBP,OACjBW,OAAOC,KAAKL,GAAoBP,OAC9Ba,MAAKC,GAAO1B,GAAaY,MAAMc,KAASP,GAAoBP,MAAMc,OAuB/E,SAASC,KACLnC,EAAmBoB,OAAQ,EAE3Bf,GAA6Be,MAAQ,EACzC,CACA,SAASgB,GAAsBhC,GAE3BF,GAAYkB,MAAMhB,KAAOA,EAEzBH,EAA2BmB,OAAQ,CACvC,CACA,SAASiB,KAEL,OAAInC,GAAYkB,MAAMjB,KAAKkB,OAEvBnB,GAAYkB,MAAMhB,KAAKiB,QAI3Bf,GAAcc,MAAMkB,KAAK,CACrBT,IAAIU,EAAAA,EAAAA,MACJpC,KAAMD,GAAYkB,MAAMjB,KACxBC,KAAMF,GAAYkB,MAAMhB,YAI5BF,GAAYkB,MAAQ,CAACjB,KAAK,GAAIC,KAAK,MAVxBoC,EAAEC,MAAMC,QAAQ,CAACC,QAAS,+CAF1BH,EAAEC,MAAMC,QAAQ,CAACC,QAAS,sCAazC,CACA,SAASC,GAAkBf,GAEvB,IAAIgB,EAAQvC,GAAcc,MAAM0B,WAAUrB,GAASA,EAAMI,IAAMA,IAE5DgB,GAAS,GACRvC,GAAcc,MAAM2B,OAAOF,EAAO,EAE1C,CACA,SAASG,KACD1C,GAAcc,MAAMC,SAGxBxB,EAAeuB,OAAQ,EAGvB6B,EAAAA,EAAIC,KAAKC,EAAAA,GAAUC,sCAAuC,CAAC7B,WAAYjB,GAAcc,QAC5EiC,MAAKC,IAEFd,EAAEC,MAAMc,OAAO,CAACZ,QAASW,EAASE,KAAKb,WAGvCc,EAAAA,EAAAA,MAGAzD,EAAmBoB,OAAQ,EAG3Bd,GAAcc,MAAQ,GAGtBvB,EAAeuB,OAAQ,EAGvBf,GAA6Be,MAAQ,EAAE,IAE1CsC,OAAMC,GAAS9D,EAAeuB,OAAQ,IACnD,CAEA,SAASwC,GAAoBC,GACzB,GAAGnD,GAAoBU,MAAM,CACzB,IAAIyB,EAAQlC,GAAmBS,MAAM0B,WAAUrB,GAASA,EAAMI,IAAMgC,EAAShC,KAC1EgB,GAAS,EACRlC,GAAmBS,MAAM2B,OAAOF,EAAO,GAEvClC,GAAmBS,MAAMkB,KAAKuB,EAEtC,KAAM,CAEF,KAAIC,EAAAA,EAAAA,IAAmB,kCAAmC,OAG1DtD,GAAaY,MAAQ2C,KAAKC,MAAMD,KAAKE,UAAUJ,IAE/CtD,GAAkBa,OAAQ,EAE1Bf,GAA6Be,MAAQ,EACzC,CACJ,CACA,SAAS8C,GAAuB9D,GAE5BI,GAAaY,MAAMhB,KAAOA,EAE1BK,GAA4BW,OAAQ,CACxC,CACA,SAAS+C,KACLC,EAAAA,EAAaC,QACL,uCACA,UACA,CACIC,kBAAmB,MACnBC,iBAAkB,SAClBC,KAAM,YAGTnB,MAAK,KAEFoB,IAAqB,IAExBf,OAAM,QACnB,CACA,SAASe,KAEL,IAAIC,EAAU,CACN7C,GAAIrB,GAAaY,MAAMS,MACxBE,OAAOC,KAAKL,GAAoBP,OAC1BuD,QAAO,CAACC,EAAS1C,KACV1B,GAAaY,MAAMc,KAASP,GAAoBP,MAAMc,KACtD0C,EAAQ1C,GAAO1B,GAAaY,MAAMc,IAE/B0C,IACR,CAAC,IAIhB/E,EAAeuB,OAAQ,EAGvB6B,EAAAA,EAAIC,KAAKC,EAAAA,GAAU0B,qCAAsCH,GAChDrB,MAAKC,IAEFd,EAAEC,MAAMc,OAAO,CAACZ,QAASW,EAASE,KAAKb,UAGvC,IAAImC,EAAiBf,KAAKC,MAAMD,KAAKE,UAAU1C,GAAWH,QAEtDyB,EAAQiC,EAAehC,WAAUrB,GAASA,EAAMI,IAAMrB,GAAaY,MAAMS,KAC1EgB,GAAS,IACRiC,EAAejC,GAASS,EAASE,KAAKA,KACtC7D,EAAMoF,OAAO,yCAA0CD,IAI3DvE,GAAkBa,OAAQ,EAE1BvB,EAAeuB,OAAQ,CAAK,IAE/BsC,OAAMC,GAAS9D,EAAeuB,OAAQ,GACnD,CAEA,SAAS4D,KAELrE,GAAmBS,MAAQ,GAE3BV,GAAoBU,OAASV,GAAoBU,KACrD,CAEA,SAAS6D,KACLb,EAAAA,EAAac,OAAO,yFAA0F,iBAAkB,CAC5HZ,kBAAmB,SACnBC,iBAAkB,SAClBY,iBAAkB,mCAClBC,eAAiBhE,MACTA,IAAUA,EAAMC,SACT,yBAKVgC,MAAK,EAAGjC,YAEL,IAAIsD,EAAU,CAACW,IAAK1E,GAAmBS,MAAMkE,KAAI7D,GAASA,EAAMI,KAAK0D,OAAOnE,GAE5EoE,GAAiBd,EAAQ,IAE5BhB,OAAM,QACnB,CACA,SAAS+B,KACLrB,EAAAA,EAAac,OAAO,sFAAuF,iBAAkB,CACzHZ,kBAAmB,SACnBC,iBAAkB,SAClBY,iBAAkB,mCAClBC,eAAiBhE,MACTA,IAAUA,EAAMC,SACT,yBAKVgC,MAAK,EAAGjC,YAEL,IAAIsD,EAAU,CAACW,IAAK,CAAC7E,GAAaY,MAAMS,IAAK0D,OAAOnE,GAEpDoE,GAAiBd,EAAQ,IAE5BhB,OAAM,QACnB,CACA,SAAS8B,GAAiBd,GAEtB/E,EAAMoF,OAAO,4CAA4C,GACzDlF,EAAeuB,OAAQ,EAGvB6B,EAAAA,EAAIC,KAAKC,EAAAA,GAAUuC,yCAA0ChB,GACpDrB,MAAKC,IAEFd,EAAEC,MAAMc,OAAO,CAACZ,QAASW,EAASE,KAAKb,UAGvChC,GAAmBS,MAAQ,IAG3BqC,EAAAA,EAAAA,MAGAlD,GAAkBa,OAAQ,EAG1BvB,EAAeuB,OAAQ,EAGvBV,GAAoBU,OAAQ,CAAK,IAEpCsC,OAAMC,IACH9D,EAAeuB,OAAQ,EACvBzB,EAAMoF,OAAO,4CAA4C,EAAM,GAE/E,C,OA/OAY,EAAAA,EAAAA,KAAU,MAEH7B,EAAAA,EAAAA,IAAmB,oCAAsCvC,GAAWH,MAAMC,SAAQoC,EAAAA,EAAAA,MAGjFxC,GAAmBG,MAAMC,SACzBuE,EAAAA,EAAAA,KACJ,I,muMCvEJ,MAAMnG,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,ovBCGeoG,EAAAA,EAAAA,MAUf,SAASC,EAAWC,GAChB,OAAQA,GACJ,IAAK,SAEL,IAAK,UAEL,IAAK,WAGb,C,OAbAJ,EAAAA,EAAAA,KAAU,S,q7BCdV,MAAM,GAAc,GAEpB,S","sources":["webpack://myzola-admin/./src/components/AccessDenied.vue","webpack://myzola-admin/./src/components/AccessDenied.vue?f43f","webpack://myzola-admin/./src/views/investment_hub/categories/ManageCategories.vue","webpack://myzola-admin/./src/views/investment_hub/categories/ManageCategories.vue?968b","webpack://myzola-admin/./src/views/investment_hub/categories/Main.vue","webpack://myzola-admin/./src/views/investment_hub/categories/Main.vue?9670"],"sourcesContent":["<script setup>\n\n</script>\n\n<template>\n\n\n    <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n        <h6 class=\"alert-heading\">You don't have permission to view this page..</h6>\n        <hr>\n        <p>\n            If you think this is a mistake, please contact your system administrator.\n        </p>\n    </div>\n\n</template>\n\n<style scoped>\n\n</style>","import { render } from \"./AccessDenied.vue?vue&type=template&id=63c902ce\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n\nimport {ref, computed, onMounted} from \"vue\";\nimport {Check, Delete, Plus} from \"@element-plus/icons-vue\";\nimport {useStore} from \"vuex\";\nimport {\n    checkHasPermission,\n    fetchInvestmentHubListingCategories,\n    fetchMaterialIconsNames, isSmallScreen,\n    randomString\n} from \"@/services/Helpers\";\nimport api from \"@/services/api\";\nimport {apiRoutes} from \"@/services/apiRoutes\";\nimport {ElMessageBox} from \"element-plus\";\nimport AccessDenied from \"@/components/AccessDenied.vue\";\n\n\n/* -----------------------------\n * Variables\n * -----------------------------\n * */\nconst store = useStore();\n\nconst isModalLoading = ref(false);\nconst searchString = ref(\"\");\n\nconst isAddingCategories = ref(false);\nconst isSelectingNewCategoryIcon = ref(false);\nconst newCategory = ref({name:\"\", icon:\"\"});\nconst newCategoryIconsSearchString = ref(\"\");\nconst newCategories = ref([]);\n\nconst isEditingCategory = ref(false);\nconst editCategory = ref(null);\nconst isSelectingEditCategoryIcon = ref(false);\n\nconst isSelectingMultiple = ref(false);\nconst selectedCategories = ref([]);\n\n\n/* -----------------------------\n * Computed properties\n * -----------------------------\n * */\nconst isLoading = computed(()=> store.state.investmentHub.isFetchingCategories);\nconst materialIconsNames = computed(() =>\n        store.state.shared.materialIconsNames\n                .filter(icon => !newCategoryIconsSearchString.value.length\n                        || icon.includes(newCategoryIconsSearchString.value)));\n\nconst categories = computed(()=> store.state.investmentHub.listingCategories\n        .filter(entry => !searchString.value.length\n                || entry.name.toLowerCase().includes(searchString.value.toLowerCase())));\n\nconst categoryBeingEdited = computed(()=> {\n    if(!editCategory.value) return null;\n    return categories.value\n            .find(entry => entry.id == editCategory.value.id);\n});\nconst hasEditedCategory = computed(() => {\n    if(!categoryBeingEdited.value) return false;\n    return Object.keys(categoryBeingEdited.value)\n            .some(key => editCategory.value[key] !== categoryBeingEdited.value[key]);\n});\n\n\n/* -----------------------------\n * Lifecycle Hooks\n * -----------------------------\n * */\nonMounted(()=>{\n    //fetch listing categories if not already fetched\n    if(checkHasPermission('investment_hub.categories.view') && !categories.value.length) fetchInvestmentHubListingCategories();\n\n    //fetch material icons names is not previously fetched\n    if(!materialIconsNames.value.length) {\n        fetchMaterialIconsNames();\n    }\n});\n\n\n/* -----------------------------\n * Functions & Methods\n * -----------------------------\n * */\nfunction goToAddCategories(){\n    isAddingCategories.value = true;\n    //clear icons search string\n    newCategoryIconsSearchString.value = \"\";\n}\nfunction acceptNewCategoryIcon(icon){\n    //set new category icon\n    newCategory.value.icon = icon;\n    //dismiss the select icon popover\n    isSelectingNewCategoryIcon.value = false;\n}\nfunction acceptNewCategory(){\n    //validate that name & icon have been entered\n    if(!newCategory.value.name.length)\n        return $.growl.warning({message: \"Please enter the new category name\"});\n    if(!newCategory.value.icon.length)\n        return $.growl.warning({message: \"Please select an icon for the new category\"});\n\n    //required fields have been filled, add category to new categories list\n    newCategories.value.push({\n        id: randomString(),\n        name: newCategory.value.name,\n        icon: newCategory.value.icon\n    });\n\n    //reset the new category fields\n    newCategory.value = {name:\"\", icon:\"\"};\n}\nfunction removeNewCategory(id){\n    //find index of category with this id\n    let index = newCategories.value.findIndex(entry => entry.id == id);\n    //if index is found, remove the value that that index\n    if(index > -1){\n        newCategories.value.splice(index, 1);\n    }\n}\nfunction saveNewCategories(){\n    if(!newCategories.value.length) return;\n\n    //show loading overlay\n    isModalLoading.value = true;\n\n    //make api call to save categories\n    api.post(apiRoutes.INVESTMENT_HUB_ADD_LISTING_CATEGORIES, {categories: newCategories.value})\n            .then(response => {\n                //show success message\n                $.growl.notice({message: response.data.message});\n\n                //refresh categories list\n                fetchInvestmentHubListingCategories();\n\n                //dismiss add modal\n                isAddingCategories.value = false;\n\n                //clear new categories list\n                newCategories.value = [];\n\n                //hide loading\n                isModalLoading.value = false;\n\n                //clear icons search string\n                newCategoryIconsSearchString.value = \"\";\n            })\n            .catch(error => isModalLoading.value = false)\n}\n\nfunction handleCategoryClick(category){\n    if(isSelectingMultiple.value){\n        let index = selectedCategories.value.findIndex(entry => entry.id == category.id);\n        if(index > -1){\n            selectedCategories.value.splice(index, 1);\n        }else {\n            selectedCategories.value.push(category);\n        }\n    }else {\n        //check that has permissions to edit\n        if(!checkHasPermission('investment_hub.categories.edit')) return;\n\n        //set this category is the one to edit\n        editCategory.value = JSON.parse(JSON.stringify(category));\n        //show modal to edit category\n        isEditingCategory.value = true;\n        //clear icons search string\n        newCategoryIconsSearchString.value = \"\";\n    }\n}\nfunction acceptEditCategoryIcon(icon){\n    //set new category icon\n    editCategory.value.icon = icon;\n    //dismiss the select icon popover\n    isSelectingEditCategoryIcon.value = false;\n}\nfunction promptSaveEdits(){\n    ElMessageBox.confirm(\n            'Sure you want to save these changes?',\n            'Warning',\n            {\n                confirmButtonText: 'Yes',\n                cancelButtonText: 'Cancel',\n                type: 'warning',\n            }\n    )\n            .then(() => {\n                //call function to call api to save changes\n                saveCategoryChanges();\n            })\n            .catch(() => {})\n}\nfunction saveCategoryChanges(){\n    //prepare payload to send\n    let payload = {\n        ...{id: editCategory.value.id},\n        ...Object.keys(categoryBeingEdited.value)\n                .reduce((changes, key) => {\n                    if (editCategory.value[key] !== categoryBeingEdited.value[key]) {\n                        changes[key] = editCategory.value[key];\n                    }\n                    return changes;\n                }, {})\n    };\n\n    //show loader\n    isModalLoading.value = true;\n\n    //make api call\n    api.post(apiRoutes.INVESTMENT_HUB_EDIT_LISTING_CATEGORY, payload)\n            .then(response => {\n                //show success message\n                $.growl.notice({message: response.data.message});\n\n                //replace updated entry in list\n                let categoriesCopy = JSON.parse(JSON.stringify(categories.value));\n                //find the edited index\n                let index = categoriesCopy.findIndex(entry => entry.id == editCategory.value.id);\n                if(index > -1){\n                    categoriesCopy[index] = response.data.data;\n                    store.commit('investmentHub/STORE_LISTING_CATEGORIES', categoriesCopy);\n                }\n\n                //dismiss modal\n                isEditingCategory.value = false;\n                //hide loader\n                isModalLoading.value = false;\n            })\n            .catch(error => isModalLoading.value = false);\n}\n\nfunction toggleMultipleSelection(){\n    //clear previous selections\n    selectedCategories.value = [];\n    //toggle multiple selection\n    isSelectingMultiple.value = !isSelectingMultiple.value;\n}\n\nfunction confirmDeleteSelections(){\n    ElMessageBox.prompt('Sure you want to delete these selections?\\nPlease give a reason why you want to delete', 'Confirm Delete', {\n        confirmButtonText: 'Delete',\n        cancelButtonText: 'Cancel',\n        inputPlaceholder: \"Type here why you want to delete\",\n        inputValidator: (value)=> {\n            if(!value || !value.length){\n                return \"Please give a reason\";\n            }\n            return true;\n        },\n    })\n            .then(({ value }) => {\n                //prepare payload for the delete api call\n                let payload = {ids: selectedCategories.value.map(entry => entry.id), reason:value};\n                //call function to call api to save changes\n                deleteCategories(payload);\n            })\n            .catch(() => {})\n}\nfunction confirmDeleteCategory(){\n    ElMessageBox.prompt('Sure you want to delete this category?\\nPlease give a reason why you want to delete', 'Confirm Delete', {\n        confirmButtonText: 'Delete',\n        cancelButtonText: 'Cancel',\n        inputPlaceholder: \"Type here why you want to delete\",\n        inputValidator: (value)=> {\n            if(!value || !value.length){\n                return \"Please give a reason\";\n            }\n            return true;\n        },\n    })\n            .then(({ value }) => {\n                //prepare payload for delete api call\n                let payload = {ids: [editCategory.value.id], reason:value};\n                //call function to call api to save changes\n                deleteCategories(payload);\n            })\n            .catch(() => {})\n}\nfunction deleteCategories(payload){\n    //show loader\n    store.commit(\"investmentHub/SET_IS_FETCHING_CATEGORIES\", true);\n    isModalLoading.value = true;\n\n    //make api call\n    api.post(apiRoutes.INVESTMENT_HUB_DELETE_LISTING_CATEGORIES, payload)\n            .then(response => {\n                //show success message\n                $.growl.notice({message: response.data.message});\n\n                //undo selections\n                selectedCategories.value = [];\n\n                //refresh categories list\n                fetchInvestmentHubListingCategories();\n\n                //dismiss modal, incase they're deleting from edit dialog\n                isEditingCategory.value = false;\n\n                //hide loader\n                isModalLoading.value = false;\n\n                //undo multiple selection\n                isSelectingMultiple.value = false;\n            })\n            .catch(error => {\n                isModalLoading.value = false;\n                store.commit(\"investmentHub/SET_IS_FETCHING_CATEGORIES\", false);\n            });\n}\n\n</script>\n\n<template>\n\n    <div class=\"row p-2\" v-loading=\"isLoading\">\n        <div class=\"col-sm-12 d-flex m-b-10\">\n            <el-button v-if=\"checkHasPermission('investment_hub.categories.add')\" type=\"primary\" :icon=\"Plus\" @click=\"goToAddCategories\" plain>Add Categories</el-button>\n            &nbsp;&nbsp;&nbsp;&nbsp;\n\n            <el-input v-if=\"categories.length\" v-model=\"searchString\" style=\"width: 240px\" placeholder=\"Type to search\" clearable />\n            &nbsp;&nbsp;&nbsp;&nbsp;\n\n            <el-button v-if=\"checkHasPermission('investment_hub.categories.delete') && categories.length\" :icon=\"Check\" :type=\"isSelectingMultiple ? 'primary' : ''\" @click=\"toggleMultipleSelection\" :plain=\"!isSelectingMultiple\">Select Multiple to Delete</el-button>\n        </div>\n        <br>\n\n        <template v-if=\"checkHasPermission('investment_hub.categories.view')\">\n            <div class=\"row\" v-if=\"categories.length\">\n                <small class=\"text-muted text-italic\" v-if=\"!isSelectingMultiple && checkHasPermission('investment_hub.categories.edit')\">Tap entry to edit</small><br>\n                <div class=\"d-flex m-t-10 m-b-10 flex-wrap align-items-center\" v-if=\"isSelectingMultiple\">\n                    <small class=\"text-italic\" v-if=\"!selectedCategories.length\">Tap to select</small>\n\n                    <small class=\"fw-bold\" v-if=\"selectedCategories.length\">Selected:</small>&nbsp;\n                    <div class=\"m-1\" v-for=\"category in selectedCategories\"\n                         :key=\"'categories-selection-'+category.id\">\n                        <el-tag\n                                closable\n                                @close=\"handleCategoryClick(category)\"\n                        >\n                            {{ category.name }}\n                        </el-tag>\n                    </div>\n\n                    <el-button class=\"m-l-10\" v-if=\"selectedCategories.length\" @click=\"confirmDeleteSelections\" type=\"danger\" plain>Delete selections</el-button>\n                </div>\n\n                <div v-for=\"category in categories\" :key=\"'investment_hub-categories-list-'+category.id\"\n                     class=\"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer\" @click=\"handleCategoryClick(category)\">\n                    <el-card shadow=\"hover\">\n                        <div class=\"text-center\">\n                            <span class=\"material-symbols-outlined fs-40\">{{ category.icon }}</span>\n                            <br>\n                            {{ category.name }}\n                        </div>\n                    </el-card>\n                </div>\n            </div>\n\n            <div class=\"row\" v-else>\n                <p class=\"p-5 text-center\">\n                    <small>No categories found</small>\n                </p>\n            </div>\n        </template>\n        <div v-else>\n            <access-denied></access-denied>\n        </div>\n    </div>\n\n    <!-- Modal to add categories -->\n    <el-dialog\n            :fullscreen=\"isSmallScreen\"\n            v-model=\"isAddingCategories\">\n\n        <div class=\"row\" v-loading=\"isModalLoading\">\n            <div class=\"row m-b-20\">\n                <h6 class=\"fw-bold\">\n                    <small class=\"text-muted\">Add Categories</small>\n                </h6>\n\n                <div class=\"row p-l-20\">\n                    <div class=\"col-md-4\">\n                        <small>New Category Name</small><br>\n                        <el-input v-model=\"newCategory.name\" placeholder=\"Enter name here\"></el-input>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <small>Category Icon</small>\n                        <br>\n                        <div class=\"d-flex\">\n                            <div v-if=\"newCategory.icon.length\">\n                                <span class=\"material-symbols-outlined fs-35\">{{ newCategory.icon }}</span>\n                            </div>\n                            &nbsp;&nbsp;\n\n                            <el-popover :visible=\"isSelectingNewCategoryIcon\" :width=\"200\">\n                                <div class=\"row\">\n                                    <el-input v-model=\"newCategoryIconsSearchString\" placeholder=\"Type to search icon\"></el-input>\n                                    <div class=\"d-flex flex-wrap m-t-10\"\n                                         style=\"max-height: 250px;overflow-y: scroll;overflow-x: hidden;\">\n                                        <div style=\"margin:1px;cursor: pointer\"\n                                             v-for=\"(icon, index) in materialIconsNames\"\n                                             @click=\"acceptNewCategoryIcon(icon)\">\n                                            <span class=\"material-symbols-outlined fs-35\">{{ icon }}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <template #reference>\n                                    <el-button @click=\"isSelectingNewCategoryIcon = !isSelectingNewCategoryIcon\"\n                                               size=\"small\" round>\n                                        {{ newCategory.icon.length ? \"Change\" : \"Select icon\" }}\n                                    </el-button>\n                                </template>\n                            </el-popover>\n                        </div>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <small>&nbsp;</small><br>\n                        <el-button @click=\"acceptNewCategory\" plain>Add Category</el-button>\n                    </div>\n                </div>\n            </div>\n\n            <template v-if=\"newCategories.length\">\n                <el-divider />\n\n                <h6 class=\"f-w-600\">\n                    <small>New Categories to Save</small>\n                </h6>\n                <el-table :data=\"newCategories\" border style=\"width: 100%\">\n                    <el-table-column prop=\"name\" label=\"Category\"/>\n                    <el-table-column label=\"Icon\">\n                        <template #default=\"scope\">\n                            <span class=\"material-symbols-outlined fs-35\">{{ scope.row.icon }}</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column label=\"Remove\">\n                        <template #default=\"scope\">\n                            <el-button @click=\"removeNewCategory(scope.row.id)\" type=\"danger\" :icon=\"Delete\" circle />\n                        </template>\n                    </el-table-column>\n                </el-table>\n\n                <el-divider />\n                <div class=\"row\" v-if=\"checkHasPermission('investment_hub.categories.add')\">\n                    <div class=\"col-sm-3\">\n                        <el-button type=\"primary\" @click=\"saveNewCategories\">Save Categories</el-button>\n                    </div>\n                </div>\n            </template>\n        </div>\n\n    </el-dialog>\n\n    <!-- Modal to edit category -->\n    <el-dialog\n            :fullscreen=\"isSmallScreen\"\n            width=\"40%\"\n            v-model=\"isEditingCategory\">\n\n        <div class=\"row\" v-loading=\"isModalLoading\" v-if=\"editCategory\">\n            <div class=\"row m-b-20\">\n                <template v-if=\"checkHasPermission('investment_hub.categories.delete')\">\n                    <div class=\"d-flex align-items-center\">\n                        <h6 class=\"fw-bold m-0\">\n                            <small class=\"text-muted\">Edit category details below or </small>\n                        </h6>\n                        &nbsp;&nbsp;&nbsp;\n\n                        <el-button type=\"danger\" @click=\"confirmDeleteCategory\" plain>Delete category</el-button>\n                    </div>\n                    <br>\n                    <el-divider />\n                </template>\n\n                <div class=\"row p-l-20\">\n                    <div class=\"col-md-12\">\n                        <small>Edit Category Name</small><br>\n                        <el-input v-model=\"editCategory.name\" placeholder=\"Enter name here\" style=\"max-width: 200px;\"></el-input>\n                    </div>\n                    <div class=\"col-md-12 m-t-20\">\n                        <small>Change Associated Icon</small><br>\n                        <div class=\"d-flex\">\n                            <div>\n                                <span class=\"material-symbols-outlined fs-35\">{{ editCategory.icon }}</span>\n                            </div>\n                            &nbsp;&nbsp;\n\n                            <el-popover :visible=\"isSelectingEditCategoryIcon\" :width=\"200\">\n                                <div class=\"row\">\n                                    <el-input v-model=\"newCategoryIconsSearchString\" placeholder=\"Type to search icon\"></el-input>\n                                    <div class=\"d-flex flex-wrap m-t-10\"\n                                         style=\"max-height: 250px;overflow-y: scroll;overflow-x: hidden;\">\n                                        <div style=\"margin:1px;cursor: pointer\"\n                                             v-for=\"(icon, index) in materialIconsNames\"\n                                             @click=\"acceptEditCategoryIcon(icon)\">\n                                            <span class=\"material-symbols-outlined fs-35\">{{ icon }}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <template #reference>\n                                    <el-button @click=\"isSelectingEditCategoryIcon = !isSelectingEditCategoryIcon\"\n                                               size=\"small\" round>Change</el-button>\n                                </template>\n                            </el-popover>\n                        </div>\n                    </div>\n                </div>\n\n                <hr class=\"m-2\">\n                <div class=\"col-sm-12\">\n                    <el-button type=\"primary\" @click=\"promptSaveEdits\" :disabled=\"!hasEditedCategory\">Save Edits</el-button>\n                </div>\n            </div>\n        </div>\n\n    </el-dialog>\n\n</template>\n\n<style scoped>\n.icons_container{\n    max-height: 250px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n</style>","import script from \"./ManageCategories.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageCategories.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ManageCategories.vue?vue&type=style&index=0&id=fd0e3db6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fd0e3db6\"]])\n\nexport default __exports__","<script setup>\n\nimport {useRouter} from \"vue-router\";\nimport {onMounted} from \"vue\";\nimport ManageCategories from \"@/views/investment_hub/categories/ManageCategories.vue\";\nimport {hasPermissionsWhichContain} from \"@/services/Helpers\";\n\n/* ------------------------------\n* Variables & Properties\n* ------------------------------\n* */\nconst router = useRouter();\n\n/* ------------------------------\n* Component Lifecycle hooks\n* ------------------------------\n* */\nonMounted(()=>{\n    //router.push({name: 'explore_hub.companies.listed'});\n});\n\nfunction tabChanged(tab){\n    switch (tab){\n        case 'active':\n            //router.push({name: 'explore_hub.companies.listed'})\n        case 'reviews':\n            //router.push({name: 'explore_hub.companies.listed'})\n        case 'deleted':\n            //router.push({name: 'explore_hub.companies.listed'})\n    }\n}\n\n</script>\n\n<template>\n\n    <div class=\"pagetitle\">\n        <h1>Categories</h1>\n        <nav>\n            <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\"><router-link :to=\"{name:'dashboard'}\">Home</router-link></li>\n                <li class=\"breadcrumb-item\">Investment Hub</li>\n                <li class=\"breadcrumb-item active\">Listing Categories</li>\n            </ol>\n        </nav>\n    </div>\n\n\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <br>\n\n            <!-- Default Tabs -->\n            <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                <li class=\"nav-item\" role=\"presentation\" v-if=\"hasPermissionsWhichContain(['investment_hub.categories'])\">\n                    <button class=\"nav-link active\"\n                            @click=\"tabChanged('active')\"\n                            data-bs-toggle=\"tab\" data-bs-target=\"#investment_categories_active\"\n                            type=\"button\" role=\"tab\" aria-controls=\"home\" aria-selected=\"false\" tabindex=\"-1\">Categories</button>\n                </li>\n<!--                <li class=\"nav-item\" role=\"presentation\" v-if=\"hasPermissionsWhichContain(['investment_hub.archived_categories'])\">\n                    <button class=\"nav-link\"\n                            @click=\"tabChanged('deleted')\"\n                            data-bs-toggle=\"tab\" data-bs-target=\"#investment_categories_deleted\"\n                            type=\"button\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"true\">Archived</button>\n                </li>-->\n            </ul>\n            <div class=\"tab-content pt-2\" id=\"myTabContent\">\n                <div class=\"tab-pane fade show active p-1\" id=\"investment_categories_active\"\n                      v-if=\"hasPermissionsWhichContain(['investment_hub.categories'])\"\n                     role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                    <manage-categories></manage-categories>\n                </div>\n                <div class=\"tab-pane fade\" id=\"investment_categories_deleted\"\n                      v-if=\"hasPermissionsWhichContain(['investment_hub.archived_categories'])\"\n                     role=\"tabpanel\" aria-labelledby=\"contact-tab\">\n                    Will browse archived categories here\n                </div>\n            </div>\n            <!-- End Default Tabs -->\n\n        </div>\n    </div>\n\n</template>\n\n<style scoped>\n\n</style>","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["class","role","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_hoisted_1","_hoisted_5","script","__exports__","render","store","useStore","isModalLoading","ref","searchString","isAddingCategories","isSelectingNewCategoryIcon","newCategory","name","icon","newCategoryIconsSearchString","newCategories","isEditingCategory","editCategory","isSelectingEditCategoryIcon","isSelectingMultiple","selectedCategories","isLoading","computed","state","investmentHub","isFetchingCategories","materialIconsNames","shared","filter","value","length","includes","categories","listingCategories","entry","toLowerCase","categoryBeingEdited","find","id","hasEditedCategory","Object","keys","some","key","goToAddCategories","acceptNewCategoryIcon","acceptNewCategory","push","randomString","$","growl","warning","message","removeNewCategory","index","findIndex","splice","saveNewCategories","api","post","apiRoutes","INVESTMENT_HUB_ADD_LISTING_CATEGORIES","then","response","notice","data","fetchInvestmentHubListingCategories","catch","error","handleCategoryClick","category","checkHasPermission","JSON","parse","stringify","acceptEditCategoryIcon","promptSaveEdits","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","saveCategoryChanges","payload","reduce","changes","INVESTMENT_HUB_EDIT_LISTING_CATEGORY","categoriesCopy","commit","toggleMultipleSelection","confirmDeleteSelections","prompt","inputPlaceholder","inputValidator","ids","map","reason","deleteCategories","confirmDeleteCategory","INVESTMENT_HUB_DELETE_LISTING_CATEGORIES","onMounted","fetchMaterialIconsNames","useRouter","tabChanged","tab"],"sourceRoot":""}