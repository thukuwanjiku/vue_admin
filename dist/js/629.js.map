{"version":3,"file":"js/629.js","mappings":"mwCAYA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAaF,EAAAA,EAAAA,KAAI,GACjBG,GAAYH,EAAAA,EAAAA,KAAI,GAMtB,SAASI,IACLC,EAAAA,EAAIC,IAAIC,EAAAA,GAAUC,oBAETC,MAAKC,IACFC,QAAQC,IAAI,mBAAoBF,GACzBG,MAEvB,CACA,SAASA,IAGL,IAAIC,EAAU,CACVf,MAAOA,EAAMgB,MAAMC,OACnBf,SAAUA,EAASc,MAAMC,QAI7Bb,EAAUY,OAAQ,EAGlBV,EAAAA,EAAIY,KAAKV,EAAAA,GAAUW,MAAOJ,GACjBL,MAAKC,IAEFb,EAAMsB,OAAO,wBAAyBT,EAASU,KAAKC,OAGpDxB,EAAMsB,OAAO,uBAAwBT,EAASU,KAAKE,MAGhDpB,IACCqB,aAAaC,QAAQ,WAAYC,KAAKC,UAAUhB,EAASU,KAAKE,OAC9DC,aAAaC,QAAQ,eAAgBd,EAASU,KAAKC,QAIvDlB,EAAUY,OAAQ,EAGlBpB,EAAOgC,QAAQ,CAAEC,KAAM,aAAa,IAEvCC,OAAMC,GAAS3B,EAAUY,OAAQ,GAC9C,C,g6BC9DA,MAAMgB,EAAc,EAEpB,O","sources":["webpack://myzola-admin/./src/views/auth/Login.vue","webpack://myzola-admin/./src/views/auth/Login.vue?930c"],"sourcesContent":["<script setup>\r\n\r\n//imports\r\nimport { ref } from 'vue';\r\nimport api from \"@/services/api\";\r\nimport {apiRoutes} from \"@/services/apiRoutes\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {useStore} from \"vuex\";\r\n\r\n/**\r\n * All variables definitions\r\n * */\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst rememberMe = ref(false);\r\nconst isLoading = ref(false)\r\n\r\n\r\n/**\r\n * Methods definitions\r\n * */\r\nfunction getSanctumCSRFToken(){\r\n    api.get(apiRoutes.SANCTUM_CSRF_TOKEN)\r\n            //call method to login user\r\n            .then(response => {\r\n                console.log('Sanctum response', response);\r\n                return login();\r\n            })\r\n}\r\nfunction login(){\r\n\r\n    //prepare request payload\r\n    let payload = {\r\n        email: email.value.trim(),\r\n        password: password.value.trim()\r\n    }\r\n\r\n    //show loader\r\n    isLoading.value = true;\r\n\r\n    //make api call\r\n    api.post(apiRoutes.LOGIN, payload)\r\n            .then(response => {\r\n                //store access token\r\n                store.commit('auth/STORE_AUTH_TOKEN', response.data.token);\r\n\r\n                //store user details\r\n                store.commit('auth/STORE_AUTH_USER', response.data.user)\r\n\r\n                //if \"Remember Me\" is checked, save the details in localStorage\r\n                if(rememberMe){\r\n                    localStorage.setItem('mz.admin', JSON.stringify(response.data.user));\r\n                    localStorage.setItem('bearer_token', response.data.token);\r\n                }\r\n\r\n                //dismiss loader\r\n                isLoading.value = false;\r\n\r\n                //redirect user to dashboard\r\n                router.replace({ name: 'dashboard'}); //TODO Implement intended route logic\r\n            })\r\n            .catch(error => isLoading.value = false)\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n\r\n    <div class=\"container-scroller\">\r\n        <div class=\"container-fluid page-body-wrapper full-page-wrapper\">\r\n            <div class=\"content-wrapper d-flex align-items-center auth px-0\">\r\n                <div class=\"row w-100 mx-0\">\r\n                    <div class=\"col-lg-4 mx-auto\">\r\n                        <div v-loading=\"isLoading\" class=\"auth-form-light text-left py-5 px-4 px-sm-5\">\r\n                            <div class=\"brand-logo\">\r\n                                <img src=\"@/assets/images/myzola_logo.png\" alt=\"logo\">\r\n                            </div>\r\n                            <h4 class=\"font-weight-light\">Sign in to continue.</h4>\r\n                            <form @submit.prevent=\"getSanctumCSRFToken\" class=\"pt-3\">\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"email\" class=\"form-control form-control-lg\" placeholder=\"Email\" v-model=\"email\" required>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"password\" class=\"form-control form-control-lg\" placeholder=\"Password\" v-model=\"password\" required>\r\n                                </div>\r\n                                <div class=\"mt-3 d-grid gap-2\">\r\n                                    <button type=\"submit\"\r\n                                            class=\"btn btn-block btn-lg font-weight-medium auth-form-btn mz-bg mz-bg-hover text-white\"\r\n                                    >SIGN IN</button>\r\n                                </div>\r\n                                <div class=\"my-2 d-flex justify-content-between align-items-center\">\r\n                                    <div class=\"form-check\">\r\n                                        <label class=\"form-check-label text-muted\">\r\n                                            <input type=\"checkbox\" class=\"form-check-input\" v-model=\"rememberMe\">\r\n                                            <a href=\"#\">Remember me</a>\r\n                                            <i class=\"input-helper\"></i><i class=\"input-helper\"></i></label>\r\n                                    </div>\r\n                                    <a href=\"#\" class=\"auth-link text-black\">Forgot password?</a>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- content-wrapper ends -->\r\n        </div>\r\n        <!-- page-body-wrapper ends -->\r\n    </div>\r\n\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","store","useStore","email","ref","password","rememberMe","isLoading","getSanctumCSRFToken","api","get","apiRoutes","SANCTUM_CSRF_TOKEN","then","response","console","log","login","payload","value","trim","post","LOGIN","commit","data","token","user","localStorage","setItem","JSON","stringify","replace","name","catch","error","__exports__"],"sourceRoot":""}