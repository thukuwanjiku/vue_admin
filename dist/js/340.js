"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[340],{7340:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ge}});var t=a(6768),n=a(1387),s=(a(4114),a(144)),o=a(4232),u=a(7477),i=(a(1452),a(782)),c=a(7021),d=a(4300),r=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-683fe1ce"),e=e(),(0,t.jt)(),e),k={class:"row p-2"},p={class:"col-sm-12 d-flex m-b-10"},b=m((()=>(0,t.Lk)("br",null,null,-1))),g={key:0,class:"row"},h={key:0,class:"text-muted text-italic"},f=m((()=>(0,t.Lk)("br",null,null,-1))),L={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},C={key:0,class:"text-italic"},y={key:1,class:"fw-bold"},_=["onClick"],w={class:"text-center"},E={class:"material-symbols-outlined fs-40"},x=m((()=>(0,t.Lk)("br",null,null,-1))),F={key:1,class:"row"},T=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),I=[T],R={class:"row"},S={class:"row m-b-20"},W=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),X={class:"row p-l-20"},V={class:"col-md-4"},K=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),N=m((()=>(0,t.Lk)("br",null,null,-1))),O={class:"col-md-4"},A=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),H=m((()=>(0,t.Lk)("br",null,null,-1))),P={class:"d-flex"},D={key:0},G={class:"material-symbols-outlined fs-35"},Q={class:"row"},U={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},B=["onClick"],J={class:"material-symbols-outlined fs-35"},j={class:"col-md-4"},z=m((()=>(0,t.Lk)("small",null," ",-1))),M=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},ne=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),se=m((()=>(0,t.Lk)("br",null,null,-1))),oe={class:"row p-l-20"},ue={class:"col-md-12"},ie=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),de={class:"col-md-12 m-t-20"},re=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},ke={class:"material-symbols-outlined fs-35"},pe={class:"row"},be={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},ge=["onClick"],he={class:"material-symbols-outlined fs-35"},fe=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),Le={class:"col-sm-12"};var Ce={__name:"ManageCategories",setup(e){const l=(0,i.Pj)(),a=(0,s.KR)(!1),n=(0,s.KR)(""),m=(0,s.KR)(!1),T=(0,s.KR)(!1),Ce=(0,s.KR)({name:"",icon:""}),ye=(0,s.KR)(""),_e=(0,s.KR)([]),we=(0,s.KR)(!1),Ee=(0,s.KR)(null),xe=(0,s.KR)(!1),Fe=(0,s.KR)(!1),Te=(0,s.KR)([]),Ie=(0,t.EW)((()=>l.state.exploreHub.isFetchingCategories)),Re=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!ye.value.length||e.includes(ye.value))))),Se=(0,t.EW)((()=>l.state.exploreHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),We=(0,t.EW)((()=>Ee.value?Se.value.find((e=>e.id==Ee.value.id)):null)),Xe=(0,t.EW)((()=>!!We.value&&Object.keys(We.value).some((e=>Ee.value[e]!==We.value[e]))));function Ve(){m.value=!0,ye.value=""}function Ke(e){Ce.value.icon=e,T.value=!1}function Ne(){return Ce.value.name.length?Ce.value.icon.length?(_e.value.push({id:(0,c.DU)(),name:Ce.value.name,icon:Ce.value.icon}),void(Ce.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Oe(e){let l=_e.value.findIndex((l=>l.id==e));l>-1&&_e.value.splice(l,1)}function Ae(){_e.value.length&&(a.value=!0,d.A.post(r.pe.EXPLORE_HUB_ADD_LISTING_CATEGORIES,{categories:_e.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.HC)(),m.value=!1,_e.value=[],a.value=!1,ye.value=""})).catch((e=>a.value=!1)))}function He(e){if(Fe.value){let l=Te.value.findIndex((l=>l.id==e.id));l>-1?Te.value.splice(l,1):Te.value.push(e)}else Ee.value=JSON.parse(JSON.stringify(e)),we.value=!0,ye.value=""}function Pe(e){Ee.value.icon=e,xe.value=!1}function De(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Ge()})).catch((()=>{}))}function Ge(){let e={id:Ee.value.id,...Object.keys(We.value).reduce(((e,l)=>(Ee.value[l]!==We.value[l]&&(e[l]=Ee.value[l]),e)),{})};a.value=!0,d.A.post(r.pe.EXPLORE_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Se.value)),n=t.findIndex((e=>e.id==Ee.value.id));n>-1&&(t[n]=e.data.data,l.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",t)),we.value=!1,a.value=!1})).catch((e=>a.value=!1))}function Qe(){Te.value=[],Fe.value=!Fe.value}function Ue(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:Te.value.map((e=>e.id)),reason:e};Je(l)})).catch((()=>{}))}function Be(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[Ee.value.id],reason:e};Je(l)})).catch((()=>{}))}function Je(e){l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,d.A.post(r.pe.EXPLORE_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),Te.value=[],fetchExploreListingCategories(),we.value=!1,a.value=!1,Fe.value=!1})).catch((e=>{a.value=!1,l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{Se.value.length||(0,c.HC)(),Re.value.length||(0,c.ob)()})),(e,l)=>{const i=(0,t.g2)("el-button"),d=(0,t.g2)("el-input"),r=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),We=(0,t.g2)("el-divider"),Ge=(0,t.g2)("el-table-column"),Je=(0,t.g2)("el-table"),$e=(0,t.g2)("el-dialog"),je=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",p,[(0,t.bF)(i,{type:"primary",icon:(0,s.R1)(u.FWt),onClick:Ve,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(d,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"]),(0,t.eW)("      "),(0,t.bF)(i,{icon:(0,s.R1)(u.Jlk),type:Fe.value?"primary":"",onClick:Qe,plain:!Fe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),b,Se.value.length?((0,t.uX)(),(0,t.CE)("div",g,[Fe.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",h,"Tap entry to edit")),f,Fe.value?((0,t.uX)(),(0,t.CE)("div",L,[Te.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",C,"Tap to select")),Te.value.length?((0,t.uX)(),(0,t.CE)("small",y,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Te.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(r,{closable:"",onClose:l=>He(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Te.value.length?((0,t.uX)(),(0,t.Wv)(i,{key:2,class:"m-l-10",onClick:Ue,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"explore_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>He(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[(0,t.Lk)("span",E,(0,o.v_)(e.icon),1),x,(0,t.eW)(" "+(0,o.v_)(e.name),1)])])),_:2},1024)],8,_)))),128))])):((0,t.uX)(),(0,t.CE)("div",F,I))])),[[je,Ie.value]]),(0,t.bF)($e,{fullscreen:(0,s.R1)(c.Qv),modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("div",S,[W,(0,t.Lk)("div",X,[(0,t.Lk)("div",V,[K,N,(0,t.bF)(d,{modelValue:Ce.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Ce.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",O,[A,H,(0,t.Lk)("div",P,[Ce.value.icon.length?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.Lk)("span",G,(0,o.v_)(Ce.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:T.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{onClick:l[3]||(l[3]=e=>T.value=!T.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(Ce.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",Q,[(0,t.bF)(d,{modelValue:ye.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ye.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Re.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Ke(e)},[(0,t.Lk)("span",J,(0,o.v_)(e),1)],8,B)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",j,[z,M,(0,t.bF)(i,{onClick:Ne,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),_e.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(We),Y,(0,t.bF)(Je,{data:_e.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Ge,{prop:"name",label:"Category"}),(0,t.bF)(Ge,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,o.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Ge,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(i,{onClick:l=>Oe(e.row.id),type:"danger",icon:(0,s.R1)(u.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(We),(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(i,{type:"primary",onClick:Ae},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[je,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)($e,{fullscreen:(0,s.R1)(c.Qv),width:"40%",modelValue:we.value,"onUpdate:modelValue":l[8]||(l[8]=e=>we.value=e)},{default:(0,t.k6)((()=>[Ee.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[ne,(0,t.eW)("     "),(0,t.bF)(i,{type:"danger",onClick:Be,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),se,(0,t.bF)(We),(0,t.Lk)("div",oe,[(0,t.Lk)("div",ue,[ie,ce,(0,t.bF)(d,{modelValue:Ee.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>Ee.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",de,[re,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",ke,(0,o.v_)(Ee.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:xe.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{onClick:l[7]||(l[7]=e=>xe.value=!xe.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",pe,[(0,t.bF)(d,{modelValue:ye.value,"onUpdate:modelValue":l[6]||(l[6]=e=>ye.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",be,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Re.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Pe(e)},[(0,t.Lk)("span",he,(0,o.v_)(e),1)],8,ge)))),256))])])])),_:1},8,["visible"])])])]),fe,(0,t.Lk)("div",Le,[(0,t.bF)(i,{type:"primary",onClick:De,disabled:!Xe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[je,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},ye=a(1241);const _e=(0,ye.A)(Ce,[["__scopeId","data-v-683fe1ce"]]);var we=_e;const Ee={class:"pagetitle"},xe=(0,t.Lk)("h1",null,"Categories",-1),Fe={class:"breadcrumb"},Te={class:"breadcrumb-item"},Ie=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),Re=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),Se={class:"card"},We={class:"card-body"},Xe=(0,t.Lk)("br",null,null,-1),Ve={class:"nav nav-tabs",id:"myTab",role:"tablist"},Ke={class:"nav-item",role:"presentation"},Ne={class:"nav-item",role:"presentation"},Oe={class:"tab-content pt-2",id:"myTabContent"},Ae={class:"tab-pane fade show active p-1",id:"explore_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},He=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Will browse archived categories here ",-1);var Pe={__name:"Main",setup(e){(0,n.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Ee,[xe,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",Fe,[(0,t.Lk)("li",Te,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Ie,Re])])]),(0,t.Lk)("div",Se,[(0,t.Lk)("div",We,[Xe,(0,t.Lk)("ul",Ve,[(0,t.Lk)("li",Ke,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",Ne,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])]),(0,t.Lk)("div",Oe,[(0,t.Lk)("div",Ae,[(0,t.bF)(we)]),He])])])],64)}}};const De=Pe;var Ge=De}}]);
//# sourceMappingURL=340.js.map