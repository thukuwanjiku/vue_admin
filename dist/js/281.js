"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[281],{2653:function(e,a,l){l.d(a,{A:function(){return m}});var t=l(6768);const n={class:"alert alert-danger alert-dismissible fade show",role:"alert"},i=(0,t.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),s=(0,t.Lk)("hr",null,null,-1),r=(0,t.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),o=[i,s,r];function c(e,a){return(0,t.uX)(),(0,t.CE)("div",n,o)}var u=l(1241);const d={},v=(0,u.A)(d,[["render",c]]);var m=v},7676:function(e,a,l){l.d(a,{A:function(){return u}});var t=l(6768);const n={class:"f-w-600"},i=(0,t.Lk)("br",null,null,-1);function s(e,a){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("small",n,[(0,t.RG)(e.$slots,"default")]),i],64)}var r=l(1241);const o={},c=(0,r.A)(o,[["render",s]]);var u=c},6281:function(e,a,l){l.r(a),l.d(a,{default:function(){return Ue}});l(4114);var t=l(6768),n=l(144),i=l(1387),s=l(4232),r=l(5130),o=l(782),c=l(7676),u=l(4300),d=l(7190),v=l(1219),m=l(7021);const p={key:0,class:"row d-flex align-items-center justify-content-center p-t-20 p-b-20"},b={class:"col-md-4 col-sm-12"},k=["src"],_={class:"col-sm-12 m-t-10"},g={key:1,class:"row"},h={class:"row p-t-15 p-b-10"},f={class:"col-md-12 d-flex align-items-center justify-content-center flex-wrap p-2"},L={class:"m-0"},y={key:1,class:"d-flex align-items-center flex-wrap company_changer m-l-10"},w=["src"],E={class:"change_actions"},C={class:"row m-t-20"},R={class:"col-md-3 text-center"},x=(0,t.Lk)("h5",null,[(0,t.Lk)("small",{class:"fw-bold"},"Total Reviews")],-1),X={class:"total_review_count"},F={class:"col-md-3 text-center"},A=(0,t.Lk)("h5",null,[(0,t.Lk)("small",{class:"fw-bold"},"Average Rating")],-1),N={class:"col-md-12 d-flex justify-content-center align-items-center"},W={class:"average_rating"},T={class:"col-md-3"},V={style:{"font-size":"20px","font-weight":"600"}},I={class:"progress",style:{height:"12px",width:"250px"}},S={style:{"font-size":"20px","font-weight":"600"}},K={class:"col-sm-12 d-flex flex-wrap reviews"},M={class:"col-md-12 d-flex align-items-center reviewer_details"},H=["src"],Q={class:"m-l-8"},O={class:"fw-bold fs-12"},B=(0,t.Lk)("br",null,null,-1),U={class:"fs-12"},Y=(0,t.Lk)("br",null,null,-1),z={class:"fs-12"},P={class:"col-md-12 d-flex align-items-center justify-content-between"},j={class:"fs-11"},D={class:"col-sm-12 m-t-5 fs-12"},J={class:"col-sm-12 review_listing"},G=(0,t.Lk)("small",{class:"text-muted fs-11"},"Posted for",-1),q=(0,t.Lk)("br",null,null,-1),Z={class:"m-0 fw-bold fs-12"},ee={key:0,class:"col-sm-12 reviews_pagination m-t-20"},ae={class:"pagination justify-content-center"},le=["onClick","innerHTML"],te={key:0,class:"text-center text-muted p-5"};var ne={__name:"Reviews",setup(e){const a=(0,o.Pj)(),l=(0,n.KR)(!1),i=(0,n.KR)(!1),$=(0,n.KR)(null),ne=(0,n.KR)({}),ie=(0,n.KR)({}),se=(0,n.KR)({}),re=(0,n.KR)({}),oe=(0,n.KR)(null),ce=(0,n.KR)(null),ue=(0,t.EW)((()=>a.state.investmentHub.companies)),de=(0,t.EW)((()=>oe.value&&se.value[oe.value]?se.value[oe.value]:[]));function ve(){let e=ue.value.find((e=>e.id==$.value));if(!e)return v.nk.warning("An error occurred, please reload the page and try again");ne.value=JSON.parse(JSON.stringify(e)),me()}function me(){let e={company_id:$.value};l.value=!0,u.A.post(d.pe.INVESTMENT_HUB_COMPANY_REVIEWS_SUMMARY,e).then((e=>{ie.value=e.data,pe()})).catch((e=>l.value=!1))}function pe(e=null){e||(e=d.pe.INVESTMENT_HUB_COMPANY_REVIEWS);let a={company_id:ne.value.id};l.value=!0,u.A.post(e,a).then((e=>{re.value=e.data.pagination.links,oe.value=e.data.pagination.current_page,ce.value=e.data.pagination.last_page,se.value[e.data.pagination.current_page]=e.data.data,i.value=!1,l.value=!1,$.value=null})).catch((e=>l.value=!1))}function be(e){if(e.active)return;let a=parseInt(e.url.toString().split("page=")[1]);if(!se.value[a])return pe(e.url);oe.value=a;let l=JSON.parse(JSON.stringify(re.value)).map((e=>(e.active=e.url&&e.label.length<2&&e.url.includes(`page=${a}`),e))).map((e=>(e.label.toLowerCase().includes("previous")&&(e.url=1==a?null:`${d.pe.INVESTMENT_HUB_COMPANY_REVIEWS}?page=${oe.value-1}`),e.label.toLowerCase().includes("next")&&(e.url=a==ce.value?null:`${d.pe.INVESTMENT_HUB_COMPANY_REVIEWS}?page=${oe.value+1}`),e)));re.value=l}return(e,a)=>{const o=(0,t.g2)("el-option"),u=(0,t.g2)("el-select"),d=(0,t.g2)("el-button"),v=(0,t.g2)("el-button-group"),se=(0,t.g2)("el-divider"),oe=(0,t.g2)("el-rate"),ce=(0,t.gN)("loading");return(0,n.R1)(m.cE)("investment_hub.companies_reviews.view")&&!Object.keys(ne.value).length?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.Lk)("div",b,[(0,t.bF)(c.A,null,{default:(0,t.k6)((()=>[(0,t.eW)("Select company to browse reviews")])),_:1}),(0,t.bF)(u,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),placeholder:"Click to select",size:"large",filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ue.value,(e=>((0,t.uX)(),(0,t.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,k),(0,t.eW)("  "+(0,s.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.Lk)("div",_,[(0,t.bF)(d,{disabled:!$.value,type:"primary",onClick:ve},{default:(0,t.k6)((()=>[(0,t.eW)("Browse Reviews")])),_:1},8,["disabled"])])])])):(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("div",h,[(0,t.Lk)("div",f,[(0,t.Lk)("h3",L,(0,s.v_)(ne.value.name),1),(0,t.eW)("   "),i.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(d,{key:0,size:"small",onClick:a[1]||(a[1]=e=>i.value=!0),plain:"",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})),i.value?((0,t.uX)(),(0,t.CE)("div",y,[(0,t.bF)(u,{modelValue:$.value,"onUpdate:modelValue":a[2]||(a[2]=e=>$.value=e),placeholder:"Click to select another company",style:{width:"255px"},filterable:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ue.value.filter((e=>e.id!=ne.value.id)),(e=>((0,t.uX)(),(0,t.Wv)(o,{key:"reviews-company-picker-"+e.id,label:e.name,value:e.id},{default:(0,t.k6)((()=>[(0,t.Lk)("img",{src:e.logo,style:{"max-width":"30px","max-height":"20px","border-radius":"10px"}},null,8,w),(0,t.eW)("  "+(0,s.v_)(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.eW)("    "),(0,t.Lk)("div",E,[(0,t.bF)(v,null,{default:(0,t.k6)((()=>[(0,t.bF)(d,{onClick:ve,type:"primary"},{default:(0,t.k6)((()=>[(0,t.eW)("Go")])),_:1}),(0,t.bF)(d,{onClick:a[3]||(a[3]=e=>i.value=!1)},{default:(0,t.k6)((()=>[(0,t.eW)("Cancel")])),_:1})])),_:1})])])):(0,t.Q3)("",!0)])]),ie.value.reviews_count&&ie.value.reviews_count>0?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("div",C,[(0,t.Lk)("div",R,[x,(0,t.Lk)("div",X,(0,s.v_)(ie.value.reviews_count),1)]),(0,t.bF)(se,{style:(0,s.Tr)("height:"+((0,n.R1)(m.Qv)?"inherit":"7em")+";"),direction:(0,n.R1)(m.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,t.Lk)("div",F,[A,(0,t.Lk)("div",N,[(0,t.Lk)("div",W,(0,s.v_)(ie.value.average_rating),1),(0,t.eW)("    "),(0,t.bF)(oe,{class:"big_rating",size:"large",modelValue:ie.value.average_rating,"onUpdate:modelValue":a[4]||(a[4]=e=>ie.value.average_rating=e),disabled:""},null,8,["modelValue"])])]),(0,t.bF)(se,{style:(0,s.Tr)("height:"+((0,n.R1)(m.Qv)?"inherit":"7em")+";"),direction:(0,n.R1)(m.Qv)?"horizontal":"vertical"},null,8,["style","direction"]),(0,t.Lk)("div",T,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ie.value.rating_levels_count,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"rating-level-"+e.rating,class:"d-flex align-items-center"},[(0,t.Lk)("div",V,(0,s.v_)(e.rating),1),(0,t.eW)("    "),(0,t.Lk)("div",I,[(0,t.Lk)("div",{class:(0,s.C4)(["progress-bar",{"bg-success":5==e.rating,"bg-primary":4==e.rating,"bg-info":3==e.rating,"bg-warning":2==e.rating,"bg-danger":1==e.rating}]),role:"progressbar",style:(0,s.Tr)("width: "+e.percentage+"%")},null,6)]),(0,t.eW)("    "),(0,t.Lk)("div",S,(0,s.v_)(e.count),1)])))),128))])]),(0,t.bF)(se,{id:"reviewsStart"}),(0,t.Lk)("div",K,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(de.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"page-reviews-"+e.id,class:"col-md-4 review",style:{padding:"10px"}},[(0,t.Lk)("div",M,[(0,t.Lk)("img",{src:e.reviewer.avatar},null,8,H),(0,t.Lk)("div",Q,[(0,t.Lk)("h6",null,[(0,t.Lk)("small",null,[(0,t.Lk)("span",O,(0,s.v_)(e.reviewer.name),1),B,(0,t.Lk)("span",U,(0,s.v_)(e.reviewer.email),1),Y,(0,t.Lk)("span",z,(0,s.v_)(e.reviewer.phone),1)])])])]),(0,t.Lk)("div",P,[(0,t.Lk)("div",null,[(0,t.bF)(oe,{"disabled-void-color":"#c8c5cb",colors:["#fdbf08","#fdbf08","#fdbf08"],modelValue:e.rating,"onUpdate:modelValue":a=>e.rating=a,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("small",j,(0,s.v_)(e.date),1)]),(0,t.Lk)("div",D,(0,s.v_)(e.review),1),(0,t.Lk)("div",J,[G,q,(0,t.Lk)("p",Z,(0,s.v_)(e.listing_title),1)])])))),128))]),re.value.length>3?((0,t.uX)(),(0,t.CE)("div",ee,[(0,t.Lk)("ul",ae,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(re.value,(e=>((0,t.uX)(),(0,t.CE)("li",{class:"page-item",key:"pagination-link-"+e.label},[(0,t.Lk)("a",{class:(0,s.C4)({"page-link":!0,disabled:!e.url,active:e.active}),href:"#",onClick:(0,r.D$)((a=>be(e)),["prevent"]),innerHTML:e.label},null,10,le)])))),128))])])):(0,t.Q3)("",!0)],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[l.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",te," No reviews found "))],64))])),[[ce,l.value]])}}};const ie=ne;var se=ie,re=l(7477),oe=l(2933),ce=l(2653);const ue=e=>((0,t.Qi)("data-v-23679fe0"),e=e(),(0,t.jt)(),e),de={class:"row p-2"},ve={key:0,class:"table-responsive"},me={class:"table table-hover"},pe=ue((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Logo"),(0,t.Lk)("th",null,"Name"),(0,t.Lk)("th",null,"Archived By"),(0,t.Lk)("th",null,"On"),(0,t.Lk)("th",null,"Reason"),(0,t.Lk)("th",null,"Actions")])],-1))),be=["src","alt"],ke={key:1},_e=ue((()=>(0,t.Lk)("td",{colspan:"6",class:"text-center p-3"},"No data",-1))),ge=[_e],he={key:1};var fe={__name:"Archived",setup(e){const a=(0,o.Pj)(),l=(0,t.EW)((()=>a.state.investmentHub.archivedCompanies)),i=(0,t.EW)({get:()=>a.state.investmentHub.isFetchingArchivedCompanies,set:e=>a.commit("investmentHub/SET_IS_FETCHING_ARCHIVED_COMPANIES",e)});function r(e){switch(e.action){case"restore":return c(e.company);case"delete":return p(e.company)}}function c(e){oe.s.confirm("Sure you want to restore this company?","Confirm Restore",{confirmButtonText:"Restore",cancelButtonText:"Cancel"}).then((()=>{let a={id:e.id};v(a)})).catch((()=>{}))}function v(e){i.value=!0,u.A.post(d.pe.INVESTMENT_HUB_RESTORE_ARCHIVED_COMPANY,e).then((e=>{(0,m.Y0)(),(0,m.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>i.value=!1))}function p(e){oe.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let a={id:e.id};b(a)})).catch((()=>{}))}function b(e){i.value=!0,u.A.post(d.pe.INVESTMENT_HUB_DELETE_ARCHIVED_COMPANY,e).then((e=>{(0,m.Y0)(),$.growl.notice({message:e.data.message})})).catch((e=>i.value=!1))}return(0,t.sV)((()=>{(0,m.cE)("investment_hub.archived_companies.view")&&(0,m.Y0)()})),(e,a)=>{const o=(0,t.g2)("el-icon"),c=(0,t.g2)("el-button"),u=(0,t.g2)("el-dropdown-item"),d=(0,t.g2)("el-dropdown-menu"),v=(0,t.g2)("el-dropdown"),p=(0,t.gN)("loading");return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",de,[(0,n.R1)(m.cE)("investment_hub.archived_companies.view")?((0,t.uX)(),(0,t.CE)("div",ve,[(0,t.Lk)("table",me,[pe,(0,t.Lk)("tbody",null,[l.value.length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)(l.value,((e,a)=>((0,t.uX)(),(0,t.CE)("tr",{key:"explore_hub-archived-companies-"+a},[(0,t.Lk)("td",null,[(0,t.Lk)("img",{class:"table-img",src:e.logo,alt:e.name+"'s logo"},null,8,be)]),(0,t.Lk)("td",null,(0,s.v_)(e.name),1),(0,t.Lk)("td",null,(0,s.v_)(e.deleted_by),1),(0,t.Lk)("td",null,(0,s.v_)(e.deleted_at),1),(0,t.Lk)("td",null,(0,s.v_)(e.delete_reason),1),(0,t.Lk)("td",null,[(0,t.bF)(v,{trigger:"click",onCommand:r},{dropdown:(0,t.k6)((()=>[(0,t.bF)(d,null,{default:(0,t.k6)((()=>[(0,n.R1)(m.cE)("investment_hub.archived_companies.restore")?((0,t.uX)(),(0,t.Wv)(u,{key:0,command:{action:"restore",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Restore")])),_:2},1032,["command"])):(0,t.Q3)("",!0),(0,n.R1)(m.cE)("investment_hub.archived_companies.delete")?((0,t.uX)(),(0,t.Wv)(u,{key:1,command:{action:"delete",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Delete")])),_:2},1032,["command"])):(0,t.Q3)("",!0)])),_:2},1024)])),default:(0,t.k6)((()=>[(0,t.bF)(c,{plain:"",type:"primary",disabled:!(0,n.R1)(m.oE)(["investment_hub.archived_companies.restore","investment_hub.archived_companies.delete"]),size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)(" Actions"),(0,t.bF)(o,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,n.R1)(re.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,t.uX)(),(0,t.CE)("tr",ke,ge))])])])):((0,t.uX)(),(0,t.CE)("div",he,[(0,t.bF)(ce.A)]))])),[[p,i.value]])}}},Le=l(1241);const ye=(0,Le.A)(fe,[["__scopeId","data-v-23679fe0"]]);var we=ye;const Ee={class:"pagetitle"},Ce=(0,t.Lk)("h1",null,"Companies",-1),Re={class:"breadcrumb"},xe={class:"breadcrumb-item"},Xe=(0,t.Lk)("li",{class:"breadcrumb-item"},"Investment Hub",-1),Fe=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Companies",-1),Ae={class:"card"},Ne={class:"card-body"},We=(0,t.Lk)("br",null,null,-1),Te={class:"nav nav-tabs",id:"myTab",role:"tablist"},Ve={key:0,class:"nav-item",role:"presentation"},Ie={key:1,class:"nav-item",role:"presentation"},Se={key:2,class:"nav-item",role:"presentation"},Ke={class:"tab-content pt-2",id:"myTabContent"},Me={key:0,class:"tab-pane fade show active p-1",id:"investment_hub_companies_listed",role:"tabpanel","aria-labelledby":"home-tab"},He={key:1,class:"tab-pane fade",id:"investment_hub_companies_reviews",role:"tabpanel","aria-labelledby":"profile-tab"},Qe={key:2,class:"tab-pane fade",id:"investment_hub_companies_deleted",role:"tabpanel","aria-labelledby":"contact-tab"};var Oe={__name:"Main",setup(e){const a=(0,i.rd)();function l(e){switch(e){case"listed":a.push({name:"investment_hub.companies.listed"});case"reviews":case"deleted":}}return(0,t.sV)((()=>{a.push({name:"investment_hub.companies.listed"})})),(e,a)=>{const i=(0,t.g2)("router-link"),s=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Ee,[Ce,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",Re,[(0,t.Lk)("li",xe,[(0,t.bF)(i,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Xe,Fe])])]),(0,t.Lk)("div",Ae,[(0,t.Lk)("div",Ne,[We,(0,t.Lk)("ul",Te,[(0,n.R1)(m.oE)(["investment_hub.companies.view"])?((0,t.uX)(),(0,t.CE)("li",Ve,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("listed")),"data-bs-toggle":"tab","data-bs-target":"#investment_hub_companies_listed",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Listed")])):(0,t.Q3)("",!0),(0,n.R1)(m.oE)(["investment_hub.archived_companies.view"])?((0,t.uX)(),(0,t.CE)("li",Ie,[(0,t.Lk)("button",{class:"nav-link",id:"contact-tab",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#investment_hub_companies_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])):(0,t.Q3)("",!0),(0,n.R1)(m.oE)(["investment_hub.companies_reviews.view"])?((0,t.uX)(),(0,t.CE)("li",Se,[(0,t.Lk)("button",{class:"nav-link",id:"profile-tab",onClick:a[2]||(a[2]=e=>l("reviews")),"data-bs-toggle":"tab","data-bs-target":"#investment_hub_companies_reviews",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",tabindex:"-1"},"Reviews")])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",Ke,[(0,n.R1)(m.oE)(["investment_hub.companies.view"])?((0,t.uX)(),(0,t.CE)("div",Me,[(0,t.bF)(s,{name:"investment_hub_companies_listed"})])):(0,t.Q3)("",!0),(0,n.R1)(m.oE)(["investment_hub.companies_reviews.view"])?((0,t.uX)(),(0,t.CE)("div",He,[(0,t.bF)(se)])):(0,t.Q3)("",!0),(0,n.R1)(m.oE)(["investment_hub.archived_companies.view"])?((0,t.uX)(),(0,t.CE)("div",Qe,[(0,t.bF)(we)])):(0,t.Q3)("",!0)])])])],64)}}};const Be=Oe;var Ue=Be}}]);
//# sourceMappingURL=281.js.map