"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[580],{2653:function(e,l,a){a.d(l,{A:function(){return d}});var s=a(6768);const t={class:"alert alert-danger alert-dismissible fade show",role:"alert"},n=(0,s.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),i=(0,s.Lk)("hr",null,null,-1),u=(0,s.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),r=[n,i,u];function o(e,l){return(0,s.uX)(),(0,s.CE)("div",t,r)}var c=a(1241);const k={},_=(0,c.A)(k,[["render",o]]);var d=_},9005:function(e,l,a){a.r(l),a.d(l,{default:function(){return ml}});a(4114);var s=a(6768),t=a(144),n=a(4232),i=a(4300),u=a(7190),r=a(782),o=a(1387),c=a(2933),k=a(7477),_=a(7021),d=(a(1099),a(2653));const m=e=>((0,s.Qi)("data-v-f07bbe26"),e=e(),(0,s.jt)(),e),b={class:"row p-2"},p={key:0,class:"col-sm-12 d-flex m-b-10"},v=m((()=>(0,s.Lk)("br",null,null,-1))),h={key:1,class:"table-responsive"},f={class:"table table-hover"},L=m((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Logo"),(0,s.Lk)("th",null,"Business Name"),(0,s.Lk)("th",null,"Business Type"),(0,s.Lk)("th",null,"Business Address"),(0,s.Lk)("th",null,"Business Contact"),(0,s.Lk)("th",null,"Contact Person"),(0,s.Lk)("th",null,"Status"),(0,s.Lk)("th",null,"Actions")])],-1))),y=["onClick"],g=["src","alt"],C=m((()=>(0,s.Lk)("br",null,null,-1))),E=["onClick"],x={class:"text-center"},w=m((()=>(0,s.Lk)("br",null,null,-1))),X=["onClick"],R={class:"text-center"},A=m((()=>(0,s.Lk)("br",null,null,-1))),W=["onClick"],Q={class:"text-center"},P=m((()=>(0,s.Lk)("br",null,null,-1))),N=["onClick"],D=m((()=>(0,s.Lk)("br",null,null,-1))),I=["href"],T=["onClick"],F=m((()=>(0,s.Lk)("br",null,null,-1))),S=["href"],O={key:1},B={key:1},H=m((()=>(0,s.Lk)("td",{colspan:"8",class:"text-center p-3"},"No data",-1))),K=[H],M={key:2},V={class:"container"},j={class:"text-center mb-4"},J={class:"h4 fw-bold mb-0"},Y={class:"text-muted"},z={class:"mb-0"},G=["href"],U={class:"text-secondary"},q={class:"border-top pt-3 mb-4"},Z=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Description",-1))),ee=["innerHTML"],le={key:1,class:"text-muted"},ae={class:"row border-top pt-3 mb-4"},se={class:"col-md-6"},te=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Company Contact",-1))),ne={class:"list-unstyled"},ie=m((()=>(0,s.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),ue=["href"],re=m((()=>(0,s.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),oe=m((()=>(0,s.Lk)("i",{class:"bi bi-geo-alt-fill text-muted me-2"},null,-1))),ce={class:"col-md-6"},ke=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Contact Person",-1))),_e={class:"list-unstyled"},de=m((()=>(0,s.Lk)("i",{class:"bi bi-person-fill text-muted me-2"},null,-1))),me=m((()=>(0,s.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),be=["href"],pe=m((()=>(0,s.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),ve={class:"row border-top pt-3 mb-4"},he={class:"col-md-6"},fe=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Bank Details",-1))),Le={class:"list-unstyled"},ye=m((()=>(0,s.Lk)("br",null,null,-1))),ge=m((()=>(0,s.Lk)("br",null,null,-1))),Ce={class:"col-md-6"},Ee=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Company Documents",-1))),xe={class:"list-unstyled"},we={key:0},Xe=["href"],Re={key:1},Ae=["href"],We={key:2},Qe=["href"],Pe={key:3},Ne=["href"],De={key:4},Ie=["href"],Te={key:5},Fe=["href"],Se={key:0,class:"border-top pt-3 mb-4"},Oe=m((()=>(0,s.Lk)("h6",{class:"fw-bold"},"Directors",-1))),Be={class:"table table-bordered table-hover text-center"},He=m((()=>(0,s.Lk)("thead",{class:"table-light"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Name"),(0,s.Lk)("th",null,"Email"),(0,s.Lk)("th",null,"Phone"),(0,s.Lk)("th",null,"ID Document"),(0,s.Lk)("th",null,"KRA PIN Document")])],-1))),Ke=["href"],Me=["href"],Ve={key:1,class:"border-top pt-3 mb-4"},je={class:"d-flex justify-content-center gap-3"},Je=["href"],Ye=m((()=>(0,s.Lk)("i",{class:"bi bi-linkedin fs-5"},null,-1))),ze=[Ye],$e=["href"],Ge=m((()=>(0,s.Lk)("i",{class:"bi bi-twitter fs-5"},null,-1))),Ue=[Ge],qe=["href"],Ze=m((()=>(0,s.Lk)("i",{class:"bi bi-facebook fs-5"},null,-1))),el=[Ze],ll=["href"],al=m((()=>(0,s.Lk)("i",{class:"bi bi-instagram fs-5"},null,-1))),sl=[al],tl=["href"],nl=m((()=>(0,s.Lk)("i",{class:"bi bi-youtube fs-5"},null,-1))),il=[nl],ul=["href"],rl=m((()=>(0,s.Lk)("i",{class:"bi bi-tiktok fs-5"},null,-1))),ol=[rl],cl={class:"text-end"};var kl={__name:"List",setup(e){const l=(0,r.Pj)(),a=(0,o.rd)(),m=(0,t.KR)(!1),H=(0,t.KR)(null);let Ye=(0,s.EW)({get:()=>l.state.exploreHub.companies,set:e=>l.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e)}),Ge=(0,s.EW)({get:()=>l.state.exploreHub.isFetchingCompanies,set:e=>l.commit("exploreHub/SET_IS_FETCHING_COMPANIES",e)});function Ze(e){switch(e.action){case"view":return al(e.company);case"edit":return nl(e.company);case"archive":return rl(e.company);case"delete":return _l(e.company)}}function al(e){if((0,_.cE)("explore_hub.companies.view"))return H.value=JSON.parse(JSON.stringify(e)),m.value=!0}function nl(e){l.commit("exploreHub/SET_EDIT_COMPANY",JSON.parse(JSON.stringify(e))),a.push({name:"explore_hub.companies.edit"})}function rl(e){c.s.prompt("Sure you want to archive this company?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:l})=>{let a={id:e.id,reason:l};kl(a)})).catch((()=>{}))}function kl(e){Ge.value=!0,i.A.post(u.pe.ARCHIVE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.k1)(),(0,_.G1)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}function _l(e){c.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let l={id:e.id};dl(l)})).catch((()=>{}))}function dl(e){Ge.value=!0,i.A.post(u.pe.DELETE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.k1)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}return(0,s.sV)((()=>{(0,_.cE)("explore_hub.companies.view")&&(0,_.k1)()})),(e,l)=>{const i=(0,s.g2)("el-button"),u=(0,s.g2)("el-icon"),r=(0,s.g2)("el-dropdown-item"),o=(0,s.g2)("el-dropdown-menu"),c=(0,s.g2)("el-dropdown"),$=(0,s.g2)("el-dialog"),nl=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",b,[(0,t.R1)(_.cE)("explore_hub.companies.add")?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(i,{onClick:l[0]||(l[0]=e=>(0,t.R1)(a).push({name:"explore_hub.companies.add"})),type:"primary",icon:(0,t.R1)(k.FWt),plain:""},{default:(0,s.k6)((()=>[(0,s.eW)("Add Company")])),_:1},8,["icon"])])):(0,s.Q3)("",!0),v,(0,t.R1)(_.cE)("explore_hub.companies.view")?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("table",f,[L,(0,s.Lk)("tbody",null,[(0,t.R1)(Ye).length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)((0,t.R1)(Ye),((e,l)=>((0,s.uX)(),(0,s.CE)("tr",{key:"explore_hub-companies-"+l,style:{cursor:"pointer"}},[(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("img",{class:"table-img",src:e.logo_url,alt:e.business_name+"'s logo"},null,8,g),C,(0,s.Lk)("small",null,(0,n.v_)(e.reference),1)],8,y),(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("span",x,(0,n.v_)(e.business_name),1),w,(0,s.Lk)("small",null,(0,n.v_)(e.business_tagline),1)],8,E),(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("span",R,(0,n.v_)(e.business_type),1),A,(0,s.Lk)("small",null,(0,n.v_)(e.business_industry.name),1)],8,X),(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("span",Q,(0,n.v_)(e.business_country.name),1),P,(0,s.Lk)("small",null,(0,n.v_)(e.business_address.formatted_address),1)],8,W),(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("span",null,(0,n.v_)(e.business_website),1),D,(0,s.Lk)("small",null,[(0,s.eW)((0,n.v_)(e.business_phone_number)+" | ",1),(0,s.Lk)("a",{href:"mailto:"+e.business_email},(0,n.v_)(e.business_email),9,I)])],8,N),(0,s.Lk)("td",{onClick:l=>al(e)},[(0,s.Lk)("span",null,(0,n.v_)(e.partner_contact_person.formatted_name),1),F,(0,s.Lk)("small",null,[(0,s.eW)((0,n.v_)(e.partner_contact_person.user.phone_number)+" | ",1),(0,s.Lk)("a",{href:"mailto:"+e.partner_contact_person.user.email},(0,n.v_)(e.partner_contact_person.user.email),9,S)])],8,T),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,n.C4)({"badge bg-warning":"pending"===e.status,"badge bg-success":"approved"===e.status})},(0,n.v_)(e.status),3)]),(0,s.Lk)("td",null,[(0,s.bF)(c,{trigger:"click",onCommand:Ze},{dropdown:(0,s.k6)((()=>[(0,s.bF)(o,null,{default:(0,s.k6)((()=>[(0,t.R1)(_.cE)("explore_hub.companies.view")?((0,s.uX)(),(0,s.Wv)(r,{key:0,command:{action:"view",company:e}},{default:(0,s.k6)((()=>[(0,s.eW)("View")])),_:2},1032,["command"])):(0,s.Q3)("",!0),"pending"===e.status?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.bF)(r,{command:{action:"view",company:e}},{default:(0,s.k6)((()=>[(0,s.eW)("Approve")])),_:2},1032,["command"]),(0,s.bF)(r,{command:{action:"view",company:e}},{default:(0,s.k6)((()=>[(0,s.eW)("Reject")])),_:2},1032,["command"])])):(0,s.Q3)("",!0),(0,t.R1)(_.cE)("explore_hub.companies.archive")?((0,s.uX)(),(0,s.Wv)(r,{key:2,command:{action:"archive",company:e}},{default:(0,s.k6)((()=>[(0,s.eW)("Archive")])),_:2},1032,["command"])):(0,s.Q3)("",!0),(0,t.R1)(_.cE)("explore_hub.companies.delete")?((0,s.uX)(),(0,s.Wv)(r,{key:3,command:{action:"delete",company:e}},{default:(0,s.k6)((()=>[(0,s.eW)("Delete")])),_:2},1032,["command"])):(0,s.Q3)("",!0)])),_:2},1024)])),default:(0,s.k6)((()=>[(0,s.bF)(i,{plain:"",type:"primary",disabled:!(0,t.R1)(_.oE)(["explore_hub.companies.view","explore_hub.companies.edit","explore_hub.companies.archive","explore_hub.companies.delete"]),size:"small"},{default:(0,s.k6)((()=>[(0,s.eW)(" Actions"),(0,s.bF)(u,{class:"el-icon--right"},{default:(0,s.k6)((()=>[(0,s.bF)((0,t.R1)(k.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",B,K))])])])):((0,s.uX)(),(0,s.CE)("div",M,[(0,s.bF)(d.A)]))])),[[nl,(0,t.R1)(Ge)]]),H.value?((0,s.uX)(),(0,s.Wv)($,{key:0,modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),width:"70%",class:"view-company-modal"},{footer:(0,s.k6)((()=>[(0,s.Lk)("div",cl,[(0,s.Lk)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=e=>m.value=!1)},"Close")])])),default:(0,s.k6)((()=>[(0,s.Lk)("div",V,[(0,s.Lk)("div",j,[(0,s.Lk)("h3",J,(0,n.v_)(H.value.business_name),1),(0,s.Lk)("p",Y,(0,n.v_)(H.value.business_tagline),1),(0,s.Lk)("p",z,[(0,s.Lk)("a",{href:H.value.business_website,target:"_blank",class:"text-primary"},(0,n.v_)(H.value.business_website),9,G)]),(0,s.Lk)("p",U,(0,n.v_)(H.value.business_type)+" | "+(0,n.v_)(H.value.business_industry.name),1)]),(0,s.Lk)("div",q,[Z,H.value.bio?((0,s.uX)(),(0,s.CE)("p",{key:0,innerHTML:H.value.bio},null,8,ee)):((0,s.uX)(),(0,s.CE)("p",le,"No description available."))]),(0,s.Lk)("div",ae,[(0,s.Lk)("div",se,[te,(0,s.Lk)("ul",ne,[(0,s.Lk)("li",null,[ie,(0,s.Lk)("a",{href:"mailto:"+H.value.business_email,class:"text-primary"},(0,n.v_)(H.value.business_email),9,ue)]),(0,s.Lk)("li",null,[re,(0,s.eW)(" "+(0,n.v_)(H.value.business_phone_number),1)]),(0,s.Lk)("li",null,[oe,(0,s.eW)(" "+(0,n.v_)(H.value.business_address.formatted_address),1)])])]),(0,s.Lk)("div",ce,[ke,(0,s.Lk)("ul",_e,[(0,s.Lk)("li",null,[de,(0,s.eW)(" "+(0,n.v_)(H.value.partner_contact_person.formatted_name),1)]),(0,s.Lk)("li",null,[me,(0,s.Lk)("a",{href:"mailto:"+H.value.partner_contact_person.user.email,class:"text-primary"},(0,n.v_)(H.value.partner_contact_person.user.email),9,be)]),(0,s.Lk)("li",null,[pe,(0,s.eW)(" "+(0,n.v_)(H.value.partner_contact_person.user.phone_number),1)])])])]),(0,s.Lk)("div",ve,[(0,s.Lk)("div",he,[fe,(0,s.Lk)("ul",Le,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(H.value.banks,((e,l)=>((0,s.uX)(),(0,s.CE)("li",{key:l},[(0,s.Lk)("strong",null,(0,n.v_)(e.bank_name),1),(0,s.eW)(" ("+(0,n.v_)(e.bank_branch)+")",1),ye,(0,s.eW)(" Account Name: "+(0,n.v_)(e.bank_account_name),1),ge,(0,s.eW)(" Account Number: "+(0,n.v_)(e.bank_account_number),1)])))),128))])]),(0,s.Lk)("div",Ce,[Ee,(0,s.Lk)("ul",xe,[H.value.documents.business_registration_certificate_file_path?((0,s.uX)(),(0,s.CE)("li",we,[(0,s.Lk)("a",{href:H.value.documents.business_registration_certificate_file_url,target:"_blank",class:"text-primary"}," Business Registration Certificate ",8,Xe)])):(0,s.Q3)("",!0),H.value.documents.company_kra_pin_certificate_file_path?((0,s.uX)(),(0,s.CE)("li",Re,[(0,s.Lk)("a",{href:H.value.documents.company_kra_pin_certificate_file_url,target:"_blank",class:"text-primary"}," KRA PIN Certificate ",8,Ae)])):(0,s.Q3)("",!0),H.value.documents.business_permit_certificate_file_path?((0,s.uX)(),(0,s.CE)("li",We,[(0,s.Lk)("a",{href:H.value.documents.business_permit_certificate_file_url,target:"_blank",class:"text-primary"}," Business Permit ",8,Qe)])):(0,s.Q3)("",!0),H.value.documents.partnership_deed_file_path?((0,s.uX)(),(0,s.CE)("li",Pe,[(0,s.Lk)("a",{href:H.value.documents.partnership_deed_file_url,target:"_blank",class:"text-primary"}," Partnership Deed ",8,Ne)])):(0,s.Q3)("",!0),H.value.documents.partners_resolution_letter_file_path?((0,s.uX)(),(0,s.CE)("li",De,[(0,s.Lk)("a",{href:H.value.documents.partners_resolution_letter_file_url,target:"_blank",class:"text-primary"}," Partners Resolution Letter ",8,Ie)])):(0,s.Q3)("",!0),H.value.documents.cr12_certificate_file_path?((0,s.uX)(),(0,s.CE)("li",Te,[(0,s.Lk)("a",{href:H.value.documents.cr12_certificate_file_url,target:"_blank",class:"text-primary"}," CR12 Certificate ",8,Fe)])):(0,s.Q3)("",!0)])])]),H.value.directors.length?((0,s.uX)(),(0,s.CE)("div",Se,[Oe,(0,s.Lk)("table",Be,[He,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(H.value.directors,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,(0,n.v_)(e.first_name)+" "+(0,n.v_)(e.last_name),1),(0,s.Lk)("td",null,(0,n.v_)(e.email),1),(0,s.Lk)("td",null,(0,n.v_)(e.phone_number),1),(0,s.Lk)("td",null,[(0,s.Lk)("a",{href:e.id_file_url,target:"_blank",class:"text-primary"}," Download ",8,Ke)]),(0,s.Lk)("td",null,[(0,s.Lk)("a",{href:e.kra_pin_file_url,target:"_blank",class:"text-primary"}," Download ",8,Me)])])))),128))])])])):(0,s.Q3)("",!0),Object.keys(H.value.business_socials).length?((0,s.uX)(),(0,s.CE)("div",Ve,[(0,s.Lk)("div",je,[H.value.business_socials.linkedin?((0,s.uX)(),(0,s.CE)("a",{key:0,href:H.value.business_socials.linkedin,target:"_blank",class:"text-primary"},ze,8,Je)):(0,s.Q3)("",!0),H.value.business_socials.twitter?((0,s.uX)(),(0,s.CE)("a",{key:1,href:H.value.business_socials.twitter,target:"_blank",class:"text-primary"},Ue,8,$e)):(0,s.Q3)("",!0),H.value.business_socials.facebook?((0,s.uX)(),(0,s.CE)("a",{key:2,href:H.value.business_socials.facebook,target:"_blank",class:"text-primary"},el,8,qe)):(0,s.Q3)("",!0),H.value.business_socials.instagram?((0,s.uX)(),(0,s.CE)("a",{key:3,href:H.value.business_socials.instagram,target:"_blank",class:"text-danger"},sl,8,ll)):(0,s.Q3)("",!0),H.value.business_socials.youtube?((0,s.uX)(),(0,s.CE)("a",{key:4,href:H.value.business_socials.youtube,target:"_blank",class:"text-danger"},il,8,tl)):(0,s.Q3)("",!0),H.value.business_socials.tiktok?((0,s.uX)(),(0,s.CE)("a",{key:5,href:H.value.business_socials.tiktok,target:"_blank",class:"text-dark"},ol,8,ul)):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)])])),_:1},8,["modelValue"])):(0,s.Q3)("",!0)],64)}}},_l=a(1241);const dl=(0,_l.A)(kl,[["__scopeId","data-v-f07bbe26"]]);var ml=dl}}]);
//# sourceMappingURL=580.js.map