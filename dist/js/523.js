"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[523],{8523:function(e,l,t){t.r(l),t.d(l,{default:function(){return Re}});t(4114);var a=t(6768),n=t(144),i=t(1387),s=t(4232),r=t(5130),c=t(7190),o=t(4300),u=t(7477),v=t(7021),d=t(2933),p=t(782);const m={class:"row"},k={key:0,class:"table-responsive m-t-10"},b={class:"table"},_=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"ID"),(0,a.Lk)("th",null,"Title"),(0,a.Lk)("th",null,"Company"),(0,a.Lk)("th",null,"Times Reported"),(0,a.Lk)("th",null,"Details")])],-1),g=["onClick"],L=["onClick"],h=["onClick"],f=["onClick"],y={key:1},C=(0,a.Lk)("td",{colspan:"5",class:"text-center p-3"},"No data",-1),E=[C],w={class:"row",style:{"max-height":"95vh","overflow-y":"scroll"}},R={class:"col-md-12 d-flex justify-content-center flex-wrap p-t-15"},T={class:"p-2"},I={class:"m-0"},S={key:0,class:"col-md-12 d-flex justify-content-center flex-wrap"},X={class:"p-2"},x={class:"m-0"},N={class:"fw-bold"},Q={class:"m-0"},K={class:"fw-bold fs-16"},V={key:1,class:"col-md-12 d-flex justify-content-center flex-wrap p-t-10 p-b-10"},F={class:"col-md-5 col-sm-12 d-flex justify-content-between flex-wrap"},H=(0,a.Lk)("small",null,"Listing Company",-1),A={class:"m-0 fw-bold"},O=(0,a.Lk)("small",null,"Times Reported",-1),M={class:"m-0 fw-bold fs-25"},P={class:"col-md-12 d-flex align-items-center reviewer_details"},j=["src"],B={class:"m-l-8"},W={class:"fw-bold fs-12"},G=(0,a.Lk)("br",null,null,-1),U={class:"fs-12"},J=(0,a.Lk)("br",null,null,-1),z={class:"fs-12"},D={class:"col-md-12 m-t-5 fs-12",style:{color:"#993455"}},q={class:"col-md-12"},Y={class:"fs-11 text-italic"},Z={key:2,class:"col-sm-12 reviews_pagination m-t-20"},ee={class:"pagination justify-content-center"},le=["onClick","innerHTML"],te={key:3,class:"m-t-20 m-b-20 d-flex justify-content-end"};var ae={__name:"ReportedListings",setup(e){const l=(0,p.Pj)(),t=(0,n.KR)(!1),i=(0,n.KR)(!1),C=(0,n.KR)(!1),ae=(0,n.KR)([]),ne=(0,n.KR)({}),ie=(0,n.KR)({}),se=(0,n.KR)({}),re=(0,n.KR)(null),ce=(0,n.KR)(null),oe=(0,a.EW)((()=>re.value&&ie.value[re.value]?ie.value[re.value]:[]));function ue(){t.value=!0,o.A.post(c.pe.INVESTMENT_HUB_REPORTED_LISTINGS).then((e=>{ae.value=e.data.data,t.value=!1})).catch((e=>t.value=!1))}function ve(e){(0,v.cE)("investment_hub.reported_listings.view")&&(ne.value=JSON.parse(JSON.stringify(e)),C.value=!0,de())}function de(e=null){e||(e=c.pe.INVESTMENT_HUB_LISTING_REPORTS);let l={listing_id:ne.value.id};i.value=!0,o.A.post(e,l).then((e=>{se.value=e.data.pagination.links,re.value=e.data.pagination.current_page,ce.value=e.data.pagination.last_page,ie.value[e.data.pagination.current_page]=e.data.data,i.value=!1})).catch((e=>i.value=!1))}function pe(e){if(e.active)return;let l=parseInt(e.url.toString().split("page=")[1]);if(!ie.value[l])return de(e.url);re.value=l;let t=JSON.parse(JSON.stringify(se.value)).map((e=>(e.active=e.url&&e.label.length<2&&e.url.includes(`page=${l}`),e))).map((e=>(e.label.toLowerCase().includes("previous")&&(e.url=1==l?null:`${c.pe.INVESTMENT_HUB_LISTING_REPORTS}?page=${re.value-1}`),e.label.toLowerCase().includes("next")&&(e.url=l==ce.value?null:`${c.pe.INVESTMENT_HUB_LISTING_REPORTS}?page=${re.value+1}`),e)));se.value=t}function me(){d.s.prompt("Sure you want to archive this listing?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={id:ne.value.id,reason:e};ke(l)})).catch((()=>{}))}function ke(e){i.value=!0,o.A.post(c.pe.INVESTMENT_HUB_ARCHIVE_LISTING,e).then((e=>{$.growl.notice({message:e.data.message}),C.value=!1,ue(),l.commit("investmentHub/STORE_ACTIVE_LISTINGS",[]),i.value=!1})).catch((e=>i.value=!1))}return(0,a.sV)((()=>{ue()})),(e,l)=>{const c=(0,a.g2)("el-button"),o=(0,a.g2)("el-divider"),d=(0,a.g2)("el-dialog"),p=(0,a.gN)("loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",m,[(0,n.R1)(v.cE)("investment_hub.reported_listings.list")?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("table",b,[_,(0,a.Lk)("tbody",null,[ae.value.length?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(ae.value,((e,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:"investment_hub-reported-listings-"+l,style:{cursor:"pointer"}},[(0,a.Lk)("td",{onClick:l=>ve(e)},(0,s.v_)(e.listing_id),9,g),(0,a.Lk)("td",{onClick:l=>ve(e)},(0,s.v_)(e.title),9,L),(0,a.Lk)("td",{onClick:l=>ve(e)},(0,s.v_)(e.company),9,h),(0,a.Lk)("td",{onClick:l=>ve(e)},(0,s.v_)(e.times_reported),9,f),(0,a.Lk)("td",null,[(0,a.bF)(c,{disabled:!(0,n.R1)(v.cE)("investment_hub.reported_listings.view"),onClick:l=>ve(e),type:"primary",size:"small",plain:""},{default:(0,a.k6)((()=>[(0,a.eW)("View")])),_:2},1032,["disabled","onClick"])])])))),128)):((0,a.uX)(),(0,a.CE)("tr",y,E))])])])):(0,a.Q3)("",!0)])),[[p,t.value]]),ne.value?((0,a.uX)(),(0,a.Wv)(d,{key:0,modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),width:"80%",top:"10px","close-on-click-modal":!1,fullscreen:(0,n.R1)(v.Qv),onClosed:l[1]||(l[1]=e=>ie.value={})},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",R,[(0,a.Lk)("div",T,[(0,a.Lk)("small",null,"Listing "+(0,s.v_)(ne.value.listing_id),1),(0,a.Lk)("h3",I,(0,s.v_)(ne.value.title),1)])]),(0,n.R1)(v.Qv)?((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",X,[(0,a.Lk)("p",x,[(0,a.eW)(" Listing Company: "),(0,a.Lk)("span",N,(0,s.v_)(ne.value.company),1)]),(0,a.Lk)("p",Q,[(0,a.eW)(" Times Reported: "),(0,a.Lk)("span",K,(0,s.v_)(ne.value.times_reported),1)])])])):(0,a.Q3)("",!0),(0,n.R1)(v.Qv)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("div",F,[(0,a.Lk)("div",null,[H,(0,a.Lk)("h6",A,(0,s.v_)(ne.value.company),1)]),(0,a.bF)(o,{direction:"vertical",style:{height:"40px"}}),(0,a.Lk)("div",null,[O,(0,a.Lk)("h6",M,(0,s.v_)(ne.value.times_reported),1)])])])),(0,a.bF)(o),(0,a.Lk)("div",{class:(0,s.C4)({"col-md-12 flex-wrap reviews":!0,"d-flex":!(0,n.R1)(v.Qv)})},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(oe.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:"page-reviews-"+e.id,class:"col-md-4 col-sm-12 review",style:{padding:"10px"}},[(0,a.Lk)("div",P,[(0,a.Lk)("img",{src:e.reporter.avatar},null,8,j),(0,a.Lk)("div",B,[(0,a.Lk)("h6",null,[(0,a.Lk)("small",null,[(0,a.Lk)("span",W,(0,s.v_)(e.reporter.name),1),G,(0,a.Lk)("span",U,(0,s.v_)(e.reporter.email),1),J,(0,a.Lk)("span",z,(0,s.v_)(e.reporter.phone),1)])])])]),(0,a.Lk)("div",D,(0,s.v_)("other"==e.reason.toLowerCase()?e.description:e.reason),1),(0,a.Lk)("div",q,[(0,a.Lk)("small",Y,(0,s.v_)(e.date),1)])])))),128))],2),se.value.length>3?((0,a.uX)(),(0,a.CE)("div",Z,[(0,a.Lk)("ul",ee,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(se.value,(e=>((0,a.uX)(),(0,a.CE)("li",{class:"page-item",key:"pagination-link-"+e.label},[(0,a.Lk)("a",{class:(0,s.C4)({"page-link":!0,disabled:!e.url,active:e.active}),href:"#",onClick:(0,r.D$)((l=>pe(e)),["prevent"]),innerHTML:e.label},null,10,le)])))),128))])])):(0,a.Q3)("",!0),(0,n.R1)(v.cE)("investment_hub.listings.archive")?((0,a.uX)(),(0,a.CE)("div",te,[(0,a.bF)(c,{onClick:me,icon:(0,n.R1)(u.azJ),type:"danger"},{default:(0,a.k6)((()=>[(0,a.eW)("Archive Listing")])),_:1},8,["icon"])])):(0,a.Q3)("",!0)])),[[p,i.value]])])),_:1},8,["modelValue","fullscreen"])):(0,a.Q3)("",!0)],64)}}};const ne=ae;var ie=ne;const se={class:"pagetitle"},re=(0,a.Lk)("h1",null,"Listings",-1),ce={class:"breadcrumb"},oe={class:"breadcrumb-item"},ue=(0,a.Lk)("li",{class:"breadcrumb-item"},"Investment Hub",-1),ve=(0,a.Lk)("li",{class:"breadcrumb-item active"},"Listings",-1),de={class:"card"},pe={class:"card-body"},me=(0,a.Lk)("br",null,null,-1),ke={class:"nav nav-tabs",id:"myTab",role:"tablist"},be={key:0,class:"nav-item",role:"presentation"},_e={key:1,class:"nav-item",role:"presentation"},ge={key:2,class:"nav-item",role:"presentation"},Le={class:"tab-content pt-2",id:"myTabContent"},he={key:0,class:"tab-pane fade show active p-1",id:"investment_listings_active",role:"tabpanel","aria-labelledby":"home-tab"},fe=(0,a.Lk)("div",{class:"tab-pane fade",id:"investment_listings_closed",role:"tabpanel","aria-labelledby":"profile-tab"}," Closed Listings ",-1),ye={key:1,class:"tab-pane fade",id:"investment_listings_reported",role:"tabpanel","aria-labelledby":"profile-tab"},Ce={key:2,class:"tab-pane fade",id:"investment_listings_archived",role:"tabpanel","aria-labelledby":"contact-tab"};var Ee={__name:"Main",setup(e){const l=(0,i.rd)();function t(e){switch(e){case"active":return l.push({name:"investment_hub.listings.active"});case"reviews":case"archived":return l.push({name:"investment_hub.listings.archived"})}}return(0,a.sV)((()=>{l.push({name:"investment_hub.listings.active"})})),(e,l)=>{const i=(0,a.g2)("router-link"),s=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",se,[re,(0,a.Lk)("nav",null,[(0,a.Lk)("ol",ce,[(0,a.Lk)("li",oe,[(0,a.bF)(i,{to:{name:"dashboard"}},{default:(0,a.k6)((()=>[(0,a.eW)("Home")])),_:1})]),ue,ve])])]),(0,a.Lk)("div",de,[(0,a.Lk)("div",pe,[me,(0,a.Lk)("ul",ke,[(0,n.R1)(v.oE)(["investment_hub.listings.view"])?((0,a.uX)(),(0,a.CE)("li",be,[(0,a.Lk)("button",{class:"nav-link active",onClick:l[0]||(l[0]=e=>t("active")),"data-bs-toggle":"tab","data-bs-target":"#investment_listings_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Active")])):(0,a.Q3)("",!0),(0,n.R1)(v.oE)(["investment_hub.reported_listings.view"])?((0,a.uX)(),(0,a.CE)("li",_e,[(0,a.Lk)("button",{class:"nav-link",onClick:l[1]||(l[1]=e=>t("reported")),"data-bs-toggle":"tab","data-bs-target":"#investment_listings_reported",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Reported")])):(0,a.Q3)("",!0),(0,n.R1)(v.oE)(["investment_hub.archived_listings.view"])?((0,a.uX)(),(0,a.CE)("li",ge,[(0,a.Lk)("button",{class:"nav-link",id:"contact-tab",onClick:l[2]||(l[2]=e=>t("archived")),"data-bs-toggle":"tab","data-bs-target":"#investment_listings_archived",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Le,[(0,n.R1)(v.oE)(["investment_hub.listings.view"])?((0,a.uX)(),(0,a.CE)("div",he,[(0,a.bF)(s,{name:"investment_listings_active"})])):(0,a.Q3)("",!0),fe,(0,n.R1)(v.oE)(["investment_hub.reported_listings.view"])?((0,a.uX)(),(0,a.CE)("div",ye,[(0,a.bF)(ie)])):(0,a.Q3)("",!0),(0,n.R1)(v.oE)(["investment_hub.archived_listings.view"])?((0,a.uX)(),(0,a.CE)("div",Ce,[(0,a.bF)(s,{name:"investment_listings_archived"})])):(0,a.Q3)("",!0)])])])],64)}}};const we=Ee;var Re=we}}]);
//# sourceMappingURL=523.js.map