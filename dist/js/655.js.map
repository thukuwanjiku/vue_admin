{"version":3,"file":"js/655.js","mappings":"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","sources":["webpack://myzola-admin/./src/components/InputLabel.vue","webpack://myzola-admin/./src/components/InputLabel.vue?f23c","webpack://myzola-admin/./src/views/investment_hub/companies/listed/Edit.vue","webpack://myzola-admin/./src/views/investment_hub/companies/listed/Edit.vue?46ad"],"sourcesContent":["<script setup>\n\n</script>\n\n<template>\n\n    <small class=\"f-w-600\"><slot></slot></small>\n    <br>\n\n</template>\n\n<style scoped>\n\n</style>","import { render } from \"./InputLabel.vue?vue&type=template&id=b813c1c8\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n\nimport {useRouter} from \"vue-router\";\nimport {computed, onMounted, ref} from \"vue\";\nimport api from \"@/services/api\";\nimport {apiRoutes} from \"@/services/apiRoutes\";\nimport {useStore} from \"vuex\";\nimport { VueTelInput } from 'vue-tel-input';\nimport 'vue-tel-input/vue-tel-input.css';\nimport CloseButton from \"@/components/CloseButton.vue\";\nimport {startCase} from \"lodash-es\";\nimport {isSmallScreen, socialPlatforms} from \"@/services/Helpers\";\nimport {ElMessage} from \"element-plus\";\nimport InputLabel from \"@/components/InputLabel.vue\";\nimport SocialHandle from \"@/components/SocialHandle.vue\";\nimport {validateSocialHandle} from \"@/services/SocialHandlesLinksValidator\";\n\n/* ------------------------------\n* Variables & Properties\n* ------------------------------\n* */\nconst router = useRouter();\nconst store = useStore();\n\nlet company = ref({});\n\nlet logoUpload = ref(null);\nlet logoFile = ref(null);\n\nlet bannerUpload = ref(null);\nlet bannerFile = ref(null);\n\nconst isLoading = ref(false);\nlet aboutQuillEditor = ref(null);\n\nconst isAddingSocialHandles = ref(false);\nconst companySocials = ref([]);\nconst newSocials = ref([]);\nconst newSocialHandle = ref({platform:\"\", link:\"\"});\n\nconst businessTypes = [\n  { label: \"Sole Proprietorship\", value: \"Sole Proprietorship\" },\n  { label: \"Partnership\", value: \"Partnership\" },\n  { label: \"Limited Liability Company (LLC)\", value: \"Limited Liability Company\" }\n];\nconst requiredDocuments = ref([]);\nconst documents = ref({});\nconst companyBusinessType = ref();\n\n/* ------------------------------\n* Computed Properties\n* ------------------------------\n* */\nconst savedSocials = computed(()=> companySocials.value.filter(social => !social.deleted));\nconst deletedSocials = computed(()=> companySocials.value.filter(social => social.deleted));\nconst availableSocials = computed(()=>{\n    //get socials already added to the company\n    let alreadyAddedSocials = [\n            ...newSocials.value.map(entry => entry.platform),\n            ...savedSocials.value.map(entry => entry.platform)\n    ];\n    return socialPlatforms.filter(entry => !alreadyAddedSocials.includes(entry));\n});\n\n\n/* ------------------------------\n* Lifecycle Hooks\n* ------------------------------\n* */\nonMounted(()=>{\n    //if there's no company to edit, go back to list of companies\n    if(store.state.investmentHub.editCompany == null) {\n        return router.push({name: 'investment_hub.companies.listed'});\n    }\n\n    //copy details of company being edited\n    company.value = JSON.parse(JSON.stringify(store.state.investmentHub.editCompany));\n    //copy the list of saved socials to variable which will be used to manage them\n    companySocials.value = JSON.parse(JSON.stringify(company.value.socials));\n    //add deleted property to saved socials to track deletions\n    companySocials.value = companySocials.value.map(entry => {\n        entry.deleted = false;\n        return entry;\n    });\n\n  // Load required documents based on current business type\n  companyBusinessType.value = company.value.business_type\n  setRequiredDocuments(company.value.business_type);\n\n    //set the default content for the company's about\n    $(\"#editCompanyAboutEditor\").html(company.value[\"about\"]);\n\n    //initialize quill editor\n    aboutQuillEditor = new Quill('#editCompanyAboutEditor', {\n        theme: 'snow',\n        placeholder: 'Enter company about here'\n    });\n});\n\n/* ------------------------------\n* Methods & functions\n* ------------------------------\n* */\n// Set required documents based on the business type\nfunction setRequiredDocuments(businessType) {\n  const documentTypes = {\n    \"Sole Proprietorship\": [\n      \"Business Registration Certificate\", \"KRA PIN Certificate\",\n      \"Owner's National ID\", \"Owner's KRA PIN Certificate\", \"Bank Account Confirmation Letter (in business name)\"\n    ],\n    \"Partnership\": [\n      \"Partnership Deed\", \"Certificate of Registration\", \"Company KRA PIN Certificate\",\n      \"Partners Resolution Letter\", \"Owner's National ID\", \"Bank Letter Stating Partnership Bank Details\"\n    ],\n    \"Limited Liability Company\": [\n      \"Business Registration Certificate\", \"Company KRA PIN Certificate\", \"Owner's National ID\",\n      \"Owner's KRA PIN Certificate\", \"Bank Account Confirmation Letter (in business name)\"\n    ]\n  };\n  requiredDocuments.value = documentTypes[businessType] || [];\n\n  // Clear documents when business type changes\n  if (companyBusinessType.value !== businessType) {\n    documents.value = {};\n  }else {\n    documents.value = company.value.documents;\n  }\n\n}\n\n// Handle file upload for documents\nfunction handleDocumentUpload(event, documentType) {\n  const file = event.target.files[0];\n\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error(`${documentType} file exceeds 2MB limit. Please upload a smaller file.`);\n    event.target.value = null;\n    return;\n  }\n\n  documents.value[documentType] = file;\n}\nfunction processUpload(event){\n  const file = event.target.files[0];\n\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error('Logo file size exceeds 2MB limit.');\n    event.target.value = null;\n    return;\n  }\n\n  logoUpload.value = file;\n\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    logoFile.value = e.target.result;\n  };\n  reader.readAsDataURL(file);\n}\n\nfunction processBannerUpload(event){\n  const file = event.target.files[0];\n\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error('Banner file size exceeds 2MB limit.');\n    event.target.value = null;\n    return;\n  }\n\n  bannerUpload.value = file;\n\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    bannerFile.value = e.target.result;\n  };\n  reader.readAsDataURL(file);\n}\n\nfunction removeUpload(){\n    logoUpload.value = null;\n    logoFile.value = null;\n    $(\"#companyLogo\").val(\"\");\n}\n\nfunction removeBannerUpload(){\n  bannerUpload.value = null;\n  bannerFile.value = null;\n  $(\"#companyBanner\").val(\"\");\n}\n\nfunction unmarkForDelete(social){\n    //check if save platform has been newly added and remove it\n    let index = newSocials.value.findIndex(_social => _social.platform === social.platform);\n    if(index > -1){\n        //remove that entry and show user message\n        newSocials.value.splice(index, 1);\n        $.growl({\n            title: \"Heads-up\",\n            message: `Newly added ${startCase(social.platform)} handle removed in favor of the one already saved`\n        });\n    }\n    //unmark this social for deletion\n    social.deleted = !social.deleted;\n}\nfunction selectSocialPlatform(social){\n    newSocialHandle.value.platform = social;\n    //if social platform is whatsapp, prefill the link field with whatsapp api link\n    newSocialHandle.value.link = social === 'whatsapp' ? \"https://wa.me/\" : \"\";\n}\n\nfunction addNewSocial(){\n    if(newSocialHandle.value.platform !== 'whatsapp')\n        newSocialHandle.value.link = newSocialHandle.value.link.replace(/\\/+$/, '');\n\n    //validate link entered\n    if(!validateSocialHandle(newSocialHandle.value))\n        return ElMessage.warning(`Please enter a valid ${startCase(newSocialHandle.value.platform)} url`);\n\n    //add new social to company list of socials\n    newSocials.value.push({\n        platform: newSocialHandle.value.platform,\n        link: newSocialHandle.value.link\n    });\n    //reset new social handle details\n    newSocialHandle.value = {platform: \"\", link: \"\"};\n}\n\nfunction submit(){\n    //validate that company about is provided\n    let about = aboutQuillEditor.getSemanticHTML();\n    if(!about || !about.toString().length || about == \"<p></p>\") {\n        return $.growl.warning({message: \"Please enter the company's bio\"})\n    }\n    company.value['about'] = about;\n\n    //validate that phone number is entered\n    if(!company.value.contact_phone || !company.value.contact_phone.toString().length) {\n        return $.growl.warning({message: \"Please enter contact phone\"})\n    }\n\n    //prepare request payload\n    let payload = new FormData();\n    //add to the form data company details which have changed\n    Object.keys(company.value)\n            .filter(value => !['socials', 'logo'].includes(value))\n            .forEach(key => {\n                let value = company.value[key];\n                if(key === 'contact_phone') value = value.toString().replaceAll(\" \", \"\");\n                payload.append(key, value)\n            });\n\n    //add logo to payload, where necessary\n    if(logoUpload.value != null) payload.append('company_logo', logoUpload.value);\n\n    //add banner to payload, where necessary\n    if(bannerUpload.value != null) payload.append('company_banner', bannerUpload.value);\n\n    //KYB Documents\n    Object.keys(documents.value).forEach(doc => {\n      if (documents.value[doc]) {\n        payload.append(`documents[${doc}]`, documents.value[doc]);\n      }\n    });\n\n  //add any new social handles\n    if(newSocials.value.length){\n        newSocials.value.forEach((social, index) => {\n            payload.append(`socials[${index}][platform]`, social.platform);\n            payload.append(`socials[${index}][link]`, social.link);\n        });\n    }\n    //add any deleted social handles\n    if(deletedSocials.value.length){\n        deletedSocials.value.forEach((social, index) => {\n            payload.append(`deleted_socials[${index}]`, social.id);\n        });\n    }\n\n    //SHOW LOADER\n    isLoading.value = true;\n\n    //make api call\n    api.post(apiRoutes.EDIT_INVESTMENT_HUB_LISTED_COMPANY, payload)\n            .then(response => {\n                //show success response\n                $.growl.notice({message: response.data.message});\n\n                //get a copy of current companies list\n                let companies = JSON.parse(JSON.stringify(store.state.investmentHub.companies));\n\n                //replace old company with updated company details\n                let editIndex = companies.findIndex(entry => entry.id == company.value[\"id\"]);\n                if(editIndex > -1){\n                    companies[editIndex] = response.data.data;\n                }\n\n                //overwrite the vuex companies list with the updated copy\n                store.commit('investmentHub/STORE_LISTED_COMPANIES', companies)\n\n                //DISMISS LOADER\n                isLoading.value = false;\n\n                //navigate back to companies list\n                router.back();\n            })\n            .catch(error => isLoading.value = false);\n}\n\n</script>\n\n<template>\n\n    <div class=\"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between\">\n        <h6 class=\"fw-bold mb-0\" style=\"margin-left: 20px;\">Edit Company Details</h6>\n        <close-button></close-button>\n    </div>\n\n    <form @submit.prevent=\"submit\" v-loading=\"isLoading\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <!-- Name -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyName\"\n                               placeholder=\"Company Name\" v-model=\"company.name\" required>\n                        <label for=\"companyName\">Company Name</label>\n                    </div>\n                </div>\n\n                <!-- Tagline -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyTagline\"\n                               placeholder=\"Tagline\" v-model=\"company.description\" required>\n                        <label for=\"companyTagline\">Tagline</label>\n                    </div>\n                </div>\n\n                <!-- Contact Person -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyContactPerson\"\n                               placeholder=\"Company Person\" v-model=\"company.contact_name\" required>\n                        <label for=\"companyContactPerson\">Contact Person</label>\n                    </div>\n                </div>\n\n                <!-- Contact Phone -->\n                <div class=\"col-md-10 m-b-20\">\n                    <small class=\"text-muted\">Contact Phone</small>\n                    <vue-tel-input\n                            v-model=\"company.contact_phone\"\n                            mode=\"international\"></vue-tel-input>\n                </div>\n\n                <!-- Contact Email -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"email\" class=\"form-control\" id=\"companyContactEmail\"\n                               placeholder=\"Email\" v-model=\"company.email\" required>\n                        <label for=\"companyContactEmail\">Email</label>\n                    </div>\n                </div>\n\n                <!-- About -->\n                <div class=\"col-md-10 m-b-20\">\n                    <h6>Company's Bio (About)</h6>\n\n                    <!-- Quill Editor Default -->\n                    <div id=\"editCompanyAboutEditor\" class=\"quill-editor-default\"></div>\n                    <!-- End Quill Editor Default -->\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <!-- Logo -->\n                <div class=\"col-md-10 m-b-20\">\n                    <input-label>Saved Logo</input-label>\n                    <div class=\"m-b-10\">\n                        <img :src=\"company.logo\" style=\"max-height: 80px;max-width:100px;\">\n                    </div>\n\n                    <div class=\"form-floating\">\n                        <input type=\"file\" class=\"form-control\" id=\"companyLogo\" @change=\"processUpload\" accept=\".png,.jpg,.jpeg,.gif\">\n                        <label for=\"companyLogo\">Company Logo</label>\n                    </div>\n\n                    <div class=\"d-flex flex-wrap m-t-10\" v-if=\"logoFile\">\n                        <div class=\"p-1 uploaded-image\">\n                            <img :src=\"logoFile\"  style=\"max-width:80px;max-height:60px;\">\n                            <div class=\"remover\" @click=\"removeUpload\">\n                                <i class=\"ri ri-close-line\"></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n              <!-- Banner -->\n              <div class=\"col-md-10 m-b-20\">\n                <input-label>Saved Banner</input-label>\n                <div class=\"m-b-10\">\n                  <img :src=\"company.banner\" style=\"max-height: 80px;max-width:100px;\">\n                </div>\n\n                <div class=\"form-floating\">\n                  <input type=\"file\" class=\"form-control\" id=\"companyBanner\" @change=\"processBannerUpload\" accept=\".png,.jpg,.jpeg,.gif\">\n                  <label for=\"companyBanner\">Company Banner</label>\n                </div>\n\n                <div class=\"d-flex flex-wrap m-t-10\" v-if=\"bannerFile\">\n                  <div class=\"p-1 uploaded-image\">\n                    <img :src=\"bannerFile\"  style=\"max-width:80px;max-height:60px;\">\n                    <div class=\"remover\" @click=\"removeBannerUpload\">\n                      <i class=\"ri ri-close-line\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n                <!-- Socials -->\n                <div class=\"col-md-10 m-b-20\">\n                    <h6>Social Media Handles</h6>\n\n                    <div class=\"p-l-10 m-t-10\" v-if=\"savedSocials.length\">\n                        <h6><small>Currently saved</small></h6>\n                        <div class=\"d-inline-flex align-items-center flex-wrap\">\n                            <div class=\"saved-social\"\n                                 v-for=\"(social, index) in savedSocials\"\n                                 :key=\"'saved-socials-'+index\">\n                                <social-handle v-bind=\"social\"></social-handle>\n\n                                <div class=\"remover\" @click=\"social.deleted = !social.deleted\">\n                                    <i class=\"ri ri-close-line\"></i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"p-l-10 m-t-10\" v-if=\"deletedSocials.length\">\n                        <h6 class=\"text-danger\"><small>Marked for deletion</small></h6>\n                        <div class=\"d-inline-flex align-items-center flex-wrap\">\n                            <div v-for=\"(social, index) in deletedSocials\"\n                                 :key=\"'to-delete-socials-'+index\" class=\"m-r-5\">\n                                <el-tag closable type=\"danger\" @close=\"unmarkForDelete(social)\">\n                                    {{ startCase(social.platform) }}\n                                </el-tag>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"p-l-10 m-t-10\">\n                        <h6 v-if=\"companySocials.length\"><small>{{ newSocials.length ? \"Newly added to be saved\" : \"Add new handles\" }}</small></h6>\n                        <div class=\"d-inline-flex align-items-center flex-wrap\">\n                            <div v-if=\"newSocials.length\" class=\"d-inline-flex\">\n                                <div class=\"p-1\"\n                                     v-for=\"(social, index) in newSocials\" :key=\"'form-new-socials-'+index\">\n                                    <social-handle v-bind=\"social\"></social-handle>\n                                </div>\n                            </div>\n                            <el-button @click=\"isAddingSocialHandles = !isAddingSocialHandles\" size=\"small\" round>\n                                <i class=\"ri ri-add-line\" v-if=\"!newSocials.length\"></i>{{ newSocials.length ? \"Click to edit\" : \"Click to add\" }}\n                            </el-button>\n                        </div>\n                    </div>\n                  <!-- Business Type Dropdown -->\n                  <div class=\"col-md-10 m-b-20\">\n                    <label for=\"businessType\" class=\"mb-2\">Business Type</label>\n                    <select class=\"form-control\" v-model=\"company.business_type\" @change=\"setRequiredDocuments(company.business_type)\" required>\n                      <option v-for=\"type in businessTypes\" :key=\"type.value\" :value=\"type.value\">{{ type.label }}</option>\n                    </select>\n                  </div>\n\n                  <!-- Required Documents -->\n                  <div class=\"col-md-10 m-b-20\">\n                    <div v-if=\"requiredDocuments.length\">\n                      <h6>Update KYB Documents (Max 2MB per file | pdf, doc, docx)</h6>\n                      <div v-for=\"doc in requiredDocuments\" :key=\"doc\" class=\"form-floating mb-2\">\n                        <input class=\"form-control\" :required=\"companyBusinessType !== company.business_type\"  type=\"file\" @change=\"(event) => handleDocumentUpload(event, doc)\" accept=\".pdf,.doc,.docx\" />\n                        <label :for=\"doc\">{{ doc }}</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n\n        <hr>\n        <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" type=\"submit\">Save Edits</button>\n            &nbsp;\n            <button @click=\"router.back()\" class=\"btn btn-secondary\" type=\"button\">Cancel</button>\n        </div>\n    </form>\n\n    <!-- Modal to add company socials -->\n    <el-dialog\n            :fullscreen=\"isSmallScreen\"\n            v-model=\"isAddingSocialHandles\">\n        <div class=\"row\" v-if=\"newSocials.length\">\n            <h6 class=\"fw-bold\">\n                <small class=\"text-muted\">Currently added</small>\n            </h6>\n            <small class=\"text-muted text-italic\">Click to remove</small>\n            <div class=\"d-inline-flex\">\n                <div @click=\"newSocials.splice(index,1)\"\n                     v-for=\"(social, index) in newSocials\" :key=\"'current-socials-'+index\">\n                    <social-handle :platform=\"social.platform\"></social-handle>\n                </div>\n            </div>\n        </div>\n        <br>\n        <div class=\"row\">\n            <h6 class=\"fw-bold\" v-if=\"newSocials.length\">\n                <small class=\"text-muted\">Add more here</small>\n            </h6>\n            <div class=\"p-l-20\">\n                <form @submit.prevent=\"addNewSocial\">\n                    <small>Select Platform</small>\n                    <br>\n                    <div class=\"d-inline-flex flex-wrap\">\n                        <template\n                                v-for=\"(social, index) in availableSocials\" :key=\"'to-add-social'+index\">\n                            <div @click=\"selectSocialPlatform(social)\" v-if=\"newSocialHandle.platform == social\">\n                                <el-badge value=\"✓\" class=\"item\" type=\"primary\">\n                                    <social-handle :platform=\"social\"></social-handle>\n                                </el-badge>\n                            </div>\n                            <div @click=\"selectSocialPlatform(social)\" v-else>\n                                <social-handle :platform=\"social\"></social-handle>\n                            </div>\n                        </template>\n                    </div>\n                    <br><br>\n                    <div class=\"col-md-6\" v-if=\"newSocialHandle.platform.length\">\n                        <div class=\"input-group mb-3\">\n                            <div class=\"form-floating\">\n                                <input type=\"url\" class=\"form-control\" id=\"newSocialLink\"\n                                       placeholder=\"Tagline\" v-model=\"newSocialHandle.link\" required>\n                                <label for=\"newSocialLink\">Enter {{ startCase(newSocialHandle.platform) }} Link here</label>\n                            </div>\n                            <span class=\"input-group-text\" id=\"basic-addon2\">\n                                <el-button native-type=\"submit\" link>Add</el-button>\n                            </span>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class=\"col-sm-12 d-flex justify-content-end\">\n                <el-button type=\"info\" @click=\"isAddingSocialHandles = !isAddingSocialHandles\" plain>Done</el-button>\n            </div>\n        </div>\n    </el-dialog>\n\n</template>\n<!---->\n\n<style scoped>\n.save-social{\n    position: relative;\n    margin: 3px;\n    border-radius: 5px;\n}\n.save-social:hover .remover{\n    display: flex;\n}\n.save-social > .remover {\n    position: absolute;\n    right: -5px;\n    top: -6px;\n    background: #b7b4b4;\n    border-radius: 50%;\n    height: 20px;\n    width: 20px;\n    display: none;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    cursor: pointer;\n}\n</style>\n","import script from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Edit.vue?vue&type=style&index=0&id=4fcdc7e8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4fcdc7e8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_Fragment","_hoisted_1","_renderSlot","_ctx","$slots","_hoisted_2","script","__exports__","render","router","useRouter","store","useStore","company","ref","logoUpload","logoFile","bannerUpload","bannerFile","isLoading","aboutQuillEditor","isAddingSocialHandles","companySocials","newSocials","newSocialHandle","platform","link","businessTypes","label","value","requiredDocuments","documents","companyBusinessType","savedSocials","computed","filter","social","deleted","deletedSocials","availableSocials","alreadyAddedSocials","map","entry","socialPlatforms","includes","setRequiredDocuments","businessType","documentTypes","handleDocumentUpload","event","documentType","file","target","files","size","ElMessage","error","processUpload","reader","FileReader","onload","e","result","readAsDataURL","processBannerUpload","removeUpload","$","val","removeBannerUpload","unmarkForDelete","index","findIndex","_social","splice","growl","title","message","startCase","selectSocialPlatform","addNewSocial","replace","validateSocialHandle","warning","push","submit","about","getSemanticHTML","toString","length","contact_phone","payload","FormData","Object","keys","forEach","key","replaceAll","append","doc","id","api","post","apiRoutes","EDIT_INVESTMENT_HUB_LISTED_COMPANY","then","response","notice","data","companies","JSON","parse","stringify","state","investmentHub","editIndex","commit","back","catch","onMounted","editCompany","name","socials","business_type","html","Quill","theme","placeholder"],"sourceRoot":""}