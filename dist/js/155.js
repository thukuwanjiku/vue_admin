"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[155],{8155:function(l,e,a){a.r(e),a.d(e,{default:function(){return Ql}});a(4114);var t=a(6768),n=a(5130),o=a(144),i=a(4232),s=a(1387),d=a(4300),u=a(7190),c=a(782),r=a(6133),m=a(22),p=a(1452),k=a(5015),v=a(7021),f=a(7676);const L=l=>((0,t.Qi)("data-v-f0b5b2ae"),l=l(),(0,t.jt)(),l),b={class:"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between"},y=L((()=>(0,t.Lk)("h6",{class:"fw-bold mb-0",style:{"margin-left":"20px"}},"Edit Company Details",-1))),g={class:"row"},h={class:"col-md-6"},C={class:"col-md-10 m-b-20"},E={class:"form-floating"},x=L((()=>(0,t.Lk)("label",{for:"companyName"},"Company Name",-1))),R={class:"col-md-10 m-b-20"},_={class:"form-floating"},w=L((()=>(0,t.Lk)("label",{for:"companyTagline"},"Tagline",-1))),X={class:"col-md-10 m-b-20"},S={class:"form-floating"},F=L((()=>(0,t.Lk)("label",{for:"companyContactPerson"},"Contact Person",-1))),A={class:"col-md-10 m-b-20"},K=L((()=>(0,t.Lk)("small",{class:"text-muted"},"Contact Phone",-1))),N={class:"col-md-10 m-b-20"},P={class:"form-floating"},I=L((()=>(0,t.Lk)("label",{for:"companyContactEmail"},"Email",-1))),O=L((()=>(0,t.Lk)("div",{class:"col-md-10 m-b-20"},[(0,t.Lk)("h6",null,"Company's Bio (About)"),(0,t.Lk)("div",{id:"editCompanyAboutEditor",class:"quill-editor-default"})],-1))),V={class:"col-md-6"},J={class:"col-md-10 m-b-20"},Q={class:"m-b-10"},W=["src"],T={class:"form-floating"},D=L((()=>(0,t.Lk)("label",{for:"companyLogo"},"Company Logo",-1))),U={key:0,class:"d-flex flex-wrap m-t-10"},j={class:"p-1 uploaded-image"},H=["src"],q=L((()=>(0,t.Lk)("i",{class:"ri ri-close-line"},null,-1))),M=[q],z={class:"col-md-10 m-b-20"},B=L((()=>(0,t.Lk)("h6",null,"Social Media Handles",-1))),Y={key:0,class:"p-l-10 m-t-10"},G=L((()=>(0,t.Lk)("h6",null,[(0,t.Lk)("small",null,"Currently saved")],-1))),Z={class:"d-inline-flex align-items-center flex-wrap"},ll=["onClick"],el=L((()=>(0,t.Lk)("i",{class:"ri ri-close-line"},null,-1))),al=[el],tl={key:1,class:"p-l-10 m-t-10"},nl=L((()=>(0,t.Lk)("h6",{class:"text-danger"},[(0,t.Lk)("small",null,"Marked for deletion")],-1))),ol={class:"d-inline-flex align-items-center flex-wrap"},il={class:"p-l-10 m-t-10"},sl={key:0},dl={class:"d-inline-flex align-items-center flex-wrap"},ul={key:0,class:"d-inline-flex"},cl={key:0,class:"ri ri-add-line"},rl=L((()=>(0,t.Lk)("hr",null,null,-1))),ml={class:"modal-footer"},pl=L((()=>(0,t.Lk)("button",{class:"btn btn-primary",type:"submit"},"Save Edits",-1))),kl={key:0,class:"row"},vl=L((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Currently added")],-1))),fl=L((()=>(0,t.Lk)("small",{class:"text-muted text-italic"},"Click to remove",-1))),Ll={class:"d-inline-flex"},bl=["onClick"],yl=L((()=>(0,t.Lk)("br",null,null,-1))),gl={class:"row"},hl={key:0,class:"fw-bold"},Cl=L((()=>(0,t.Lk)("small",{class:"text-muted"},"Add more here",-1))),El=[Cl],xl={class:"p-l-20"},Rl=L((()=>(0,t.Lk)("small",null,"Select Platform",-1))),_l=L((()=>(0,t.Lk)("br",null,null,-1))),wl={class:"d-inline-flex flex-wrap"},Xl=["onClick"],Sl=L((()=>(0,t.Lk)("br",null,null,-1))),Fl=L((()=>(0,t.Lk)("br",null,null,-1))),Al={key:0,class:"col-md-6"},Kl={class:"input-group mb-3"},Nl={class:"form-floating"},Pl={for:"newSocialLink"},Il={class:"input-group-text",id:"basic-addon2"},Ol={class:"col-sm-12 d-flex justify-content-end"};var Vl={__name:"Edit",setup(l){const e=(0,s.rd)(),a=(0,c.Pj)();let L=(0,o.KR)({}),q=(0,o.KR)(null),el=(0,o.KR)(null);const Cl=(0,o.KR)(!1);let Vl=(0,o.KR)(null);const $l=(0,o.KR)(!1),Jl=(0,o.KR)([]),Ql=(0,o.KR)([]),Wl=(0,o.KR)({platform:"",link:""}),Tl=(0,t.EW)((()=>Jl.value.filter((l=>!l.deleted)))),Dl=(0,t.EW)((()=>Jl.value.filter((l=>l.deleted)))),Ul=(0,t.EW)((()=>{let l=[...Ql.value.map((l=>l.platform)),...Tl.value.map((l=>l.platform))];return v.eX.filter((e=>!l.includes(e)))}));function jl(l){q.value=l.target.files[0];const e=l.target.files[0],a=new FileReader;a.onload=l=>{el.value=l.target.result},a.readAsDataURL(e)}function Hl(){q.value=null,el.value=null,$("#companyLogo").val("")}function ql(l){let e=Ql.value.findIndex((e=>e.platform==l.platform));e>-1&&(Ql.value.splice(e,1),$.growl({title:"Heads-up",message:`Newly added ${(0,k.A)(l.platform)} handle removed in favor of the one already saved`})),l.deleted=!l.deleted}function Ml(){Ql.value.push({platform:Wl.value.platform,link:Wl.value.link}),Wl.value={platform:"",link:""}}function zl(){let l=Vl.getSemanticHTML();if(!l||!l.toString().length||"<p></p>"==l)return $.growl.warning({message:"Please enter the company's bio"});if(L.value["about"]=l,!L.value.contact_phone||!L.value.contact_phone.toString().length)return $.growl.warning({message:"Please enter contact phone"});let t=new FormData;Object.keys(L.value).filter((l=>!["socials"].includes(l))).forEach((l=>{let e=L.value[l];"contact_phone"==l&&(e=e.toString().replaceAll(" ","")),t.append(l,e)})),null!=q.value&&t.append("company_logo",q.value),Ql.value.length&&Ql.value.forEach(((l,e)=>{t.append(`socials[${e}][platform]`,l.platform),t.append(`socials[${e}][link]`,l.link)})),Dl.value.length&&Dl.value.forEach(((l,e)=>{t.append(`deleted_socials[${e}]`,l.id)})),Cl.value=!0,d.A.post(u.pe.EDIT_EXPLORE_LISTED_COMPANY,t).then((l=>{$.growl.notice({message:l.data.message});let t=JSON.parse(JSON.stringify(a.state.exploreHub.companies)),n=t.findIndex((l=>l.id==L.value["id"]));n>-1&&(t[n]=l.data.data),a.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",t),Cl.value=!1,e.back()})).catch((l=>Cl.value=!1))}return(0,t.sV)((()=>{if(null==a.state.exploreHub.editCompany)return e.push({name:"explore_hub.companies.listed"});L.value=JSON.parse(JSON.stringify(a.state.exploreHub.editCompany)),Jl.value=JSON.parse(JSON.stringify(L.value.socials)),Jl.value=Jl.value.map((l=>(l.deleted=!1,l))),$("#editCompanyAboutEditor").html(L.value["about"]),Vl=new Quill("#editCompanyAboutEditor",{theme:"snow",placeholder:"Enter company about here"})})),(l,a)=>{const s=(0,t.g2)("el-tag"),d=(0,t.g2)("el-button"),u=(0,t.g2)("el-badge"),c=(0,t.g2)("el-dialog"),v=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",b,[y,(0,t.bF)(r.A)]),(0,t.bo)(((0,t.uX)(),(0,t.CE)("form",{onSubmit:(0,n.D$)(zl,["prevent"])},[(0,t.Lk)("div",g,[(0,t.Lk)("div",h,[(0,t.Lk)("div",C,[(0,t.Lk)("div",E,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"companyName",placeholder:"Company Name","onUpdate:modelValue":a[0]||(a[0]=l=>(0,o.R1)(L).name=l),required:""},null,512),[[n.Jo,(0,o.R1)(L).name]]),x])]),(0,t.Lk)("div",R,[(0,t.Lk)("div",_,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"companyTagline",placeholder:"Tagline","onUpdate:modelValue":a[1]||(a[1]=l=>(0,o.R1)(L).description=l),required:""},null,512),[[n.Jo,(0,o.R1)(L).description]]),w])]),(0,t.Lk)("div",X,[(0,t.Lk)("div",S,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"companyContactPerson",placeholder:"Company Person","onUpdate:modelValue":a[2]||(a[2]=l=>(0,o.R1)(L).contact_name=l),required:""},null,512),[[n.Jo,(0,o.R1)(L).contact_name]]),F])]),(0,t.Lk)("div",A,[K,(0,t.bF)((0,o.R1)(m.E),{modelValue:(0,o.R1)(L).contact_phone,"onUpdate:modelValue":a[3]||(a[3]=l=>(0,o.R1)(L).contact_phone=l),mode:"international"},null,8,["modelValue"])]),(0,t.Lk)("div",N,[(0,t.Lk)("div",P,[(0,t.bo)((0,t.Lk)("input",{type:"email",class:"form-control",id:"companyContactEmail",placeholder:"Email","onUpdate:modelValue":a[4]||(a[4]=l=>(0,o.R1)(L).email=l),required:""},null,512),[[n.Jo,(0,o.R1)(L).email]]),I])]),O]),(0,t.Lk)("div",V,[(0,t.Lk)("div",J,[(0,t.bF)(f.A,null,{default:(0,t.k6)((()=>[(0,t.eW)("Saved Logo")])),_:1}),(0,t.Lk)("div",Q,[(0,t.Lk)("img",{src:(0,o.R1)(L).logo,style:{"max-height":"80px","max-width":"100px"}},null,8,W)]),(0,t.Lk)("div",T,[(0,t.Lk)("input",{type:"file",class:"form-control",id:"companyLogo",onChange:jl,accept:".png,.jpg,.jpeg,.gif"},null,32),D]),(0,o.R1)(el)?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.Lk)("div",j,[(0,t.Lk)("img",{src:(0,o.R1)(el),style:{"max-width":"80px","max-height":"60px"}},null,8,H),(0,t.Lk)("div",{class:"remover",onClick:Hl},M)])])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",z,[B,Tl.value.length?((0,t.uX)(),(0,t.CE)("div",Y,[G,(0,t.Lk)("div",Z,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Tl.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"p-1 save-social",key:"saved-socials-"+e},[(0,t.bF)((0,o.R1)(p.p),{type:l.platform,link:{src:"#"}},null,8,["type"]),(0,t.Lk)("div",{class:"remover",onClick:e=>l.deleted=!l.deleted},al,8,ll)])))),128))])])):(0,t.Q3)("",!0),Dl.value.length?((0,t.uX)(),(0,t.CE)("div",tl,[nl,(0,t.Lk)("div",ol,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Dl.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{key:"to-delete-socials-"+e,class:"m-r-5"},[(0,t.bF)(s,{closable:"",type:"danger",onClose:e=>ql(l)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)((0,o.R1)(k.A)(l.platform)),1)])),_:2},1032,["onClose"])])))),128))])])):(0,t.Q3)("",!0),(0,t.Lk)("div",il,[Jl.value.length?((0,t.uX)(),(0,t.CE)("h6",sl,[(0,t.Lk)("small",null,(0,i.v_)(Ql.value.length?"Newly added to be saved":"Add new handles"),1)])):(0,t.Q3)("",!0),(0,t.Lk)("div",dl,[Ql.value.length?((0,t.uX)(),(0,t.CE)("div",ul,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ql.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"p-1",key:"form-new-socials-"+e},[(0,t.bF)((0,o.R1)(p.p),{type:l.platform,link:{src:l.link}},null,8,["type","link"])])))),128))])):(0,t.Q3)("",!0),(0,t.bF)(d,{onClick:a[5]||(a[5]=l=>$l.value=!$l.value),size:"small",round:""},{default:(0,t.k6)((()=>[Ql.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("i",cl)),(0,t.eW)((0,i.v_)(Ql.value.length?"Click to edit":"Click to add"),1)])),_:1})])])])])]),rl,(0,t.Lk)("div",ml,[pl,(0,t.eW)("   "),(0,t.Lk)("button",{onClick:a[6]||(a[6]=l=>(0,o.R1)(e).back()),class:"btn btn-secondary",type:"button"},"Cancel")])],32)),[[v,Cl.value]]),(0,t.bF)(c,{modelValue:$l.value,"onUpdate:modelValue":a[9]||(a[9]=l=>$l.value=l)},{default:(0,t.k6)((()=>[Ql.value.length?((0,t.uX)(),(0,t.CE)("div",kl,[vl,fl,(0,t.Lk)("div",Ll,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ql.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"p-1",onClick:l=>Ql.value.splice(e,1),key:"current-socials-"+e},[(0,t.bF)((0,o.R1)(p.p),{type:l.platform,link:{src:"#"}},null,8,["type"])],8,bl)))),128))])])):(0,t.Q3)("",!0),yl,(0,t.Lk)("div",gl,[Ql.value.length?((0,t.uX)(),(0,t.CE)("h6",hl,El)):(0,t.Q3)("",!0),(0,t.Lk)("div",xl,[(0,t.Lk)("form",{onSubmit:(0,n.D$)(Ml,["prevent"])},[Rl,_l,(0,t.Lk)("div",wl,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ul.value,((l,e)=>((0,t.uX)(),(0,t.CE)("div",{class:"p-1",onClick:e=>Wl.value.platform=l,key:"to-add-social"+e},[Wl.value.platform==l?((0,t.uX)(),(0,t.Wv)(u,{key:0,value:"✓",class:"item",type:"primary"},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(p.p),{type:l,link:{src:"#"}},null,8,["type"])])),_:2},1024)):((0,t.uX)(),(0,t.Wv)((0,o.R1)(p.p),{key:1,type:l,link:{src:"#"}},null,8,["type"]))],8,Xl)))),128))]),Sl,Fl,Wl.value.platform.length?((0,t.uX)(),(0,t.CE)("div",Al,[(0,t.Lk)("div",Kl,[(0,t.Lk)("div",Nl,[(0,t.bo)((0,t.Lk)("input",{type:"url",class:"form-control",id:"newSocialLink",placeholder:"Tagline","onUpdate:modelValue":a[7]||(a[7]=l=>Wl.value.link=l),required:""},null,512),[[n.Jo,Wl.value.link]]),(0,t.Lk)("label",Pl,"Enter "+(0,i.v_)((0,o.R1)(k.A)(Wl.value.platform))+" Link here",1)]),(0,t.Lk)("span",Il,[(0,t.bF)(d,{"native-type":"submit",link:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add")])),_:1})])])])):(0,t.Q3)("",!0)],32)]),(0,t.Lk)("div",Ol,[(0,t.bF)(d,{type:"info",onClick:a[8]||(a[8]=l=>$l.value=!$l.value),plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Done")])),_:1})])])])),_:1},8,["modelValue"])],64)}}},$l=a(1241);const Jl=(0,$l.A)(Vl,[["__scopeId","data-v-f0b5b2ae"]]);var Ql=Jl}}]);
//# sourceMappingURL=155.js.map