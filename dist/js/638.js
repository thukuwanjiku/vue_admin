"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[638],{7021:function(e,l,a){a.d(l,{DU:function(){return b},HC:function(){return d},Qv:function(){return c},RL:function(){return E},XM:function(){return m},eX:function(){return s},k1:function(){return r},ob:function(){return p},yM:function(){return v}});var t=a(4373),n=a(254),o=a(4300),u=a(7190);const i="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints",s=["instagram","facebook","whatsapp","linkedin","youtube","twitter"],c=window.innerWidth<=768;function r(){n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!0),o.A.get(u.pe.GET_EXPLORE_LISTED_COMPANIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_COMPANIES",!1)))}function d(){n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),o.A.get(u.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)))}function v(){n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!0),o.A.get(u.pe.GET_INVESTMENT_HUB_LISTED_COMPANIES).then((e=>{n.A.commit("investmentHub/STORE_LISTED_COMPANIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_COMPANIES",!1)))}function m(){n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),o.A.get(u.pe.INVESTMENT_HUB_FETCH_LISTING_CATEGORIES).then((e=>{n.A.commit("investmentHub/STORE_LISTING_CATEGORIES",e.data.data),n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>n.A.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)))}function p(){t.A.get(i).then((e=>{const l=e.data,a=l.split("\n"),t=a.map((e=>{const l=e.split(" ");return l[0]}));n.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",t)}))}function b(e=12){let l="",a="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let t=0;t<e;t++)l+=a.charAt(Math.floor(Math.random()*a.length));return l}function E(e,l="",a=null){let t=parseInt(a)||0,n=(new Intl.NumberFormat).format(parseFloat(e).toFixed(t));return(l?l+" ":"")+n}},9638:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ve}});var t=a(6768),n=a(1387),o=(a(4114),a(144)),u=a(4232),i=a(7477),s=(a(1452),a(782)),c=a(7021),r=a(4300),d=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-5ddf732e"),e=e(),(0,t.jt)(),e),p={class:"row p-2"},b={class:"col-sm-12 d-flex m-b-10"},E=m((()=>(0,t.Lk)("br",null,null,-1))),k={key:0,class:"row"},_={key:0,class:"text-muted text-italic"},g=m((()=>(0,t.Lk)("br",null,null,-1))),C={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},f={key:0,class:"text-italic"},h={key:1,class:"fw-bold"},L=["onClick"],I={class:"text-center"},S={class:"material-symbols-outlined fs-40"},T=m((()=>(0,t.Lk)("br",null,null,-1))),y={key:1,class:"row"},w=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),A=[w],x={class:"row"},F={class:"row m-b-20"},R=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),N={class:"row p-l-20"},H={class:"col-md-4"},O=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),G=m((()=>(0,t.Lk)("br",null,null,-1))),X={class:"col-md-4"},W=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),P=m((()=>(0,t.Lk)("br",null,null,-1))),V={class:"d-flex"},M={key:0},K={class:"material-symbols-outlined fs-35"},D={class:"row"},U={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},B=["onClick"],Q={class:"material-symbols-outlined fs-35"},J={class:"col-md-4"},j=m((()=>(0,t.Lk)("small",null," ",-1))),z=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},ne=m((()=>(0,t.Lk)("h6",{class:"fw-bold m-0"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),oe=m((()=>(0,t.Lk)("br",null,null,-1))),ue={class:"row p-l-20"},ie={class:"col-md-12"},se=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),re={class:"col-md-12 m-t-20"},de=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},pe={class:"material-symbols-outlined fs-35"},be={class:"row"},Ee={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},ke=["onClick"],_e={class:"material-symbols-outlined fs-35"},ge=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),Ce={class:"col-sm-12"};var fe={__name:"ManageCategories",setup(e){const l=(0,s.Pj)(),a=(0,o.KR)(!1),n=(0,o.KR)(""),m=(0,o.KR)(!1),w=(0,o.KR)(!1),fe=(0,o.KR)({name:"",icon:""}),he=(0,o.KR)(""),Le=(0,o.KR)([]),Ie=(0,o.KR)(!1),Se=(0,o.KR)(null),Te=(0,o.KR)(!1),ye=(0,o.KR)(!1),we=(0,o.KR)([]),Ae=(0,t.EW)((()=>l.state.exploreHub.isFetchingCategories)),xe=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!he.value.length||e.includes(he.value))))),Fe=(0,t.EW)((()=>l.state.exploreHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),Re=(0,t.EW)((()=>Se.value?Fe.value.find((e=>e.id==Se.value.id)):null)),Ne=(0,t.EW)((()=>!!Re.value&&Object.keys(Re.value).some((e=>Se.value[e]!==Re.value[e]))));function He(){m.value=!0,he.value=""}function Oe(e){fe.value.icon=e,w.value=!1}function Ge(){return fe.value.name.length?fe.value.icon.length?(Le.value.push({id:(0,c.DU)(),name:fe.value.name,icon:fe.value.icon}),void(fe.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Xe(e){let l=Le.value.findIndex((l=>l.id==e));l>-1&&Le.value.splice(l,1)}function We(){Le.value.length&&(a.value=!0,r.A.post(d.pe.EXPLORE_HUB_ADD_LISTING_CATEGORIES,{categories:Le.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.HC)(),m.value=!1,Le.value=[],a.value=!1,he.value=""})).catch((e=>a.value=!1)))}function Pe(e){if(ye.value){let l=we.value.findIndex((l=>l.id==e.id));l>-1?we.value.splice(l,1):we.value.push(e)}else Se.value=JSON.parse(JSON.stringify(e)),Ie.value=!0,he.value=""}function Ve(e){Se.value.icon=e,Te.value=!1}function Me(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Ke()})).catch((()=>{}))}function Ke(){let e={id:Se.value.id,...Object.keys(Re.value).reduce(((e,l)=>(Se.value[l]!==Re.value[l]&&(e[l]=Se.value[l]),e)),{})};a.value=!0,r.A.post(d.pe.EXPLORE_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Fe.value)),n=t.findIndex((e=>e.id==Se.value.id));n>-1&&(t[n]=e.data.data,l.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",t)),Ie.value=!1,a.value=!1})).catch((e=>a.value=!1))}function De(){we.value=[],ye.value=!ye.value}function Ue(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:we.value.map((e=>e.id)),reason:e};Qe(l)})).catch((()=>{}))}function Be(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[Se.value.id],reason:e};Qe(l)})).catch((()=>{}))}function Qe(e){l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,r.A.post(d.pe.EXPLORE_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),we.value=[],fetchExploreListingCategories(),Ie.value=!1,a.value=!1,ye.value=!1})).catch((e=>{a.value=!1,l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{Fe.value.length||(0,c.HC)(),xe.value.length||(0,c.ob)()})),(e,l)=>{const s=(0,t.g2)("el-button"),r=(0,t.g2)("el-input"),d=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),Re=(0,t.g2)("el-divider"),Ke=(0,t.g2)("el-table-column"),Qe=(0,t.g2)("el-table"),Je=(0,t.g2)("el-dialog"),je=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",p,[(0,t.Lk)("div",b,[(0,t.bF)(s,{type:"primary",icon:(0,o.R1)(i.FWt),onClick:He,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(r,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"]),(0,t.eW)("      "),(0,t.bF)(s,{icon:(0,o.R1)(i.Jlk),type:ye.value?"primary":"",onClick:De,plain:!ye.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),E,Fe.value.length?((0,t.uX)(),(0,t.CE)("div",k,[ye.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",_,"Tap entry to edit")),g,ye.value?((0,t.uX)(),(0,t.CE)("div",C,[we.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",f,"Tap to select")),we.value.length?((0,t.uX)(),(0,t.CE)("small",h,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(we.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(d,{closable:"",onClose:l=>Pe(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),we.value.length?((0,t.uX)(),(0,t.Wv)(s,{key:2,class:"m-l-10",onClick:Ue,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"explore_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Pe(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",I,[(0,t.Lk)("span",S,(0,u.v_)(e.icon),1),T,(0,t.eW)(" "+(0,u.v_)(e.name),1)])])),_:2},1024)],8,L)))),128))])):((0,t.uX)(),(0,t.CE)("div",y,A))])),[[je,Ae.value]]),(0,t.bF)(Je,{fullscreen:(0,o.R1)(c.Qv),modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",F,[R,(0,t.Lk)("div",N,[(0,t.Lk)("div",H,[O,G,(0,t.bF)(r,{modelValue:fe.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>fe.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",X,[W,P,(0,t.Lk)("div",V,[fe.value.icon.length?((0,t.uX)(),(0,t.CE)("div",M,[(0,t.Lk)("span",K,(0,u.v_)(fe.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:w.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(s,{onClick:l[3]||(l[3]=e=>w.value=!w.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,u.v_)(fe.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",D,[(0,t.bF)(r,{modelValue:he.value,"onUpdate:modelValue":l[2]||(l[2]=e=>he.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(xe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Oe(e)},[(0,t.Lk)("span",Q,(0,u.v_)(e),1)],8,B)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",J,[j,z,(0,t.bF)(s,{onClick:Ge,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),Le.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(Re),Y,(0,t.bF)(Qe,{data:Le.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Ke,{prop:"name",label:"Category"}),(0,t.bF)(Ke,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,u.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Ke,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(s,{onClick:l=>Xe(e.row.id),type:"danger",icon:(0,o.R1)(i.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(Re),(0,t.Lk)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(s,{type:"primary",onClick:We},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[je,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)(Je,{fullscreen:(0,o.R1)(c.Qv),width:"40%",modelValue:Ie.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Ie.value=e)},{default:(0,t.k6)((()=>[Se.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[ne,(0,t.eW)("     "),(0,t.bF)(s,{type:"danger",onClick:Be,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),oe,(0,t.bF)(Re),(0,t.Lk)("div",ue,[(0,t.Lk)("div",ie,[se,ce,(0,t.bF)(r,{modelValue:Se.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>Se.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",re,[de,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",pe,(0,u.v_)(Se.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:Te.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(s,{onClick:l[7]||(l[7]=e=>Te.value=!Te.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",be,[(0,t.bF)(r,{modelValue:he.value,"onUpdate:modelValue":l[6]||(l[6]=e=>he.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",Ee,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(xe.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Ve(e)},[(0,t.Lk)("span",_e,(0,u.v_)(e),1)],8,ke)))),256))])])])),_:1},8,["visible"])])])]),ge,(0,t.Lk)("div",Ce,[(0,t.bF)(s,{type:"primary",onClick:Me,disabled:!Ne.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[je,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},he=a(1241);const Le=(0,he.A)(fe,[["__scopeId","data-v-5ddf732e"]]);var Ie=Le;const Se={class:"pagetitle"},Te=(0,t.Lk)("h1",null,"Categories",-1),ye={class:"breadcrumb"},we={class:"breadcrumb-item"},Ae=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),xe=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),Fe={class:"card"},Re={class:"card-body"},Ne=(0,t.Lk)("br",null,null,-1),He=(0,t.Lk)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,t.Lk)("li",{class:"nav-item",role:"presentation"},[(0,t.Lk)("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#explore_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",{class:"nav-item",role:"presentation"},[(0,t.Lk)("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#explore_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])],-1),Oe={class:"tab-content pt-2",id:"myTabContent"},Ge={class:"tab-pane fade show active p-1",id:"explore_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},Xe=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Will browse archived categories here ",-1);var We={__name:"Main",setup(e){(0,n.rd)();return(0,t.sV)((()=>{})),(e,l)=>{const a=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Se,[Te,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",ye,[(0,t.Lk)("li",we,[(0,t.bF)(a,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Ae,xe])])]),(0,t.Lk)("div",Fe,[(0,t.Lk)("div",Re,[Ne,He,(0,t.Lk)("div",Oe,[(0,t.Lk)("div",Ge,[(0,t.bF)(Ie)]),Xe])])])],64)}}};const Pe=We;var Ve=Pe}}]);
//# sourceMappingURL=638.js.map