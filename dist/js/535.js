"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[535],{8535:function(e,l,a){a.r(l),a.d(l,{default:function(){return Je}});var t=a(6768),o=a(144),n=a(1387),s=(a(4114),a(4232)),u=a(7477),i=a(782),c=a(7021),r=a(4300),d=a(7190),v=a(2933);const m=e=>((0,t.Qi)("data-v-3527d51b"),e=e(),(0,t.jt)(),e),p={class:"row p-2"},k={class:"col-sm-12 d-flex m-b-10"},b=m((()=>(0,t.Lk)("br",null,null,-1))),g={key:0,class:"row"},h={key:0,class:"text-muted text-italic"},y=m((()=>(0,t.Lk)("br",null,null,-1))),f={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},C={key:0,class:"text-italic"},_={key:1,class:"fw-bold"},E=["onClick"],L={class:"text-center"},w={class:"material-symbols-outlined fs-40"},x=m((()=>(0,t.Lk)("br",null,null,-1))),R={key:1,class:"row"},F=m((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),X=[F],T={class:"row"},W={class:"row m-b-20"},I=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),S={class:"row p-l-20"},V={class:"col-md-4"},Q=m((()=>(0,t.Lk)("small",null,"New Category Name",-1))),K=m((()=>(0,t.Lk)("br",null,null,-1))),N={class:"col-md-4"},O=m((()=>(0,t.Lk)("small",null,"Category Icon",-1))),A=m((()=>(0,t.Lk)("br",null,null,-1))),H={class:"d-flex"},P={key:0},D={class:"material-symbols-outlined fs-35"},G={class:"row"},U={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},B=["onClick"],J={class:"material-symbols-outlined fs-35"},j={class:"col-md-4"},z=m((()=>(0,t.Lk)("small",null," ",-1))),M=m((()=>(0,t.Lk)("br",null,null,-1))),Y=m((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),q={class:"material-symbols-outlined fs-35"},Z={key:0,class:"row"},ee={class:"col-sm-3"},le={key:0,class:"row"},ae={class:"row m-b-20"},te={class:"d-flex align-items-center"},oe=m((()=>(0,t.Lk)("h6",{class:"fw-bold m-0"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or")],-1))),ne=m((()=>(0,t.Lk)("br",null,null,-1))),se={class:"row p-l-20"},ue={class:"col-md-12"},ie=m((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),ce=m((()=>(0,t.Lk)("br",null,null,-1))),re={class:"col-md-12 m-t-20"},de=m((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ve=m((()=>(0,t.Lk)("br",null,null,-1))),me={class:"d-flex"},pe={class:"material-symbols-outlined fs-35"},ke={class:"row"},be={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},ge=["onClick"],he={class:"material-symbols-outlined fs-35"},ye=m((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),fe={class:"col-sm-12"};var Ce={__name:"ManageCategories",setup(e){const l=(0,i.Pj)(),a=(0,o.KR)(!1),n=(0,o.KR)(""),m=(0,o.KR)(!1),F=(0,o.KR)(!1),Ce=(0,o.KR)({name:"",icon:""}),_e=(0,o.KR)(""),Ee=(0,o.KR)([]),Le=(0,o.KR)(!1),we=(0,o.KR)(null),xe=(0,o.KR)(!1),Re=(0,o.KR)(!1),Fe=(0,o.KR)([]),Xe=(0,t.EW)((()=>l.state.exploreHub.isFetchingCategories)),Te=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!_e.value.length||e.includes(_e.value))))),We=(0,t.EW)((()=>l.state.exploreHub.listingCategories.filter((e=>!n.value.length||e.name.toLowerCase().includes(n.value.toLowerCase()))))),Ie=(0,t.EW)((()=>we.value?We.value.find((e=>e.id==we.value.id)):null)),Se=(0,t.EW)((()=>!!Ie.value&&Object.keys(Ie.value).some((e=>we.value[e]!==Ie.value[e]))));function Ve(){m.value=!0,_e.value=""}function Qe(e){Ce.value.icon=e,F.value=!1}function Ke(){return Ce.value.name.length?Ce.value.icon.length?(Ee.value.push({id:(0,c.DU)(),name:Ce.value.name,icon:Ce.value.icon}),void(Ce.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Ne(e){let l=Ee.value.findIndex((l=>l.id==e));l>-1&&Ee.value.splice(l,1)}function Oe(){Ee.value.length&&(a.value=!0,r.A.post(d.pe.EXPLORE_HUB_ADD_LISTING_CATEGORIES,{categories:Ee.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.HC)(),m.value=!1,Ee.value=[],a.value=!1,_e.value=""})).catch((e=>a.value=!1)))}function Ae(e){if(Re.value){let l=Fe.value.findIndex((l=>l.id==e.id));l>-1?Fe.value.splice(l,1):Fe.value.push(e)}else{if(!(0,c.cE)("explore_hub.categories.edit"))return;we.value=JSON.parse(JSON.stringify(e)),Le.value=!0,_e.value=""}}function He(e){we.value.icon=e,xe.value=!1}function Pe(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{De()})).catch((()=>{}))}function De(){let e={id:we.value.id,...Object.keys(Ie.value).reduce(((e,l)=>(we.value[l]!==Ie.value[l]&&(e[l]=we.value[l]),e)),{})};a.value=!0,r.A.post(d.pe.EXPLORE_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(We.value)),o=t.findIndex((e=>e.id==we.value.id));o>-1&&(t[o]=e.data.data,l.commit("exploreHub/STORE_EXPLORE_LISTING_CATEGORIES",t)),Le.value=!1,a.value=!1})).catch((e=>a.value=!1))}function Ge(){Fe.value=[],Re.value=!Re.value}function Ue(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:Fe.value.map((e=>e.id)),reason:e};Je(l)})).catch((()=>{}))}function Be(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[we.value.id],reason:e};Je(l)})).catch((()=>{}))}function Je(e){l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,r.A.post(d.pe.EXPLORE_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),Fe.value=[],(0,c.HC)(),Le.value=!1,a.value=!1,Re.value=!1})).catch((e=>{a.value=!1,l.commit("exploreHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{(0,c.cE)("explore_hub.categories.view")&&!We.value.length&&(0,c.HC)(),Te.value.length||(0,c.ob)()})),(e,l)=>{const i=(0,t.g2)("el-button"),r=(0,t.g2)("el-input"),d=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),Ie=(0,t.g2)("el-divider"),De=(0,t.g2)("el-table-column"),Je=(0,t.g2)("el-table"),$e=(0,t.g2)("el-dialog"),je=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",p,[(0,t.Lk)("div",k,[(0,o.R1)(c.cE)("explore_hub.categories.add")?((0,t.uX)(),(0,t.Wv)(i,{key:0,type:"primary",icon:(0,o.R1)(u.FWt),onClick:Ve,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"])):(0,t.Q3)("",!0),(0,t.eW)("      "),We.value.length?((0,t.uX)(),(0,t.Wv)(r,{key:1,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"])):(0,t.Q3)("",!0),(0,t.eW)("      "),(0,o.R1)(c.cE)("explore_hub.categories.delete")&&We.value.length?((0,t.uX)(),(0,t.Wv)(i,{key:2,icon:(0,o.R1)(u.Jlk),type:Re.value?"primary":"",onClick:Ge,plain:!Re.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])):(0,t.Q3)("",!0)]),b,(0,o.R1)(c.cE)("explore_hub.categories.view")&&We.value.length?((0,t.uX)(),(0,t.CE)("div",g,[!Re.value&&(0,o.R1)(c.cE)("explore_hub.categories.edit")?((0,t.uX)(),(0,t.CE)("small",h,"Tap entry to edit")):(0,t.Q3)("",!0),y,Re.value?((0,t.uX)(),(0,t.CE)("div",f,[Fe.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",C,"Tap to select")),Fe.value.length?((0,t.uX)(),(0,t.CE)("small",_,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(d,{closable:"",onClose:l=>Ae(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Fe.value.length?((0,t.uX)(),(0,t.Wv)(i,{key:2,class:"m-l-10",onClick:Ue,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(We.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"explore_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Ae(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",L,[(0,t.Lk)("span",w,(0,s.v_)(e.icon),1),x,(0,t.eW)(" "+(0,s.v_)(e.name),1)])])),_:2},1024)],8,E)))),128))])):((0,t.uX)(),(0,t.CE)("div",R,X))])),[[je,Xe.value]]),(0,t.bF)($e,{fullscreen:(0,o.R1)(c.Qv),modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",T,[(0,t.Lk)("div",W,[I,(0,t.Lk)("div",S,[(0,t.Lk)("div",V,[Q,K,(0,t.bF)(r,{modelValue:Ce.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Ce.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",N,[O,A,(0,t.Lk)("div",H,[Ce.value.icon.length?((0,t.uX)(),(0,t.CE)("div",P,[(0,t.Lk)("span",D,(0,s.v_)(Ce.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:F.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{onClick:l[3]||(l[3]=e=>F.value=!F.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(Ce.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",G,[(0,t.bF)(r,{modelValue:_e.value,"onUpdate:modelValue":l[2]||(l[2]=e=>_e.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Te.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Qe(e)},[(0,t.Lk)("span",J,(0,s.v_)(e),1)],8,B)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",j,[z,M,(0,t.bF)(i,{onClick:Ke,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),Ee.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(Ie),Y,(0,t.bF)(Je,{data:Ee.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(De,{prop:"name",label:"Category"}),(0,t.bF)(De,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",q,(0,s.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(De,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(i,{onClick:l=>Ne(e.row.id),type:"danger",icon:(0,o.R1)(u.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(Ie),(0,o.R1)(c.cE)("explore_hub.categories.add")?((0,t.uX)(),(0,t.CE)("div",Z,[(0,t.Lk)("div",ee,[(0,t.bF)(i,{type:"primary",onClick:Oe},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])):(0,t.Q3)("",!0)],64)):(0,t.Q3)("",!0)])),[[je,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)($e,{fullscreen:(0,o.R1)(c.Qv),width:"40%",modelValue:Le.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Le.value=e)},{default:(0,t.k6)((()=>[we.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,o.R1)(c.cE)("explore_hub.categories.delete")?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("div",te,[oe,(0,t.eW)("     "),(0,t.bF)(i,{type:"danger",onClick:Be,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),ne,(0,t.bF)(Ie)],64)):(0,t.Q3)("",!0),(0,t.Lk)("div",se,[(0,t.Lk)("div",ue,[ie,ce,(0,t.bF)(r,{modelValue:we.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>we.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",re,[de,ve,(0,t.Lk)("div",me,[(0,t.Lk)("div",null,[(0,t.Lk)("span",pe,(0,s.v_)(we.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:xe.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{onClick:l[7]||(l[7]=e=>xe.value=!xe.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",ke,[(0,t.bF)(r,{modelValue:_e.value,"onUpdate:modelValue":l[6]||(l[6]=e=>_e.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",be,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Te.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>He(e)},[(0,t.Lk)("span",he,(0,s.v_)(e),1)],8,ge)))),256))])])])),_:1},8,["visible"])])])]),ye,(0,t.Lk)("div",fe,[(0,o.R1)(c.cE)("explore_hub.categories.edit")?((0,t.uX)(),(0,t.Wv)(i,{key:0,type:"primary",onClick:Pe,disabled:!Se.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])):(0,t.Q3)("",!0)])])])),[[je,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},_e=a(1241);const Ee=(0,_e.A)(Ce,[["__scopeId","data-v-3527d51b"]]);var Le=Ee;const we={class:"pagetitle"},xe=(0,t.Lk)("h1",null,"Categories",-1),Re={class:"breadcrumb"},Fe={class:"breadcrumb-item"},Xe=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore Hub",-1),Te=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),We={class:"card"},Ie={class:"card-body"},Se=(0,t.Lk)("br",null,null,-1),Ve={class:"nav nav-tabs",id:"myTab",role:"tablist"},Qe={key:0,class:"nav-item",role:"presentation"},Ke=(0,t.Lk)("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#explore_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories",-1),Ne=[Ke],Oe={key:1,class:"nav-item",role:"presentation"},Ae=(0,t.Lk)("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#explore_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived",-1),He=[Ae],Pe={class:"tab-content pt-2",id:"myTabContent"},De={key:0,class:"tab-pane fade show active p-1",id:"explore_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},Ge={key:1,class:"tab-pane fade",id:"explore_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"};var Ue={__name:"Main",setup(e){(0,n.rd)();return(0,t.sV)((()=>{})),(e,l)=>{const a=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",we,[xe,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",Re,[(0,t.Lk)("li",Fe,[(0,t.bF)(a,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Xe,Te])])]),(0,t.Lk)("div",We,[(0,t.Lk)("div",Ie,[Se,(0,t.Lk)("ul",Ve,[(0,o.R1)(c.oE)(["explore_hub.categories"])?((0,t.uX)(),(0,t.CE)("li",Qe,Ne)):(0,t.Q3)("",!0),(0,o.R1)(c.oE)(["explore_hub.archived_categories"])?((0,t.uX)(),(0,t.CE)("li",Oe,He)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",Pe,[(0,o.R1)(c.oE)(["explore_hub.categories"])?((0,t.uX)(),(0,t.CE)("div",De,[(0,t.bF)(Le)])):(0,t.Q3)("",!0),(0,o.R1)(c.oE)(["explore_hub.archived_categories"])?((0,t.uX)(),(0,t.CE)("div",Ge," Will browse archived categories here ")):(0,t.Q3)("",!0)])])])],64)}}};const Be=Ue;var Je=Be}}]);
//# sourceMappingURL=535.js.map