"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[510],{5992:function(e,l,a){a.d(l,{A:function(){return m}});var t=a(6768);const n={class:"alert alert-danger alert-dismissible fade show",role:"alert"},s=(0,t.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page.",-1),i=(0,t.Lk)("hr",null,null,-1),o=(0,t.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),u=[s,i,o];function c(e,l){return(0,t.uX)(),(0,t.CE)("div",n,u)}var d=a(1241);const r={},v=(0,d.A)(r,[["render",c]]);var m=v},4510:function(e,l,a){a.r(l),a.d(l,{default:function(){return Be}});var t=a(6768),n=a(144),s=a(1387),i=(a(4114),a(4232)),o=a(7477),u=a(782),c=a(7021),d=a(4300),r=a(7190),v=a(2933),m=a(5992);const k=e=>((0,t.Qi)("data-v-fd0e3db6"),e=e(),(0,t.jt)(),e),b={class:"row p-2"},g={class:"col-sm-12 d-flex m-b-10"},h=k((()=>(0,t.Lk)("br",null,null,-1))),p={key:0,class:"row"},f={key:0,class:"text-muted text-italic"},y=k((()=>(0,t.Lk)("br",null,null,-1))),C={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},_={key:0,class:"text-italic"},E={key:1,class:"fw-bold"},L=["onClick"],w={class:"text-center"},F={class:"material-symbols-outlined fs-40"},x=k((()=>(0,t.Lk)("br",null,null,-1))),T={key:1,class:"row"},X=k((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),I=[X],R={key:1},S={class:"row"},W={class:"row m-b-20"},V=k((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),N={class:"row p-l-20"},K={class:"col-md-4"},Q=k((()=>(0,t.Lk)("small",null,"New Category Name",-1))),A=k((()=>(0,t.Lk)("br",null,null,-1))),O={class:"col-md-4"},D=k((()=>(0,t.Lk)("small",null,"Category Icon",-1))),G=k((()=>(0,t.Lk)("br",null,null,-1))),H={class:"d-flex"},U={key:0},B={class:"material-symbols-outlined fs-35"},M={class:"row"},P={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},J=["onClick"],j={class:"material-symbols-outlined fs-35"},z={class:"col-md-4"},Y=k((()=>(0,t.Lk)("small",null," ",-1))),q=k((()=>(0,t.Lk)("br",null,null,-1))),Z=k((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),ee={class:"material-symbols-outlined fs-35"},le={key:0,class:"row"},ae={class:"col-sm-3"},te={key:0,class:"row"},ne={class:"row m-b-20"},se={class:"d-flex align-items-center"},ie=k((()=>(0,t.Lk)("h6",{class:"fw-bold m-0"},[(0,t.Lk)("small",{class:"text-muted"},"Edit category details below or ")],-1))),oe=k((()=>(0,t.Lk)("br",null,null,-1))),ue={class:"row p-l-20"},ce={class:"col-md-12"},de=k((()=>(0,t.Lk)("small",null,"Edit Category Name",-1))),re=k((()=>(0,t.Lk)("br",null,null,-1))),ve={class:"col-md-12 m-t-20"},me=k((()=>(0,t.Lk)("small",null,"Change Associated Icon",-1))),ke=k((()=>(0,t.Lk)("br",null,null,-1))),be={class:"d-flex"},ge={class:"material-symbols-outlined fs-35"},he={class:"row"},pe={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},fe=["onClick"],ye={class:"material-symbols-outlined fs-35"},Ce=k((()=>(0,t.Lk)("hr",{class:"m-2"},null,-1))),_e={class:"col-sm-12"};var Ee={__name:"ManageCategories",setup(e){const l=(0,u.Pj)(),a=(0,n.KR)(!1),s=(0,n.KR)(""),k=(0,n.KR)(!1),X=(0,n.KR)(!1),Ee=(0,n.KR)({name:"",icon:""}),Le=(0,n.KR)(""),we=(0,n.KR)([]),Fe=(0,n.KR)(!1),xe=(0,n.KR)(null),Te=(0,n.KR)(!1),Xe=(0,n.KR)(!1),Ie=(0,n.KR)([]),Re=(0,t.EW)((()=>l.state.investmentHub.isFetchingCategories)),Se=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!Le.value.length||e.includes(Le.value))))),We=(0,t.EW)((()=>l.state.investmentHub.listingCategories.filter((e=>!s.value.length||e.name.toLowerCase().includes(s.value.toLowerCase()))))),Ve=(0,t.EW)((()=>xe.value?We.value.find((e=>e.id==xe.value.id)):null)),Ne=(0,t.EW)((()=>!!Ve.value&&Object.keys(Ve.value).some((e=>xe.value[e]!==Ve.value[e]))));function Ke(){k.value=!0,Le.value=""}function Qe(e){Ee.value.icon=e,X.value=!1}function Ae(){return Ee.value.name.length?Ee.value.icon.length?(we.value.push({id:(0,c.DU)(),name:Ee.value.name,icon:Ee.value.icon}),void(Ee.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Oe(e){let l=we.value.findIndex((l=>l.id==e));l>-1&&we.value.splice(l,1)}function De(){we.value.length&&(a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_ADD_LISTING_CATEGORIES,{categories:we.value}).then((e=>{$.growl.notice({message:e.data.message}),(0,c.XM)(),k.value=!1,we.value=[],a.value=!1,Le.value=""})).catch((e=>a.value=!1)))}function Ge(e){if(Xe.value){let l=Ie.value.findIndex((l=>l.id==e.id));l>-1?Ie.value.splice(l,1):Ie.value.push(e)}else{if(!(0,c.cE)("investment_hub.categories.edit"))return;xe.value=JSON.parse(JSON.stringify(e)),Fe.value=!0,Le.value=""}}function He(e){xe.value.icon=e,Te.value=!1}function Ue(){v.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Be()})).catch((()=>{}))}function Be(){let e={id:xe.value.id,...Object.keys(Ve.value).reduce(((e,l)=>(xe.value[l]!==Ve.value[l]&&(e[l]=xe.value[l]),e)),{})};a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(We.value)),n=t.findIndex((e=>e.id==xe.value.id));n>-1&&(t[n]=e.data.data,l.commit("investmentHub/STORE_LISTING_CATEGORIES",t)),Fe.value=!1,a.value=!1})).catch((e=>a.value=!1))}function Me(){Ie.value=[],Xe.value=!Xe.value}function Pe(){v.s.prompt("Sure you want to delete these selections?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:Ie.value.map((e=>e.id)),reason:e};$e(l)})).catch((()=>{}))}function Je(){v.s.prompt("Sure you want to delete this category?\nPlease give a reason why you want to delete","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to delete",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:e})=>{let l={ids:[xe.value.id],reason:e};$e(l)})).catch((()=>{}))}function $e(e){l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!0),a.value=!0,d.A.post(r.pe.INVESTMENT_HUB_DELETE_LISTING_CATEGORIES,e).then((e=>{$.growl.notice({message:e.data.message}),Ie.value=[],(0,c.XM)(),Fe.value=!1,a.value=!1,Xe.value=!1})).catch((e=>{a.value=!1,l.commit("investmentHub/SET_IS_FETCHING_CATEGORIES",!1)}))}return(0,t.sV)((()=>{(0,c.cE)("investment_hub.categories.view")&&!We.value.length&&(0,c.XM)(),Se.value.length||(0,c.ob)()})),(e,l)=>{const u=(0,t.g2)("el-button"),d=(0,t.g2)("el-input"),r=(0,t.g2)("el-tag"),v=(0,t.g2)("el-card"),$=(0,t.g2)("el-popover"),Ve=(0,t.g2)("el-divider"),Be=(0,t.g2)("el-table-column"),$e=(0,t.g2)("el-table"),je=(0,t.g2)("el-dialog"),ze=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("div",g,[(0,n.R1)(c.cE)("investment_hub.categories.add")?((0,t.uX)(),(0,t.Wv)(u,{key:0,type:"primary",icon:(0,n.R1)(o.FWt),onClick:Ke,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"])):(0,t.Q3)("",!0),(0,t.eW)("      "),We.value.length?((0,t.uX)(),(0,t.Wv)(d,{key:1,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),style:{width:"240px"},placeholder:"Type to search",clearable:""},null,8,["modelValue"])):(0,t.Q3)("",!0),(0,t.eW)("      "),(0,n.R1)(c.cE)("investment_hub.categories.delete")&&We.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,icon:(0,n.R1)(o.Jlk),type:Xe.value?"primary":"",onClick:Me,plain:!Xe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])):(0,t.Q3)("",!0)]),h,(0,n.R1)(c.cE)("investment_hub.categories.view")?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[We.value.length?((0,t.uX)(),(0,t.CE)("div",p,[!Xe.value&&(0,n.R1)(c.cE)("investment_hub.categories.edit")?((0,t.uX)(),(0,t.CE)("small",f,"Tap entry to edit")):(0,t.Q3)("",!0),y,Xe.value?((0,t.uX)(),(0,t.CE)("div",C,[Ie.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",_,"Tap to select")),Ie.value.length?((0,t.uX)(),(0,t.CE)("small",E,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Ie.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(r,{closable:"",onClose:l=>Ge(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Ie.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,class:"m-l-10",onClick:Pe,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(We.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"investment_hub-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Ge(e)},[(0,t.bF)(v,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[(0,t.Lk)("span",F,(0,i.v_)(e.icon),1),x,(0,t.eW)(" "+(0,i.v_)(e.name),1)])])),_:2},1024)],8,L)))),128))])):((0,t.uX)(),(0,t.CE)("div",T,I))],64)):((0,t.uX)(),(0,t.CE)("div",R,[(0,t.bF)(m.A)]))])),[[ze,Re.value]]),(0,t.bF)(je,{fullscreen:(0,n.R1)(c.Qv),modelValue:k.value,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",S,[(0,t.Lk)("div",W,[V,(0,t.Lk)("div",N,[(0,t.Lk)("div",K,[Q,A,(0,t.bF)(d,{modelValue:Ee.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Ee.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",O,[D,G,(0,t.Lk)("div",H,[Ee.value.icon.length?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.Lk)("span",B,(0,i.v_)(Ee.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)($,{visible:X.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[3]||(l[3]=e=>X.value=!X.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(Ee.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",M,[(0,t.bF)(d,{modelValue:Le.value,"onUpdate:modelValue":l[2]||(l[2]=e=>Le.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",P,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Qe(e)},[(0,t.Lk)("span",j,(0,i.v_)(e),1)],8,J)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",z,[Y,q,(0,t.bF)(u,{onClick:Ae,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),we.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(Ve),Z,(0,t.bF)($e,{data:we.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(Be,{prop:"name",label:"Category"}),(0,t.bF)(Be,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",ee,(0,i.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(Be,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(u,{onClick:l=>Oe(e.row.id),type:"danger",icon:(0,n.R1)(o.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(Ve),(0,n.R1)(c.cE)("investment_hub.categories.add")?((0,t.uX)(),(0,t.CE)("div",le,[(0,t.Lk)("div",ae,[(0,t.bF)(u,{type:"primary",onClick:De},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])):(0,t.Q3)("",!0)],64)):(0,t.Q3)("",!0)])),[[ze,a.value]])])),_:1},8,["fullscreen","modelValue"]),(0,t.bF)(je,{fullscreen:(0,n.R1)(c.Qv),width:"40%",modelValue:Fe.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Fe.value=e)},{default:(0,t.k6)((()=>[xe.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",te,[(0,t.Lk)("div",ne,[(0,n.R1)(c.cE)("investment_hub.categories.delete")?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("div",se,[ie,(0,t.eW)("     "),(0,t.bF)(u,{type:"danger",onClick:Je,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete category")])),_:1})]),oe,(0,t.bF)(Ve)],64)):(0,t.Q3)("",!0),(0,t.Lk)("div",ue,[(0,t.Lk)("div",ce,[de,re,(0,t.bF)(d,{modelValue:xe.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>xe.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",ve,[me,ke,(0,t.Lk)("div",be,[(0,t.Lk)("div",null,[(0,t.Lk)("span",ge,(0,i.v_)(xe.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)($,{visible:Te.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[7]||(l[7]=e=>Te.value=!Te.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",he,[(0,t.bF)(d,{modelValue:Le.value,"onUpdate:modelValue":l[6]||(l[6]=e=>Le.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",pe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>He(e)},[(0,t.Lk)("span",ye,(0,i.v_)(e),1)],8,fe)))),256))])])])),_:1},8,["visible"])])])]),Ce,(0,t.Lk)("div",_e,[(0,t.bF)(u,{type:"primary",onClick:Ue,disabled:!Ne.value},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1},8,["disabled"])])])])),[[ze,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["fullscreen","modelValue"])],64)}}},Le=a(1241);const we=(0,Le.A)(Ee,[["__scopeId","data-v-fd0e3db6"]]);var Fe=we;const xe={class:"pagetitle"},Te=(0,t.Lk)("h1",null,"Categories",-1),Xe={class:"breadcrumb"},Ie={class:"breadcrumb-item"},Re=(0,t.Lk)("li",{class:"breadcrumb-item"},"Investment Hub",-1),Se=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),We={class:"card"},Ve={class:"card-body"},Ne=(0,t.Lk)("br",null,null,-1),Ke={class:"nav nav-tabs",id:"myTab",role:"tablist"},Qe={key:0,class:"nav-item",role:"presentation"},Ae={key:1,class:"nav-item",role:"presentation"},Oe={class:"tab-content pt-2",id:"myTabContent"},De={key:0,class:"tab-pane fade show active p-1",id:"investment_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},Ge={key:1,class:"tab-pane fade",id:"investment_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"};var He={__name:"Main",setup(e){(0,s.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const s=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",xe,[Te,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",Xe,[(0,t.Lk)("li",Ie,[(0,t.bF)(s,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Re,Se])])]),(0,t.Lk)("div",We,[(0,t.Lk)("div",Ve,[Ne,(0,t.Lk)("ul",Ke,[(0,n.R1)(c.oE)(["investment_hub.categories"])?((0,t.uX)(),(0,t.CE)("li",Qe,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")])):(0,t.Q3)("",!0),(0,n.R1)(c.oE)(["investment_hub.archived_categories"])?((0,t.uX)(),(0,t.CE)("li",Ae,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#investment_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Archived")])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",Oe,[(0,n.R1)(c.oE)(["investment_hub.categories"])?((0,t.uX)(),(0,t.CE)("div",De,[(0,t.bF)(Fe)])):(0,t.Q3)("",!0),(0,n.R1)(c.oE)(["investment_hub.archived_categories"])?((0,t.uX)(),(0,t.CE)("div",Ge," Will browse archived categories here ")):(0,t.Q3)("",!0)])])])],64)}}};const Ue=He;var Be=Ue}}]);
//# sourceMappingURL=510.js.map