{"version":3,"file":"js/530.js","mappings":"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","sources":["webpack://myzola-admin/./src/services/Helpers.js","webpack://myzola-admin/./src/views/auth/AppLocked.vue","webpack://myzola-admin/./src/views/auth/AppLocked.vue?df49"],"sourcesContent":["import axios from \"axios\";\r\nimport store from \"@/store\";\r\nimport api from \"@/services/api\";\r\nimport {apiRoutes} from \"@/services/apiRoutes\";\r\n\r\n/* --------------------------\r\n* Variables\r\n* --------------------------\r\n* */\r\nconst materialIconsNamesUrl = \"https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints\";\r\nconst socialPlatforms = [\r\n    \"instagram\",\"facebook\",\"whatsapp\",\"linkedin\",\"youtube\",\"twitter\",\r\n];\r\nconst isSmallScreen = window.innerWidth <= 768;\r\n\r\n/*\r\n* Export Variables\r\n* */\r\nexport {\r\n    socialPlatforms, isSmallScreen\r\n};\r\n\r\n\r\n/* --------------------------\r\n* Functions\r\n* --------------------------\r\n* */\r\nexport function fetchExploreHubCompanies(){\r\n    //show loader\r\n    store.commit(\"exploreHub/SET_IS_FETCHING_COMPANIES\", true);\r\n\r\n    //make api call\r\n    api.get(apiRoutes.GET_EXPLORE_LISTED_COMPANIES)\r\n            .then(response => {\r\n                store.commit(\"exploreHub/STORE_EXPLORE_LISTED_COMPANIES\", response.data.data);\r\n\r\n                //dismiss loader\r\n                store.commit(\"exploreHub/SET_IS_FETCHING_COMPANIES\", false);\r\n            })\r\n            .catch(error => store.commit(\"exploreHub/SET_IS_FETCHING_COMPANIES\", false));\r\n}\r\nexport function fetchExploreHubListingCategories(){\r\n    //show loading overlay\r\n    store.commit('exploreHub/SET_IS_FETCHING_CATEGORIES', true);\r\n\r\n    api.get(apiRoutes.EXPLORE_HUB_FETCH_LISTING_CATEGORIES)\r\n            .then(response => {\r\n                //store data in vuex store\r\n                store.commit('exploreHub/STORE_EXPLORE_LISTING_CATEGORIES', response.data.data);\r\n                //dismiss loading\r\n                store.commit('exploreHub/SET_IS_FETCHING_CATEGORIES', false);\r\n            })\r\n            .catch(error => store.commit('exploreHub/SET_IS_FETCHING_CATEGORIES', false));\r\n}\r\nexport function fetchInvestmentHubCompanies(){\r\n    //show loader\r\n    store.commit(\"investmentHub/SET_IS_FETCHING_COMPANIES\", true);\r\n\r\n    //make api call\r\n    api.get(apiRoutes.GET_INVESTMENT_HUB_LISTED_COMPANIES)\r\n            .then(response => {\r\n                store.commit(\"investmentHub/STORE_LISTED_COMPANIES\", response.data.data);\r\n\r\n                //dismiss loader\r\n                store.commit(\"investmentHub/SET_IS_FETCHING_COMPANIES\", false);\r\n            })\r\n            .catch(error => store.commit(\"investmentHub/SET_IS_FETCHING_COMPANIES\", false));\r\n}\r\nexport function fetchInvestmentHubListingCategories(){\r\n    //show loading overlay\r\n    store.commit('investmentHub/SET_IS_FETCHING_CATEGORIES', true);\r\n\r\n    api.get(apiRoutes.INVESTMENT_HUB_FETCH_LISTING_CATEGORIES)\r\n            .then(response => {\r\n                //store data in vuex store\r\n                store.commit('investmentHub/STORE_LISTING_CATEGORIES', response.data.data);\r\n                //dismiss loading\r\n                store.commit('investmentHub/SET_IS_FETCHING_CATEGORIES', false);\r\n            })\r\n            .catch(error => store.commit('investmentHub/SET_IS_FETCHING_CATEGORIES', false));\r\n}\r\nexport function fetchRoles(){\r\n    store.commit('auth/SET_IS_FETCHING_ROLES', true);\r\n\r\n    //show loading overlay\r\n    api.get(apiRoutes.LIST_ROLES)\r\n            .then(response => {\r\n                //store data in vuex store\r\n                store.commit('auth/STORE_ROLES', response.data);\r\n                //dismiss loading\r\n                store.commit('auth/SET_IS_FETCHING_ROLES', false);\r\n            })\r\n            .catch(error => store.commit('auth/SET_IS_FETCHING_ROLES', false));\r\n}\r\nexport function fetchUsers(){\r\n    store.commit('auth/SET_IS_FETCHING_USERS', true);\r\n\r\n    //show loading overlay\r\n    api.get(apiRoutes.LIST_USERS)\r\n            .then(response => {\r\n                //store data in vuex store\r\n                store.commit('auth/STORE_USERS', response.data);\r\n                //dismiss loading\r\n                store.commit('auth/SET_IS_FETCHING_USERS', false);\r\n            })\r\n            .catch(error => store.commit('auth/SET_IS_FETCHING_USERS', false));\r\n}\r\n\r\nexport function checkHasPermission(permission){\r\n    return store.getters[\"auth/isSuperAdmin\"]\r\n            || store.state.auth.permissions.includes(permission);\r\n}\r\nexport function checkHasSidemenuPermission(permissions){\r\n    return store.getters[\"auth/isSuperAdmin\"]\r\n            || store.state.auth.permissions.some(perm => permissions.includes(perm));\r\n}\r\nexport function fetchMaterialIconsNames(){\r\n    //fetch material icons data\r\n    axios.get(materialIconsNamesUrl)\r\n            .then((response) => {\r\n                const materialIconsData = response.data;\r\n                const lines = materialIconsData.split('\\n');\r\n                const names = lines.map((line) => {\r\n                    const parts = line.split(' ');\r\n                    return parts[0];\r\n                });\r\n\r\n                //store names in vuex store\r\n                store.commit('shared/STORE_MATERIAL_ICONS_NAMES', names);\r\n            });\r\n}\r\nexport function randomString (length = 12) {\r\n    let text = \"\";\r\n    let possible = \"A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl\";\r\n    for (let i = 0; i < length; i++)\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    return text;\r\n}\r\nexport function moneyFormatter(amount, currency='' , floating_points = null) {\r\n    //define decimal places to round off the value to\r\n    let dp = parseInt(floating_points) || 0;\r\n    //format the value passed\r\n    let formattedAmount = (new Intl.NumberFormat()).format(parseFloat(amount).toFixed(dp));\r\n    //for whole numbers without a decimal, the Intl.NumberFormat method fails to apply decimal places, apply them manuall\r\n    /*if (dp > 0 && !formattedAmount.includes('.')) {\r\n        let extraZeroes = \"00000000\";\r\n        formattedAmount = formattedAmount + \".\" + extraZeroes.substr(0, dp);\r\n    }*/\r\n    //return formatted value plus the business currency\r\n    return (currency ? currency + \" \" : '') + formattedAmount;\r\n}\r\nexport function getNameInitials(fullName, numOfInitials = 2) {\r\n    // Split the full name into an array of words\r\n    const nameParts = fullName.trim().split(/\\s+/);\r\n\r\n    // Get the initials of the name parts\r\n    const initials = nameParts.map(part => part[0].toUpperCase());\r\n\r\n    // Join the available initials up to the requested number and return it\r\n    return initials.slice(0, numOfInitials).join('');\r\n}","<script setup>\r\n\r\n//imports\r\nimport {computed, ref} from 'vue';\r\nimport api from \"@/services/api\";\r\nimport {apiRoutes} from \"@/services/apiRoutes\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {useStore} from \"vuex\";\r\nimport {startIdleTracking, stopIdleTracking} from \"@/services/idleAppLockTimer\";\r\nimport {getNameInitials} from \"@/services/Helpers\";\r\n\r\n/* ---------------------------------\r\n * All variables definitions\r\n * --------------------------------\r\n * */\r\nconst router = useRouter();\r\nconst store = useStore();\r\n\r\nconst password = ref(\"\");\r\nconst isLoading = ref(false)\r\nconst isPasswordFocused = ref(false)\r\nconst showPassword = ref(false)\r\n\r\n\r\n/* ---------------------------------\r\n * Computed properties\r\n * --------------------------------\r\n * */\r\nconst authUser = computed(()=> store.state.auth.user);\r\nconst userFirstName = computed(()=> {\r\n    if(authUser){\r\n        return store.state.auth.user.name.toString().split(\" \")[0];\r\n    }\r\n    return \"\";\r\n})\r\nconst userNameInitials = computed(()=> {\r\n    if(!authUser) return \"\";\r\n    return getNameInitials(authUser.value.name);\r\n})\r\n\r\n\r\n/**\r\n * Methods definitions\r\n * */\r\nfunction getSanctumCSRFToken(){\r\n    //show loader\r\n    isLoading.value = true;\r\n\r\n    api.get(apiRoutes.SANCTUM_CSRF_TOKEN)\r\n            //call method to login user\r\n            .then(response => {\r\n                return login();\r\n            })\r\n            .catch(error => isLoading.value = false)\r\n}\r\nfunction login(){\r\n\r\n    //prepare request payload\r\n    let payload = {\r\n        email: authUser.value.email.trim(),\r\n        password: password.value.trim(),\r\n        app_lock: true\r\n    }\r\n\r\n    //make api call\r\n    api.post(apiRoutes.LOGIN, payload)\r\n            .then(response => {\r\n                //store access token\r\n                store.commit('auth/STORE_AUTH_TOKEN', response.data.token);\r\n\r\n                //store user details\r\n                store.commit('auth/STORE_AUTH_USER', response.data.user)\r\n\r\n                //dismiss loader\r\n                isLoading.value = false;\r\n\r\n                //set that the app is not locked\r\n                store.commit(\"auth/UNLOCK_APP\");\r\n\r\n                //redirect user back to the page they were on before app lock\r\n                router.back();\r\n\r\n                //start time for tracking idle time\r\n                startIdleTracking();\r\n            })\r\n            .catch(error => isLoading.value = false)\r\n}\r\n\r\nfunction goToLogin(){\r\n    //clear token & user details from store & local storage\r\n    store.commit('auth/LOGOUT');\r\n    //redirect user to login page\r\n    router.replace({name: 'login'});\r\n    //stop idle time tracker\r\n    stopIdleTracking();\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n\r\n    <main>\r\n        <div class=\"container\">\r\n\r\n            <section class=\"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4\">\r\n                <div class=\"container\">\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center\">\r\n\r\n                            <div class=\"d-flex justify-content-center py-4\">\r\n                                <div class=\"logo d-flex align-items-center w-auto\">\r\n                                    <img src=\"@/assets/images/myzola_icon.png\" alt=\"\">\r\n                                    <span class=\"d-none d-lg-block\">MyZola Admin</span>\r\n                                </div>\r\n                            </div><!-- End Logo -->\r\n\r\n                            <div class=\"card mb-3\">\r\n\r\n                                <div class=\"card-body\" v-loading=\"isLoading\">\r\n\r\n                                    <div class=\"pt-4 pb-2\">\r\n                                        <div class=\"col-sm-12 d-flex justify-content-center\">\r\n                                            <div class=\"user_initials\">{{ userNameInitials }}</div>\r\n                                        </div>\r\n\r\n                                        <h5 class=\"card-title text-center pb-0\">Hello, {{ userFirstName }}</h5>\r\n                                        <p class=\"text-center small\">{{ authUser.email }}</p>\r\n                                    </div>\r\n\r\n                                    <form @submit.prevent=\"getSanctumCSRFToken\" class=\"row g-3 needs-validation\">\r\n                                        <div class=\"col-12\">\r\n                                            <div class=\"form-floating\">\r\n                                                <input :type=\"showPassword ? 'text' : 'password'\"\r\n                                                       class=\"form-control\" id=\"password\"\r\n                                                       placeholder=\"Password\" v-model=\"password\"\r\n                                                       @focus=\"isPasswordFocused = true\"\r\n                                                       @blur=\"isPasswordFocused = false\"\r\n                                                       required>\r\n                                                <label for=\"password\">Password</label>\r\n\r\n                                                <i\r\n                                                        :class=\"showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'\"\r\n                                                        @click=\"showPassword = !showPassword\"\r\n                                                        class=\"toggle-password\" v-if=\"password.length\"\r\n                                                ></i>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"col-12\">\r\n                                            <button class=\"btn btn-primary w-100\" type=\"submit\">\r\n                                                <i class=\"ri ri-lock-unlock-line\"></i>\r\n                                                Unlock\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <p class=\"small mb-0\">Having problems? <a href=\"#\" @click=\"goToLogin\">Switch Account</a></p>\r\n                                        </div>\r\n                                    </form>\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </section>\r\n\r\n        </div>\r\n    </main>\r\n    <!-- End #main -->\r\n\r\n</template>\r\n\r\n<style scoped>\r\n.toggle-password {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 15px;\r\n    transform: translateY(-50%);\r\n    cursor: pointer;\r\n    z-index: 2;\r\n    color: #b7b7b7;\r\n    font-size: 20px;\r\n}\r\n\r\n.form-floating input {\r\n    padding-right: 2.5rem; /* Adjust to make space for the icon */\r\n}\r\n\r\n.user_initials{\r\n    padding: 20px;\r\n    background: #c9bcef;\r\n    border-radius: 50%;\r\n    font-size: 25px;\r\n    font-weight: 600 !important;\r\n}\r\n</style>","import script from \"./AppLocked.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppLocked.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppLocked.vue?vue&type=style&index=0&id=354f8fc4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-354f8fc4\"]])\n\nexport default __exports__"],"names":["materialIconsNamesUrl","socialPlatforms","isSmallScreen","window","innerWidth","fetchExploreHubCompanies","store","commit","api","get","apiRoutes","GET_EXPLORE_LISTED_COMPANIES","then","response","data","catch","error","fetchExploreHubListingCategories","EXPLORE_HUB_FETCH_LISTING_CATEGORIES","fetchInvestmentHubCompanies","GET_INVESTMENT_HUB_LISTED_COMPANIES","fetchInvestmentHubListingCategories","INVESTMENT_HUB_FETCH_LISTING_CATEGORIES","fetchRoles","LIST_ROLES","fetchUsers","LIST_USERS","checkHasPermission","permission","getters","state","auth","permissions","includes","fetchMaterialIconsNames","axios","materialIconsData","lines","split","names","map","line","parts","randomString","length","text","possible","i","charAt","Math","floor","random","moneyFormatter","amount","currency","floating_points","dp","parseInt","formattedAmount","Intl","NumberFormat","format","parseFloat","toFixed","getNameInitials","fullName","numOfInitials","nameParts","trim","initials","part","toUpperCase","slice","join","router","useRouter","useStore","password","ref","isLoading","isPasswordFocused","showPassword","authUser","computed","user","userFirstName","name","toString","userNameInitials","value","getSanctumCSRFToken","SANCTUM_CSRF_TOKEN","login","payload","email","app_lock","post","LOGIN","token","back","startIdleTracking","goToLogin","replace","stopIdleTracking","__exports__"],"sourceRoot":""}