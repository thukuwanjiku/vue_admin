"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[234],{2653:function(e,l,a){a.d(l,{A:function(){return d}});var t=a(6768);const s={class:"alert alert-danger alert-dismissible fade show",role:"alert"},n=(0,t.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),i=(0,t.Lk)("hr",null,null,-1),u=(0,t.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),r=[n,i,u];function o(e,l){return(0,t.uX)(),(0,t.CE)("div",s,r)}var c=a(1241);const k={},_=(0,c.A)(k,[["render",o]]);var d=_},8575:function(e,l,a){a.r(l),a.d(l,{default:function(){return ml}});a(4114);var t=a(6768),s=a(144),n=a(4232),i=a(4300),u=a(7190),r=a(782),o=a(1387),c=a(2933),k=a(7477),_=a(7021),d=(a(1099),a(2653));const m=e=>((0,t.Qi)("data-v-23349da0"),e=e(),(0,t.jt)(),e),p={class:"row p-2"},b={key:0,class:"col-sm-12 d-flex m-b-10"},v=m((()=>(0,t.Lk)("br",null,null,-1))),h={key:1,class:"table-responsive"},L={class:"table table-hover"},f=m((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Logo"),(0,t.Lk)("th",null,"Business Name"),(0,t.Lk)("th",null,"Business Type"),(0,t.Lk)("th",null,"Business Address"),(0,t.Lk)("th",null,"Business Contact"),(0,t.Lk)("th",null,"Contact Person"),(0,t.Lk)("th",null,"Status"),(0,t.Lk)("th",null,"Actions")])],-1))),y=["onClick"],g=["src","alt"],C=m((()=>(0,t.Lk)("br",null,null,-1))),E=["onClick"],x={class:"text-center"},w=m((()=>(0,t.Lk)("br",null,null,-1))),X=["onClick"],A={class:"text-center"},R=m((()=>(0,t.Lk)("br",null,null,-1))),P=["onClick"],W={class:"text-center"},N=m((()=>(0,t.Lk)("br",null,null,-1))),Q=["onClick"],D=m((()=>(0,t.Lk)("br",null,null,-1))),T=["href"],I=["onClick"],O=m((()=>(0,t.Lk)("br",null,null,-1))),S=["href"],F={key:1},B={key:1},M=m((()=>(0,t.Lk)("td",{colspan:"8",class:"text-center p-3"},"No data",-1))),H=[M],K={key:2},V={class:"container"},j={class:"text-center mb-4"},Y={class:"h4 fw-bold mb-0"},J={class:"text-muted"},z={class:"mb-0"},G=["href"],U={class:"text-secondary"},q={class:"border-top pt-3 mb-4"},Z=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Description",-1))),ee=["innerHTML"],le={key:1,class:"text-muted"},ae={class:"row border-top pt-3 mb-4"},te={class:"col-md-6"},se=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Company Contact",-1))),ne={class:"list-unstyled"},ie=m((()=>(0,t.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),ue=["href"],re=m((()=>(0,t.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),oe=m((()=>(0,t.Lk)("i",{class:"bi bi-geo-alt-fill text-muted me-2"},null,-1))),ce={class:"col-md-6"},ke=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Contact Person",-1))),_e={class:"list-unstyled"},de=m((()=>(0,t.Lk)("i",{class:"bi bi-person-fill text-muted me-2"},null,-1))),me=m((()=>(0,t.Lk)("i",{class:"bi bi-envelope-fill text-muted me-2"},null,-1))),pe=["href"],be=m((()=>(0,t.Lk)("i",{class:"bi bi-telephone-fill text-muted me-2"},null,-1))),ve={class:"row border-top pt-3 mb-4"},he={class:"col-md-6"},Le=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Bank Details",-1))),fe={class:"list-unstyled"},ye=m((()=>(0,t.Lk)("br",null,null,-1))),ge=m((()=>(0,t.Lk)("br",null,null,-1))),Ce={class:"col-md-6"},Ee=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Company Documents",-1))),xe={class:"list-unstyled"},we={key:0},Xe=["href"],Ae={key:1},Re=["href"],Pe={key:2},We=["href"],Ne={key:3},Qe=["href"],De={key:4},Te=["href"],Ie={key:5},Oe=["href"],Se={key:0,class:"border-top pt-3 mb-4"},Fe=m((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Directors",-1))),Be={class:"table table-bordered table-hover text-center"},Me=m((()=>(0,t.Lk)("thead",{class:"table-light"},[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Name"),(0,t.Lk)("th",null,"Email"),(0,t.Lk)("th",null,"Phone"),(0,t.Lk)("th",null,"ID Document"),(0,t.Lk)("th",null,"KRA PIN Document")])],-1))),He=["href"],Ke=["href"],Ve={key:1,class:"border-top pt-3 mb-4"},je={class:"d-flex justify-content-center gap-3"},Ye=["href"],Je=m((()=>(0,t.Lk)("i",{class:"bi bi-linkedin fs-5"},null,-1))),$e=[Je],ze=["href"],Ge=m((()=>(0,t.Lk)("i",{class:"bi bi-twitter fs-5"},null,-1))),Ue=[Ge],qe=["href"],Ze=m((()=>(0,t.Lk)("i",{class:"bi bi-facebook fs-5"},null,-1))),el=[Ze],ll=["href"],al=m((()=>(0,t.Lk)("i",{class:"bi bi-instagram fs-5"},null,-1))),tl=[al],sl=["href"],nl=m((()=>(0,t.Lk)("i",{class:"bi bi-youtube fs-5"},null,-1))),il=[nl],ul=["href"],rl=m((()=>(0,t.Lk)("i",{class:"bi bi-tiktok fs-5"},null,-1))),ol=[rl],cl={class:"text-end"};var kl={__name:"List",setup(e){const l=(0,r.Pj)(),a=(0,o.rd)(),m=(0,s.KR)(!1),M=(0,s.KR)(null);let Je=(0,t.EW)({get:()=>l.state.exploreHub.companies,set:e=>l.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e)}),Ge=(0,t.EW)({get:()=>l.state.exploreHub.isFetchingCompanies,set:e=>l.commit("exploreHub/SET_IS_FETCHING_COMPANIES",e)});function Ze(e){switch(e.action){case"view":return al(e.company);case"edit":return nl(e.company);case"approve":return rl(e.company);case"reject":return kl(e.company);case"archive":return _l(e.company);case"delete":return ml(e.company)}}function al(e){if((0,_.cE)("explore_hub.companies.view"))return M.value=JSON.parse(JSON.stringify(e)),m.value=!0}function nl(e){l.commit("exploreHub/SET_EDIT_COMPANY",JSON.parse(JSON.stringify(e))),a.push({name:"explore_hub.companies.edit"})}function rl(e){Ge.value=!0,i.A.post(u.pe.APPROVE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}function kl(e){Ge.value=!0,i.A.post(u.pe.REJECT_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}function _l(e){c.s.prompt("Sure you want to archive this company?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:l})=>{let a={id:e.id,reason:l};dl(a)})).catch((()=>{}))}function dl(e){Ge.value=!0,i.A.post(u.pe.ARCHIVE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.k1)(),(0,_.G1)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}function ml(e){c.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let l={id:e.id};pl(l)})).catch((()=>{}))}function pl(e){Ge.value=!0,i.A.post(u.pe.DELETE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,_.k1)(),$.growl.notice({message:e.data.message})})).catch((e=>Ge.value=!1))}return(0,t.sV)((()=>{(0,_.cE)("explore_hub.companies.view")&&(0,_.k1)()})),(e,l)=>{const i=(0,t.g2)("el-button"),u=(0,t.g2)("el-icon"),r=(0,t.g2)("el-dropdown-item"),o=(0,t.g2)("el-dropdown-menu"),c=(0,t.g2)("el-dropdown"),$=(0,t.g2)("el-dialog"),nl=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",p,[(0,s.R1)(_.cE)("explore_hub.companies.add")?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(i,{onClick:l[0]||(l[0]=e=>(0,s.R1)(a).push({name:"explore_hub.companies.add"})),type:"primary",icon:(0,s.R1)(k.FWt),plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Company")])),_:1},8,["icon"])])):(0,t.Q3)("",!0),v,(0,s.R1)(_.cE)("explore_hub.companies.view")?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.Lk)("table",L,[f,(0,t.Lk)("tbody",null,[(0,s.R1)(Je).length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)((0,s.R1)(Je),((e,l)=>((0,t.uX)(),(0,t.CE)("tr",{key:"explore_hub-companies-"+l,style:{cursor:"pointer"}},[(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("img",{class:"table-img",src:e.logo_url,alt:e.business_name+"'s logo"},null,8,g),C,(0,t.Lk)("small",null,(0,n.v_)(e.reference),1)],8,y),(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("span",x,(0,n.v_)(e.business_name),1),w,(0,t.Lk)("small",null,(0,n.v_)(e.business_tagline),1)],8,E),(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("span",A,(0,n.v_)(e.business_type),1),R,(0,t.Lk)("small",null,(0,n.v_)(e.business_industry.name),1)],8,X),(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("span",W,(0,n.v_)(e.business_country.name),1),N,(0,t.Lk)("small",null,(0,n.v_)(e.business_address.formatted_address),1)],8,P),(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("span",null,(0,n.v_)(e.business_website),1),D,(0,t.Lk)("small",null,[(0,t.eW)((0,n.v_)(e.business_phone_number)+" | ",1),(0,t.Lk)("a",{href:"mailto:"+e.business_email},(0,n.v_)(e.business_email),9,T)])],8,Q),(0,t.Lk)("td",{onClick:l=>al(e)},[(0,t.Lk)("span",null,(0,n.v_)(e.partner_contact_person.formatted_name),1),O,(0,t.Lk)("small",null,[(0,t.eW)((0,n.v_)(e.partner_contact_person.user.phone_number)+" | ",1),(0,t.Lk)("a",{href:"mailto:"+e.partner_contact_person.user.email},(0,n.v_)(e.partner_contact_person.user.email),9,S)])],8,I),(0,t.Lk)("td",null,[(0,t.Lk)("span",{class:(0,n.C4)({"badge bg-warning":"pending"===e.status,"badge bg-success":"approved"===e.status})},(0,n.v_)(e.status),3)]),(0,t.Lk)("td",null,[(0,t.bF)(c,{trigger:"click",onCommand:Ze},{dropdown:(0,t.k6)((()=>[(0,t.bF)(o,null,{default:(0,t.k6)((()=>[(0,s.R1)(_.cE)("explore_hub.companies.view")?((0,t.uX)(),(0,t.Wv)(r,{key:0,command:{action:"view",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("View")])),_:2},1032,["command"])):(0,t.Q3)("",!0),"pending"===e.status?((0,t.uX)(),(0,t.CE)("div",F,[(0,t.bF)(r,{command:{action:"approve",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Approve")])),_:2},1032,["command"]),(0,t.bF)(r,{command:{action:"reject",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Reject")])),_:2},1032,["command"])])):(0,t.Q3)("",!0),(0,s.R1)(_.cE)("explore_hub.companies.archive")?((0,t.uX)(),(0,t.Wv)(r,{key:2,command:{action:"archive",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Archive")])),_:2},1032,["command"])):(0,t.Q3)("",!0),(0,s.R1)(_.cE)("explore_hub.companies.delete")?((0,t.uX)(),(0,t.Wv)(r,{key:3,command:{action:"delete",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Delete")])),_:2},1032,["command"])):(0,t.Q3)("",!0)])),_:2},1024)])),default:(0,t.k6)((()=>[(0,t.bF)(i,{plain:"",type:"primary",disabled:!(0,s.R1)(_.oE)(["explore_hub.companies.view","explore_hub.companies.edit","explore_hub.companies.archive","explore_hub.companies.delete"]),size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)(" Actions"),(0,t.bF)(u,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,s.R1)(k.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,t.uX)(),(0,t.CE)("tr",B,H))])])])):((0,t.uX)(),(0,t.CE)("div",K,[(0,t.bF)(d.A)]))])),[[nl,(0,s.R1)(Ge)]]),M.value?((0,t.uX)(),(0,t.Wv)($,{key:0,modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),width:"70%",class:"view-company-modal"},{footer:(0,t.k6)((()=>[(0,t.Lk)("div",cl,[(0,t.Lk)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=e=>m.value=!1)},"Close")])])),default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[(0,t.Lk)("div",j,[(0,t.Lk)("h3",Y,(0,n.v_)(M.value.business_name),1),(0,t.Lk)("p",J,(0,n.v_)(M.value.business_tagline),1),(0,t.Lk)("p",z,[(0,t.Lk)("a",{href:M.value.business_website,target:"_blank",class:"text-primary"},(0,n.v_)(M.value.business_website),9,G)]),(0,t.Lk)("p",U,(0,n.v_)(M.value.business_type)+" | "+(0,n.v_)(M.value.business_industry.name),1)]),(0,t.Lk)("div",q,[Z,M.value.bio?((0,t.uX)(),(0,t.CE)("p",{key:0,innerHTML:M.value.bio},null,8,ee)):((0,t.uX)(),(0,t.CE)("p",le,"No description available."))]),(0,t.Lk)("div",ae,[(0,t.Lk)("div",te,[se,(0,t.Lk)("ul",ne,[(0,t.Lk)("li",null,[ie,(0,t.Lk)("a",{href:"mailto:"+M.value.business_email,class:"text-primary"},(0,n.v_)(M.value.business_email),9,ue)]),(0,t.Lk)("li",null,[re,(0,t.eW)(" "+(0,n.v_)(M.value.business_phone_number),1)]),(0,t.Lk)("li",null,[oe,(0,t.eW)(" "+(0,n.v_)(M.value.business_address.formatted_address),1)])])]),(0,t.Lk)("div",ce,[ke,(0,t.Lk)("ul",_e,[(0,t.Lk)("li",null,[de,(0,t.eW)(" "+(0,n.v_)(M.value.partner_contact_person.formatted_name),1)]),(0,t.Lk)("li",null,[me,(0,t.Lk)("a",{href:"mailto:"+M.value.partner_contact_person.user.email,class:"text-primary"},(0,n.v_)(M.value.partner_contact_person.user.email),9,pe)]),(0,t.Lk)("li",null,[be,(0,t.eW)(" "+(0,n.v_)(M.value.partner_contact_person.user.phone_number),1)])])])]),(0,t.Lk)("div",ve,[(0,t.Lk)("div",he,[Le,(0,t.Lk)("ul",fe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(M.value.banks,((e,l)=>((0,t.uX)(),(0,t.CE)("li",{key:l},[(0,t.Lk)("strong",null,(0,n.v_)(e.bank_name),1),(0,t.eW)(" ("+(0,n.v_)(e.bank_branch)+")",1),ye,(0,t.eW)(" Account Name: "+(0,n.v_)(e.bank_account_name),1),ge,(0,t.eW)(" Account Number: "+(0,n.v_)(e.bank_account_number),1)])))),128))])]),(0,t.Lk)("div",Ce,[Ee,(0,t.Lk)("ul",xe,[M.value.documents.business_registration_certificate_file_path?((0,t.uX)(),(0,t.CE)("li",we,[(0,t.Lk)("a",{href:M.value.documents.business_registration_certificate_file_url,target:"_blank",class:"text-primary"}," Business Registration Certificate ",8,Xe)])):(0,t.Q3)("",!0),M.value.documents.company_kra_pin_certificate_file_path?((0,t.uX)(),(0,t.CE)("li",Ae,[(0,t.Lk)("a",{href:M.value.documents.company_kra_pin_certificate_file_url,target:"_blank",class:"text-primary"}," KRA PIN Certificate ",8,Re)])):(0,t.Q3)("",!0),M.value.documents.business_permit_certificate_file_path?((0,t.uX)(),(0,t.CE)("li",Pe,[(0,t.Lk)("a",{href:M.value.documents.business_permit_certificate_file_url,target:"_blank",class:"text-primary"}," Business Permit ",8,We)])):(0,t.Q3)("",!0),M.value.documents.partnership_deed_file_path?((0,t.uX)(),(0,t.CE)("li",Ne,[(0,t.Lk)("a",{href:M.value.documents.partnership_deed_file_url,target:"_blank",class:"text-primary"}," Partnership Deed ",8,Qe)])):(0,t.Q3)("",!0),M.value.documents.partners_resolution_letter_file_path?((0,t.uX)(),(0,t.CE)("li",De,[(0,t.Lk)("a",{href:M.value.documents.partners_resolution_letter_file_url,target:"_blank",class:"text-primary"}," Partners Resolution Letter ",8,Te)])):(0,t.Q3)("",!0),M.value.documents.cr12_certificate_file_path?((0,t.uX)(),(0,t.CE)("li",Ie,[(0,t.Lk)("a",{href:M.value.documents.cr12_certificate_file_url,target:"_blank",class:"text-primary"}," CR12 Certificate ",8,Oe)])):(0,t.Q3)("",!0)])])]),M.value.directors.length?((0,t.uX)(),(0,t.CE)("div",Se,[Fe,(0,t.Lk)("table",Be,[Me,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(M.value.directors,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e.id},[(0,t.Lk)("td",null,(0,n.v_)(e.first_name)+" "+(0,n.v_)(e.last_name),1),(0,t.Lk)("td",null,(0,n.v_)(e.email),1),(0,t.Lk)("td",null,(0,n.v_)(e.phone_number),1),(0,t.Lk)("td",null,[(0,t.Lk)("a",{href:e.id_file_url,target:"_blank",class:"text-primary"}," Download ",8,He)]),(0,t.Lk)("td",null,[(0,t.Lk)("a",{href:e.kra_pin_file_url,target:"_blank",class:"text-primary"}," Download ",8,Ke)])])))),128))])])])):(0,t.Q3)("",!0),Object.keys(M.value.business_socials).length?((0,t.uX)(),(0,t.CE)("div",Ve,[(0,t.Lk)("div",je,[M.value.business_socials.linkedin?((0,t.uX)(),(0,t.CE)("a",{key:0,href:M.value.business_socials.linkedin,target:"_blank",class:"text-primary"},$e,8,Ye)):(0,t.Q3)("",!0),M.value.business_socials.twitter?((0,t.uX)(),(0,t.CE)("a",{key:1,href:M.value.business_socials.twitter,target:"_blank",class:"text-primary"},Ue,8,ze)):(0,t.Q3)("",!0),M.value.business_socials.facebook?((0,t.uX)(),(0,t.CE)("a",{key:2,href:M.value.business_socials.facebook,target:"_blank",class:"text-primary"},el,8,qe)):(0,t.Q3)("",!0),M.value.business_socials.instagram?((0,t.uX)(),(0,t.CE)("a",{key:3,href:M.value.business_socials.instagram,target:"_blank",class:"text-danger"},tl,8,ll)):(0,t.Q3)("",!0),M.value.business_socials.youtube?((0,t.uX)(),(0,t.CE)("a",{key:4,href:M.value.business_socials.youtube,target:"_blank",class:"text-danger"},il,8,sl)):(0,t.Q3)("",!0),M.value.business_socials.tiktok?((0,t.uX)(),(0,t.CE)("a",{key:5,href:M.value.business_socials.tiktok,target:"_blank",class:"text-dark"},ol,8,ul)):(0,t.Q3)("",!0)])])):(0,t.Q3)("",!0)])])),_:1},8,["modelValue"])):(0,t.Q3)("",!0)],64)}}},_l=a(1241);const dl=(0,_l.A)(kl,[["__scopeId","data-v-23349da0"]]);var ml=dl}}]);
//# sourceMappingURL=234.js.map