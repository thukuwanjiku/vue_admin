"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[655],{7676:function(e,l,a){a.d(l,{A:function(){return c}});var n=a(6768);const t={class:"f-w-600"},o=(0,n.Lk)("br",null,null,-1);function i(e,l){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("small",t,[(0,n.RG)(e.$slots,"default")]),o],64)}var s=a(1241);const u={},r=(0,s.A)(u,[["render",i]]);var c=r},7655:function(e,l,a){a.r(l),a.d(l,{default:function(){return sl}});a(4114);var n=a(6768),t=a(5130),o=a(144),i=a(4232),s=a(1387),u=a(4300),r=a(7190),c=a(782),d=a(22),m=a(6133),p=a(5015),v=a(7021),f=a(1219),k=a(7676),L=a(1099),b=a(5459);const g=e=>((0,n.Qi)("data-v-4fcdc7e8"),e=e(),(0,n.jt)(),e),y={class:"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between"},C=g((()=>(0,n.Lk)("h6",{class:"fw-bold mb-0",style:{"margin-left":"20px"}},"Edit Company Details",-1))),h={class:"row"},E={class:"col-md-6"},R={class:"col-md-10 m-b-20"},x={class:"form-floating"},w=g((()=>(0,n.Lk)("label",{for:"companyName"},"Company Name",-1))),_={class:"col-md-10 m-b-20"},A={class:"form-floating"},K=g((()=>(0,n.Lk)("label",{for:"companyTagline"},"Tagline",-1))),X={class:"col-md-10 m-b-20"},F={class:"form-floating"},S=g((()=>(0,n.Lk)("label",{for:"companyContactPerson"},"Contact Person",-1))),P={class:"col-md-10 m-b-20"},N=g((()=>(0,n.Lk)("small",{class:"text-muted"},"Contact Phone",-1))),I={class:"col-md-10 m-b-20"},B={class:"form-floating"},D=g((()=>(0,n.Lk)("label",{for:"companyContactEmail"},"Email",-1))),O=g((()=>(0,n.Lk)("div",{class:"col-md-10 m-b-20"},[(0,n.Lk)("h6",null,"Company's Bio (About)"),(0,n.Lk)("div",{id:"editCompanyAboutEditor",class:"quill-editor-default"})],-1))),Q={class:"col-md-6"},T={class:"col-md-10 m-b-20"},V={class:"m-b-10"},U=["src"],J={class:"form-floating"},M=g((()=>(0,n.Lk)("label",{for:"companyLogo"},"Company Logo",-1))),j={key:0,class:"d-flex flex-wrap m-t-10"},W={class:"p-1 uploaded-image"},q=["src"],z=g((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),H=[z],Y={class:"col-md-10 m-b-20"},G={class:"m-b-10"},Z=["src"],ee={class:"form-floating"},le=g((()=>(0,n.Lk)("label",{for:"companyBanner"},"Company Banner",-1))),ae={key:0,class:"d-flex flex-wrap m-t-10"},ne={class:"p-1 uploaded-image"},te=["src"],oe=g((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),ie=[oe],se={class:"col-md-10 m-b-20"},ue=g((()=>(0,n.Lk)("h6",null,"Social Media Handles",-1))),re={key:0,class:"p-l-10 m-t-10"},ce=g((()=>(0,n.Lk)("h6",null,[(0,n.Lk)("small",null,"Currently saved")],-1))),de={class:"d-inline-flex align-items-center flex-wrap"},me=["onClick"],pe=g((()=>(0,n.Lk)("i",{class:"ri ri-close-line"},null,-1))),ve=[pe],fe={key:1,class:"p-l-10 m-t-10"},ke=g((()=>(0,n.Lk)("h6",{class:"text-danger"},[(0,n.Lk)("small",null,"Marked for deletion")],-1))),Le={class:"d-inline-flex align-items-center flex-wrap"},be={class:"p-l-10 m-t-10"},ge={key:0},ye={class:"d-inline-flex align-items-center flex-wrap"},Ce={key:0,class:"d-inline-flex"},he={key:0,class:"ri ri-add-line"},Ee={class:"col-md-10 m-b-20"},Re=g((()=>(0,n.Lk)("label",{for:"businessType",class:"mb-2"},"Business Type",-1))),xe=["value"],we={class:"col-md-10 m-b-20"},_e={key:0},Ae=g((()=>(0,n.Lk)("h6",null,"Update KYB Documents (Max 2MB per file | pdf, doc, docx)",-1))),Ke=["required","onChange"],Xe=["for"],Fe=g((()=>(0,n.Lk)("hr",null,null,-1))),Se={class:"modal-footer"},Pe=g((()=>(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Save Edits",-1))),Ne={key:0,class:"row"},Ie=g((()=>(0,n.Lk)("h6",{class:"fw-bold"},[(0,n.Lk)("small",{class:"text-muted"},"Currently added")],-1))),Be=g((()=>(0,n.Lk)("small",{class:"text-muted text-italic"},"Click to remove",-1))),$e={class:"d-inline-flex"},De=["onClick"],Oe=g((()=>(0,n.Lk)("br",null,null,-1))),Qe={class:"row"},Te={key:0,class:"fw-bold"},Ve=g((()=>(0,n.Lk)("small",{class:"text-muted"},"Add more here",-1))),Ue=[Ve],Je={class:"p-l-20"},Me=g((()=>(0,n.Lk)("small",null,"Select Platform",-1))),je=g((()=>(0,n.Lk)("br",null,null,-1))),We={class:"d-inline-flex flex-wrap"},qe=["onClick"],ze=["onClick"],He=g((()=>(0,n.Lk)("br",null,null,-1))),Ye=g((()=>(0,n.Lk)("br",null,null,-1))),Ge={key:0,class:"col-md-6"},Ze={class:"input-group mb-3"},el={class:"form-floating"},ll={for:"newSocialLink"},al={class:"input-group-text",id:"basic-addon2"},nl={class:"col-sm-12 d-flex justify-content-end"};var tl={__name:"Edit",setup(e){const l=(0,s.rd)(),a=(0,c.Pj)();let g=(0,o.KR)({}),z=(0,o.KR)(null),oe=(0,o.KR)(null),pe=(0,o.KR)(null),Ve=(0,o.KR)(null);const tl=(0,o.KR)(!1);let ol=(0,o.KR)(null);const il=(0,o.KR)(!1),sl=(0,o.KR)([]),ul=(0,o.KR)([]),rl=(0,o.KR)({platform:"",link:""}),cl=[{label:"Sole Proprietorship",value:"Sole Proprietorship"},{label:"Partnership",value:"Partnership"},{label:"Limited Liability Company (LLC)",value:"Limited Liability Company"}],dl=(0,o.KR)([]),ml=(0,o.KR)({}),pl=(0,o.KR)(),vl=(0,n.EW)((()=>sl.value.filter((e=>!e.deleted)))),fl=(0,n.EW)((()=>sl.value.filter((e=>e.deleted)))),kl=(0,n.EW)((()=>{let e=[...ul.value.map((e=>e.platform)),...vl.value.map((e=>e.platform))];return v.eX.filter((l=>!e.includes(l)))}));function Ll(e){const l={"Sole Proprietorship":["Business Registration Certificate","KRA PIN Certificate","Owner's National ID","Owner's KRA PIN Certificate","Bank Account Confirmation Letter (in business name)"],Partnership:["Partnership Deed","Certificate of Registration","Company KRA PIN Certificate","Partners Resolution Letter","Owner's National ID","Bank Letter Stating Partnership Bank Details"],"Limited Liability Company":["Business Registration Certificate","Company KRA PIN Certificate","Owner's National ID","Owner's KRA PIN Certificate","Bank Account Confirmation Letter (in business name)"]};dl.value=l[e]||[],pl.value!==e?ml.value={}:ml.value=g.value.documents}function bl(e,l){const a=e.target.files[0];if(a.size>2097152)return f.nk.error(`${l} file exceeds 2MB limit. Please upload a smaller file.`),void(e.target.value=null);ml.value[l]=a}function gl(e){const l=e.target.files[0];if(l.size>2097152)return f.nk.error("Logo file size exceeds 2MB limit."),void(e.target.value=null);z.value=l;const a=new FileReader;a.onload=e=>{oe.value=e.target.result},a.readAsDataURL(l)}function yl(e){const l=e.target.files[0];if(l.size>2097152)return f.nk.error("Banner file size exceeds 2MB limit."),void(e.target.value=null);pe.value=l;const a=new FileReader;a.onload=e=>{Ve.value=e.target.result},a.readAsDataURL(l)}function Cl(){z.value=null,oe.value=null,$("#companyLogo").val("")}function hl(){pe.value=null,Ve.value=null,$("#companyBanner").val("")}function El(e){let l=ul.value.findIndex((l=>l.platform===e.platform));l>-1&&(ul.value.splice(l,1),$.growl({title:"Heads-up",message:`Newly added ${(0,p.A)(e.platform)} handle removed in favor of the one already saved`})),e.deleted=!e.deleted}function Rl(e){rl.value.platform=e,rl.value.link="whatsapp"===e?"https://wa.me/":""}function xl(){if("whatsapp"!==rl.value.platform&&(rl.value.link=rl.value.link.replace(/\/+$/,"")),!(0,b.I)(rl.value))return f.nk.warning(`Please enter a valid ${(0,p.A)(rl.value.platform)} url`);ul.value.push({platform:rl.value.platform,link:rl.value.link}),rl.value={platform:"",link:""}}function wl(){let e=ol.getSemanticHTML();if(!e||!e.toString().length||"<p></p>"==e)return $.growl.warning({message:"Please enter the company's bio"});if(g.value["about"]=e,!g.value.contact_phone||!g.value.contact_phone.toString().length)return $.growl.warning({message:"Please enter contact phone"});let n=new FormData;Object.keys(g.value).filter((e=>!["socials","logo"].includes(e))).forEach((e=>{let l=g.value[e];"contact_phone"===e&&(l=l.toString().replaceAll(" ","")),n.append(e,l)})),null!=z.value&&n.append("company_logo",z.value),null!=pe.value&&n.append("company_banner",pe.value),Object.keys(ml.value).forEach((e=>{ml.value[e]&&n.append(`documents[${e}]`,ml.value[e])})),ul.value.length&&ul.value.forEach(((e,l)=>{n.append(`socials[${l}][platform]`,e.platform),n.append(`socials[${l}][link]`,e.link)})),fl.value.length&&fl.value.forEach(((e,l)=>{n.append(`deleted_socials[${l}]`,e.id)})),tl.value=!0,u.A.post(r.pe.EDIT_INVESTMENT_HUB_LISTED_COMPANY,n).then((e=>{$.growl.notice({message:e.data.message});let n=JSON.parse(JSON.stringify(a.state.investmentHub.companies)),t=n.findIndex((e=>e.id==g.value["id"]));t>-1&&(n[t]=e.data.data),a.commit("investmentHub/STORE_LISTED_COMPANIES",n),tl.value=!1,l.back()})).catch((e=>tl.value=!1))}return(0,n.sV)((()=>{if(null==a.state.investmentHub.editCompany)return l.push({name:"investment_hub.companies.listed"});g.value=JSON.parse(JSON.stringify(a.state.investmentHub.editCompany)),sl.value=JSON.parse(JSON.stringify(g.value.socials)),sl.value=sl.value.map((e=>(e.deleted=!1,e))),pl.value=g.value.business_type,Ll(g.value.business_type),$("#editCompanyAboutEditor").html(g.value["about"]),ol=new Quill("#editCompanyAboutEditor",{theme:"snow",placeholder:"Enter company about here"})})),(e,a)=>{const s=(0,n.g2)("el-tag"),u=(0,n.g2)("el-button"),r=(0,n.g2)("el-badge"),c=(0,n.g2)("el-dialog"),f=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",y,[C,(0,n.bF)(m.A)]),(0,n.bo)(((0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,t.D$)(wl,["prevent"])},[(0,n.Lk)("div",h,[(0,n.Lk)("div",E,[(0,n.Lk)("div",R,[(0,n.Lk)("div",x,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyName",placeholder:"Company Name","onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.R1)(g).name=e),required:""},null,512),[[t.Jo,(0,o.R1)(g).name]]),w])]),(0,n.Lk)("div",_,[(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyTagline",placeholder:"Tagline","onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.R1)(g).description=e),required:""},null,512),[[t.Jo,(0,o.R1)(g).description]]),K])]),(0,n.Lk)("div",X,[(0,n.Lk)("div",F,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"companyContactPerson",placeholder:"Company Person","onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.R1)(g).contact_name=e),required:""},null,512),[[t.Jo,(0,o.R1)(g).contact_name]]),S])]),(0,n.Lk)("div",P,[N,(0,n.bF)((0,o.R1)(d.E),{modelValue:(0,o.R1)(g).contact_phone,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.R1)(g).contact_phone=e),mode:"international"},null,8,["modelValue"])]),(0,n.Lk)("div",I,[(0,n.Lk)("div",B,[(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control",id:"companyContactEmail",placeholder:"Email","onUpdate:modelValue":a[4]||(a[4]=e=>(0,o.R1)(g).email=e),required:""},null,512),[[t.Jo,(0,o.R1)(g).email]]),D])]),O]),(0,n.Lk)("div",Q,[(0,n.Lk)("div",T,[(0,n.bF)(k.A,null,{default:(0,n.k6)((()=>[(0,n.eW)("Saved Logo")])),_:1}),(0,n.Lk)("div",V,[(0,n.Lk)("img",{src:(0,o.R1)(g).logo,style:{"max-height":"80px","max-width":"100px"}},null,8,U)]),(0,n.Lk)("div",J,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"companyLogo",onChange:gl,accept:".png,.jpg,.jpeg,.gif"},null,32),M]),(0,o.R1)(oe)?((0,n.uX)(),(0,n.CE)("div",j,[(0,n.Lk)("div",W,[(0,n.Lk)("img",{src:(0,o.R1)(oe),style:{"max-width":"80px","max-height":"60px"}},null,8,q),(0,n.Lk)("div",{class:"remover",onClick:Cl},H)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Y,[(0,n.bF)(k.A,null,{default:(0,n.k6)((()=>[(0,n.eW)("Saved Banner")])),_:1}),(0,n.Lk)("div",G,[(0,n.Lk)("img",{src:(0,o.R1)(g).banner,style:{"max-height":"80px","max-width":"100px"}},null,8,Z)]),(0,n.Lk)("div",ee,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"companyBanner",onChange:yl,accept:".png,.jpg,.jpeg,.gif"},null,32),le]),(0,o.R1)(Ve)?((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.Lk)("div",ne,[(0,n.Lk)("img",{src:(0,o.R1)(Ve),style:{"max-width":"80px","max-height":"60px"}},null,8,te),(0,n.Lk)("div",{class:"remover",onClick:hl},ie)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",se,[ue,vl.value.length?((0,n.uX)(),(0,n.CE)("div",re,[ce,(0,n.Lk)("div",de,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(vl.value,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{class:"saved-social",key:"saved-socials-"+l},[(0,n.bF)(L.A,(0,n.v6)({ref_for:!0},e),null,16),(0,n.Lk)("div",{class:"remover",onClick:l=>e.deleted=!e.deleted},ve,8,me)])))),128))])])):(0,n.Q3)("",!0),fl.value.length?((0,n.uX)(),(0,n.CE)("div",fe,[ke,(0,n.Lk)("div",Le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(fl.value,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{key:"to-delete-socials-"+l,class:"m-r-5"},[(0,n.bF)(s,{closable:"",type:"danger",onClose:l=>El(e)},{default:(0,n.k6)((()=>[(0,n.eW)((0,i.v_)((0,o.R1)(p.A)(e.platform)),1)])),_:2},1032,["onClose"])])))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",be,[sl.value.length?((0,n.uX)(),(0,n.CE)("h6",ge,[(0,n.Lk)("small",null,(0,i.v_)(ul.value.length?"Newly added to be saved":"Add new handles"),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",ye,[ul.value.length?((0,n.uX)(),(0,n.CE)("div",Ce,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ul.value,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{class:"p-1",key:"form-new-socials-"+l},[(0,n.bF)(L.A,(0,n.v6)({ref_for:!0},e),null,16)])))),128))])):(0,n.Q3)("",!0),(0,n.bF)(u,{onClick:a[5]||(a[5]=e=>il.value=!il.value),size:"small",round:""},{default:(0,n.k6)((()=>[ul.value.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("i",he)),(0,n.eW)((0,i.v_)(ul.value.length?"Click to edit":"Click to add"),1)])),_:1})])]),(0,n.Lk)("div",Ee,[Re,(0,n.bo)((0,n.Lk)("select",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>(0,o.R1)(g).business_type=e),onChange:a[7]||(a[7]=e=>Ll((0,o.R1)(g).business_type)),required:""},[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(cl,(e=>(0,n.Lk)("option",{key:e.value,value:e.value},(0,i.v_)(e.label),9,xe))),64))],544),[[t.u1,(0,o.R1)(g).business_type]])]),(0,n.Lk)("div",we,[dl.value.length?((0,n.uX)(),(0,n.CE)("div",_e,[Ae,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(dl.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"form-floating mb-2"},[(0,n.Lk)("input",{class:"form-control",required:pl.value!==(0,o.R1)(g).business_type,type:"file",onChange:l=>bl(l,e),accept:".pdf,.doc,.docx"},null,40,Ke),(0,n.Lk)("label",{for:e},(0,i.v_)(e),9,Xe)])))),128))])):(0,n.Q3)("",!0)])])])]),Fe,(0,n.Lk)("div",Se,[Pe,(0,n.eW)("   "),(0,n.Lk)("button",{onClick:a[8]||(a[8]=e=>(0,o.R1)(l).back()),class:"btn btn-secondary",type:"button"},"Cancel")])],32)),[[f,tl.value]]),(0,n.bF)(c,{fullscreen:(0,o.R1)(v.Qv),modelValue:il.value,"onUpdate:modelValue":a[11]||(a[11]=e=>il.value=e)},{default:(0,n.k6)((()=>[ul.value.length?((0,n.uX)(),(0,n.CE)("div",Ne,[Ie,Be,(0,n.Lk)("div",$e,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ul.value,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{onClick:e=>ul.value.splice(l,1),key:"current-socials-"+l},[(0,n.bF)(L.A,{platform:e.platform},null,8,["platform"])],8,De)))),128))])])):(0,n.Q3)("",!0),Oe,(0,n.Lk)("div",Qe,[ul.value.length?((0,n.uX)(),(0,n.CE)("h6",Te,Ue)):(0,n.Q3)("",!0),(0,n.Lk)("div",Je,[(0,n.Lk)("form",{onSubmit:(0,t.D$)(xl,["prevent"])},[Me,je,(0,n.Lk)("div",We,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(kl.value,((e,l)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:"to-add-social"+l},[rl.value.platform==e?((0,n.uX)(),(0,n.CE)("div",{key:0,onClick:l=>Rl(e)},[(0,n.bF)(r,{value:"✓",class:"item",type:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(L.A,{platform:e},null,8,["platform"])])),_:2},1024)],8,qe)):((0,n.uX)(),(0,n.CE)("div",{key:1,onClick:l=>Rl(e)},[(0,n.bF)(L.A,{platform:e},null,8,["platform"])],8,ze))],64)))),128))]),He,Ye,rl.value.platform.length?((0,n.uX)(),(0,n.CE)("div",Ge,[(0,n.Lk)("div",Ze,[(0,n.Lk)("div",el,[(0,n.bo)((0,n.Lk)("input",{type:"url",class:"form-control",id:"newSocialLink",placeholder:"Tagline","onUpdate:modelValue":a[9]||(a[9]=e=>rl.value.link=e),required:""},null,512),[[t.Jo,rl.value.link]]),(0,n.Lk)("label",ll,"Enter "+(0,i.v_)((0,o.R1)(p.A)(rl.value.platform))+" Link here",1)]),(0,n.Lk)("span",al,[(0,n.bF)(u,{"native-type":"submit",link:""},{default:(0,n.k6)((()=>[(0,n.eW)("Add")])),_:1})])])])):(0,n.Q3)("",!0)],32)]),(0,n.Lk)("div",nl,[(0,n.bF)(u,{type:"info",onClick:a[10]||(a[10]=e=>il.value=!il.value),plain:""},{default:(0,n.k6)((()=>[(0,n.eW)("Done")])),_:1})])])])),_:1},8,["fullscreen","modelValue"])],64)}}},ol=a(1241);const il=(0,ol.A)(tl,[["__scopeId","data-v-4fcdc7e8"]]);var sl=il}}]);
//# sourceMappingURL=655.js.map