"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[67],{4067:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(4114);var i=n(6768),l=n(144),s=n(4232),a=n(7477),c=n(782),o=n(4300),u=n(7190),r=n(1387),d=n(2933),m=n(7021);const k={class:"row"},v={key:0,class:"table-responsive m-t-10"},_={class:"table table-hover"},g=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"ID"),(0,i.Lk)("th",null,"Title"),(0,i.Lk)("th",null,"Company"),(0,i.Lk)("th",null,"Archived By"),(0,i.Lk)("th",null,"On"),(0,i.Lk)("th",null,"Reason"),(0,i.Lk)("th",null,"Actions")])],-1),h=["onClick"],C=["onClick"],E=["onClick"],b=["onClick"],L=["onClick"],f=["onClick"],p={key:1},I=(0,i.Lk)("td",{colspan:"7",class:"text-center p-3"},"No data",-1),S=[I];var y={__name:"List",setup(e){const t=(0,c.Pj)(),n=(0,r.rd)(),I=(0,i.EW)({get:()=>t.state.investmentHub.archivedListings,set:e=>t.commit("investmentHub/STORE_ARCHIVED_LISTINGS",e)}),y=(0,i.EW)({get:()=>t.state.investmentHub.isFetchingArchivedListings,set:e=>t.commit("investmentHub/SET_IS_FETCHING_ARCHIVED_LISTINGS",e)});function T(e){switch(e.action){case"view":return N(e.listing);case"restore":return w(e.listing);case"delete":return H(e.listing)}}function N(e){return t.commit("investmentHub/STORE_VIEWED_ARCHIVED_LISTING",JSON.parse(JSON.stringify(e))),n.push({name:"investment_hub.listings.archived.view",params:{listingTitleSlug:e.title.toString().replaceAll(" ","-")}})}function w(e){d.s.confirm("Sure you want to restore this listing?","Confirm Restore",{confirmButtonText:"Restore",cancelButtonText:"Cancel"}).then((()=>{let t={id:e.id};R(t)})).catch((()=>{}))}function R(e){y.value=!0,o.A.post(u.pe.INVESTMENT_HUB_RESTORE_ARCHIVED_LISTING,e).then((e=>{(0,m.iN)(),(0,m.AQ)(JSON.parse(JSON.stringify(t.state.investmentHub.activeListingsFilters))),$.growl.notice({message:e.data.message})})).catch((e=>y.value=!1))}function H(e){d.s.confirm("Sure you want to delete this listing?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let t={id:e.id};A(t)})).catch((()=>{}))}function A(e){y.value=!0,o.A.post(u.pe.INVESTMENT_HUB_DELETE_ARCHIVED_LISTING,e).then((e=>{(0,m.iN)(),$.growl.notice({message:e.data.message})})).catch((e=>y.value=!1))}return(0,i.sV)((()=>{(0,m.cE)("investment_hub.archived_listings.view")&&!I.value.length&&(0,m.iN)()})),(e,t)=>{const n=(0,i.g2)("el-icon"),c=(0,i.g2)("el-button"),o=(0,i.g2)("el-dropdown-item"),u=(0,i.g2)("el-dropdown-menu"),r=(0,i.g2)("el-dropdown"),d=(0,i.gN)("loading");return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",k,[(0,l.R1)(m.cE)("investment_hub.archived_listings.view")?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("table",_,[g,(0,i.Lk)("tbody",null,[I.value.length?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(I.value,((e,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:"investment_hub-archived-listings-"+t,class:(0,s.C4)({"table-info":e.selected}),style:{cursor:"pointer"}},[(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.listing_id),9,h),(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.title),9,C),(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.company.name),9,E),(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.deleted_by),9,b),(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.deleted_at),9,L),(0,i.Lk)("td",{onClick:t=>N(e)},(0,s.v_)(e.delete_reason),9,f),(0,i.Lk)("td",null,[(0,i.bF)(r,{trigger:"click",onCommand:T},{dropdown:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(o,{command:{action:"view",listing:e}},{default:(0,i.k6)((()=>[(0,i.eW)("View")])),_:2},1032,["command"]),(0,l.R1)(m.cE)("investment_hub.archived_listings.restore")?((0,i.uX)(),(0,i.Wv)(o,{key:0,command:{action:"restore",listing:e}},{default:(0,i.k6)((()=>[(0,i.eW)("Restore")])),_:2},1032,["command"])):(0,i.Q3)("",!0),(0,l.R1)(m.cE)("investment_hub.archived_listings.delete")?((0,i.uX)(),(0,i.Wv)(o,{key:1,command:{action:"delete",listing:e}},{default:(0,i.k6)((()=>[(0,i.eW)("Delete")])),_:2},1032,["command"])):(0,i.Q3)("",!0)])),_:2},1024)])),default:(0,i.k6)((()=>[(0,i.bF)(c,{plain:"",type:"primary",size:"small"},{default:(0,i.k6)((()=>[(0,i.eW)(" Actions"),(0,i.bF)(n,{class:"el-icon--right"},{default:(0,i.k6)((()=>[(0,i.bF)((0,l.R1)(a.yd$))])),_:1})])),_:1})])),_:2},1024)])],2)))),128)):((0,i.uX)(),(0,i.CE)("tr",p,S))])])])):(0,i.Q3)("",!0)])),[[d,y.value]])}}};const T=y;var N=T}}]);
//# sourceMappingURL=67.js.map