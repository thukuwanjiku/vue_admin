"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[377],{377:function(e,a,l){l.r(a),l.d(a,{default:function(){return P}});var t=l(6768),s=l(5130),o=l(4232),n=l(85),c=l(144),i=l(4300),r=l(7190),u=l(1387),d=l(782),m=l(3641);const v=e=>((0,t.Qi)("data-v-12380e20"),e=e(),(0,t.jt)(),e),k={class:"container"},p={class:"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4"},f={class:"container"},L={class:"row justify-content-center"},b={class:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center"},g=v((()=>(0,t.Lk)("div",{class:"d-flex justify-content-center py-4"},[(0,t.Lk)("div",{class:"logo d-flex align-items-center w-auto"},[(0,t.Lk)("img",{src:n,alt:""}),(0,t.Lk)("span",{class:"d-none d-lg-block"},"MyZola Admin")])],-1))),h={class:"card mb-3"},y={class:"card-body"},w=v((()=>(0,t.Lk)("div",{class:"pt-4 pb-2"},[(0,t.Lk)("h5",{class:"card-title text-center pb-0 fs-4"},"Login to Your Account"),(0,t.Lk)("p",{class:"text-center small"},"Enter your username & password to login")],-1))),_={class:"col-12"},E={class:"form-floating"},R=v((()=>(0,t.Lk)("label",{for:"email"},"Email",-1))),S={class:"col-12"},C={class:"form-floating"},x=["type"],A=v((()=>(0,t.Lk)("label",{for:"password"},"Password",-1))),K={class:"col-12"},O={class:"form-check"},T=v((()=>(0,t.Lk)("label",{class:"form-check-label",for:"rememberMe"},"Remember me",-1))),N=v((()=>(0,t.Lk)("div",{class:"col-12"},[(0,t.Lk)("button",{class:"btn btn-primary w-100",type:"submit"},"Login")],-1)));var U={__name:"Login",setup(e){const a=(0,u.rd)(),l=(0,d.Pj)(),n=(0,c.KR)(""),v=(0,c.KR)(""),U=(0,c.KR)(!1),j=(0,c.KR)(!1),I=(0,c.KR)(!1),P=(0,c.KR)(!1);function M(){P.value=!P.value,setTimeout((()=>{$("#password").focus()}),100)}function z(){j.value=!0,i.A.get(r.pe.SANCTUM_CSRF_TOKEN).then((e=>H())).catch((e=>j.value=!1))}function H(){let e={email:n.value.trim(),password:v.value.trim()};i.A.post(r.pe.LOGIN,e).then((e=>{l.commit("auth/STORE_AUTH_TOKEN",e.data.token),l.commit("auth/STORE_AUTH_USER",e.data.user),l.commit("auth/STORE_PERMISSIONS",e.data.permissions),U&&(localStorage.setItem("mz.admin",JSON.stringify(e.data.user)),localStorage.setItem("bearer_token",e.data.token)),j.value=!1,l.commit("auth/UNLOCK_APP"),a.replace({name:"dashboard"}),(0,m.C)()})).catch((e=>j.value=!1))}return(e,a)=>{const l=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("main",null,[(0,t.Lk)("div",k,[(0,t.Lk)("section",p,[(0,t.Lk)("div",f,[(0,t.Lk)("div",L,[(0,t.Lk)("div",b,[g,(0,t.Lk)("div",h,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",y,[w,(0,t.Lk)("form",{onSubmit:(0,s.D$)(z,["prevent"]),class:"row g-3 needs-validation"},[(0,t.Lk)("div",_,[(0,t.Lk)("div",E,[(0,t.bo)((0,t.Lk)("input",{type:"email",class:"form-control",id:"email",placeholder:"Email","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),required:""},null,512),[[s.Jo,n.value]]),R])]),(0,t.Lk)("div",S,[(0,t.Lk)("div",C,[(0,t.bo)((0,t.Lk)("input",{type:P.value?"text":"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),onFocus:a[2]||(a[2]=e=>I.value=!0),onBlur:a[3]||(a[3]=e=>I.value=!1),required:""},null,40,x),[[s.hp,v.value]]),A,v.value.length?((0,t.uX)(),(0,t.CE)("i",{key:0,class:(0,o.C4)([P.value?"bi bi-eye-slash-fill":"bi bi-eye-fill","toggle-password"]),onClick:M},null,2)):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",K,[(0,t.Lk)("div",O,[(0,t.bo)((0,t.Lk)("input",{class:"form-check-input",type:"checkbox",name:"remember",value:"true",id:"rememberMe","onUpdate:modelValue":a[4]||(a[4]=e=>U.value=e)},null,512),[[s.lH,U.value]]),T])]),N],32)])),[[l,j.value]])])])])])])])])}}},j=l(1241);const I=(0,j.A)(U,[["__scopeId","data-v-12380e20"]]);var P=I}}]);
//# sourceMappingURL=377.js.map