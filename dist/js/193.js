"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[193],{1193:function(e,l,a){a.r(l),a.d(l,{default:function(){return Be}});var t=a(6768),n=a(1387),s=(a(4114),a(144)),o=a(4232),i=a(7477),u=(a(1452),a(782)),c=a(4373),d=a(3228),r=a(4300),v=a(7190);const m="https://raw.githubusercontent.com/google/material-design-icons/master/font/MaterialIcons-Regular.codepoints";function k(){c.A.get(m).then((e=>{const l=e.data,a=l.split("\n"),t=a.map((e=>{const l=e.split(" ");return l[0]}));d.A.commit("shared/STORE_MATERIAL_ICONS_NAMES",t)}))}function p(){d.A.commit("explore/SET_IS_FETCHING_CATEGORIES",!0),r.A.get(v.pe.EXPLORE_HUB_FETCH_LISTING_CATEGORIES).then((e=>{d.A.commit("explore/STORE_EXPLORE_LISTING_CATEGORIES",e.data.data),d.A.commit("explore/SET_IS_FETCHING_CATEGORIES",!1)})).catch((e=>d.A.commit("explore/SET_IS_FETCHING_CATEGORIES",!1)))}function b(e=12){let l="",a="A0zBCDy1EFx2GHx3wIJvKL4uMNtOs5PrQR6qSTpU7oVWnXm8YZab9cdefghijkl";for(let t=0;t<e;t++)l+=a.charAt(Math.floor(Math.random()*a.length));return l}var g=a(2933);const f=e=>((0,t.Qi)("data-v-7f0f143d"),e=e(),(0,t.jt)(),e),C={class:"row p-2"},L={class:"col-sm-12 d-flex m-b-10 icons_container"},h=f((()=>(0,t.Lk)("br",null,null,-1))),_={key:0,class:"row"},E={key:0,class:"text-muted text-italic"},y=f((()=>(0,t.Lk)("br",null,null,-1))),w={key:1,class:"d-flex m-t-10 m-b-10 flex-wrap align-items-center"},x={key:0,class:"text-italic"},F={key:1,class:"fw-bold"},I=["onClick"],S={class:"text-center"},R={class:"material-symbols-outlined fs-40"},T=f((()=>(0,t.Lk)("br",null,null,-1))),X={key:1,class:"row"},A=f((()=>(0,t.Lk)("p",{class:"p-5 text-center"},[(0,t.Lk)("small",null,"No categories found")],-1))),W=[A],O={class:"row"},N={class:"row m-b-20"},V=f((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Add Categories")],-1))),K={class:"row p-l-20"},G={class:"col-md-4"},Q=f((()=>(0,t.Lk)("small",null,"New Category Name",-1))),U=f((()=>(0,t.Lk)("br",null,null,-1))),H={class:"col-md-4"},M=f((()=>(0,t.Lk)("small",null,"Category Icon",-1))),P=f((()=>(0,t.Lk)("br",null,null,-1))),B={class:"d-flex"},D={key:0},J={class:"material-symbols-outlined fs-35"},j={class:"row"},z={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},Y=["onClick"],q={class:"material-symbols-outlined fs-35"},Z={class:"col-md-4"},ee=f((()=>(0,t.Lk)("small",null," ",-1))),le=f((()=>(0,t.Lk)("br",null,null,-1))),ae=f((()=>(0,t.Lk)("h6",{class:"f-w-600"},[(0,t.Lk)("small",null,"New Categories to Save")],-1))),te={class:"material-symbols-outlined fs-35"},ne={class:"row"},se={class:"col-sm-3"},oe={key:0,class:"row"},ie={class:"row m-b-20"},ue=f((()=>(0,t.Lk)("h6",{class:"fw-bold"},[(0,t.Lk)("small",{class:"text-muted"},"Edit Category")],-1))),ce={class:"row p-l-20"},de={class:"col-md-12"},re=f((()=>(0,t.Lk)("small",null,"Category Name",-1))),ve=f((()=>(0,t.Lk)("br",null,null,-1))),me={class:"col-md-12 m-t-20"},ke=f((()=>(0,t.Lk)("small",null,"Category Icon",-1))),pe=f((()=>(0,t.Lk)("br",null,null,-1))),be={class:"d-flex"},ge={class:"material-symbols-outlined fs-35"},fe={class:"row"},Ce={class:"d-flex flex-wrap m-t-10",style:{"max-height":"250px","overflow-y":"scroll","overflow-x":"hidden"}},Le=["onClick"],he={class:"material-symbols-outlined fs-35"},_e={class:"row"},Ee={class:"col-sm-3"};var ye={__name:"ManageCategories",setup(e){const l=(0,u.Pj)(),a=(0,s.KR)(!1),n=(0,s.KR)(!1),c=(0,s.KR)(!1),d=(0,s.KR)({name:"",icon:""}),m=(0,s.KR)(""),f=(0,s.KR)([]),A=(0,s.KR)(!1),ye=(0,s.KR)(null),we=(0,s.KR)(!1),xe=(0,s.KR)(!1),Fe=(0,s.KR)([]),Ie=(0,t.EW)((()=>l.state.explore.isFetchingCategories)),Se=(0,t.EW)((()=>l.state.shared.materialIconsNames.filter((e=>!m.value.length||e.includes(m.value))))),Re=(0,t.EW)((()=>l.state.explore.listingCategories)),Te=(0,t.EW)((()=>Re.value.find((e=>e.id==ye.value?.id)))),Xe=(0,t.EW)((()=>Object.keys(Te.value).some((e=>ye.value[e]!==Te.value[e]))));function Ae(){n.value=!0,m.value=""}function We(e){d.value.icon=e,c.value=!1}function Oe(){return d.value.name.length?d.value.icon.length?(f.value.push({id:b(),name:d.value.name,icon:d.value.icon}),void(d.value={name:"",icon:""})):$.growl.warning({message:"Please select an icon for the new category"}):$.growl.warning({message:"Please enter the new category name"})}function Ne(e){let l=f.value.findIndex((l=>l.id==e));l>-1&&f.value.splice(l,1)}function Ve(){f.value.length&&(a.value=!0,r.A.post(v.pe.EXPLORE_HUB_ADD_LISTING_CATEGORIES,{categories:f.value}).then((e=>{$.growl.notice({message:e.data.message}),p(),n.value=!1,f.value=[],a.value=!1,m.value=""})).catch((e=>a.value=!1)))}function Ke(e){if(xe.value){let l=Fe.value.findIndex((l=>l.id==e.id));l>-1?Fe.value.splice(l,1):Fe.value.push(e)}else ye.value=JSON.parse(JSON.stringify(e)),A.value=!0,m.value=""}function Ge(e){ye.value.icon=e,we.value=!1}function Qe(){g.s.confirm("Sure you want to save these changes?","Warning",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((()=>{Ue()})).catch((()=>{}))}function Ue(){let e={id:ye.value.id,...Object.keys(Te.value).reduce(((e,l)=>(ye.value[l]!==Te.value[l]&&(e[l]=ye.value[l]),e)),{})};a.value=!0,r.A.post(v.pe.EXPLORE_HUB_EDIT_LISTING_CATEGORY,e).then((e=>{$.growl.notice({message:e.data.message});let t=JSON.parse(JSON.stringify(Re.value)),n=t.findIndex((e=>e.id==ye.value.id));n>-1&&(t[n]=e.data.data,l.commit("explore/STORE_EXPLORE_LISTING_CATEGORIES",t)),A.value=!1,a.value=!1})).catch((e=>a.value=!1))}function He(){}return(0,t.sV)((()=>{Re.value.length||p(),Se.value.length||k()})),(e,l)=>{const u=(0,t.g2)("el-button"),r=(0,t.g2)("el-input"),v=(0,t.g2)("el-tag"),k=(0,t.g2)("el-card"),p=(0,t.g2)("el-popover"),b=(0,t.g2)("el-divider"),g=(0,t.g2)("el-table-column"),$=(0,t.g2)("el-table"),Te=(0,t.g2)("el-dialog"),Ue=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",C,[(0,t.Lk)("div",L,[(0,t.bF)(u,{type:"primary",icon:(0,s.R1)(i.FWt),onClick:Ae,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Categories")])),_:1},8,["icon"]),(0,t.eW)("      "),(0,t.bF)(r,{style:{width:"240px"},placeholder:"Type to search"}),(0,t.eW)("      "),(0,t.bF)(u,{icon:(0,s.R1)(i.Jlk),type:xe.value?"primary":"",onClick:l[0]||(l[0]=e=>xe.value=!xe.value),plain:!xe.value},{default:(0,t.k6)((()=>[(0,t.eW)("Select Multiple to Delete")])),_:1},8,["icon","type","plain"])]),h,Re.value.length?((0,t.uX)(),(0,t.CE)("div",_,[xe.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",E,"Click entry to edit")),y,xe.value?((0,t.uX)(),(0,t.CE)("div",w,[Fe.value.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("small",x,"None selected")),Fe.value.length?((0,t.uX)(),(0,t.CE)("small",F,"Selected:")):(0,t.Q3)("",!0),(0,t.eW)("  "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Fe.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"m-1",key:"categories-selection-"+e.id},[(0,t.bF)(v,{closable:"",onClose:l=>Ke(e)},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(e.name),1)])),_:2},1032,["onClose"])])))),128)),Fe.value.length?((0,t.uX)(),(0,t.Wv)(u,{key:2,class:"m-l-10",onClick:He,type:"danger",plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Delete selections")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Re.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:"explore-categories-list-"+e.id,class:"col-md-2 col-sm-4 col-xs-6 p-1 hov-pointer",onClick:l=>Ke(e)},[(0,t.bF)(k,{shadow:"hover"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",S,[(0,t.Lk)("span",R,(0,o.v_)(e.icon),1),T,(0,t.eW)(" "+(0,o.v_)(e.name),1)])])),_:2},1024)],8,I)))),128))])):((0,t.uX)(),(0,t.CE)("div",X,W))])),[[Ue,Ie.value]]),(0,t.bF)(Te,{modelValue:n.value,"onUpdate:modelValue":l[4]||(l[4]=e=>n.value=e)},{default:(0,t.k6)((()=>[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",O,[(0,t.Lk)("div",N,[V,(0,t.Lk)("div",K,[(0,t.Lk)("div",G,[Q,U,(0,t.bF)(r,{modelValue:d.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value.name=e),placeholder:"Enter name here"},null,8,["modelValue"])]),(0,t.Lk)("div",H,[M,P,(0,t.Lk)("div",B,[d.value.icon.length?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.Lk)("span",J,(0,o.v_)(d.value.icon),1)])):(0,t.Q3)("",!0),(0,t.eW)("    "),(0,t.bF)(p,{visible:c.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[3]||(l[3]=e=>c.value=!c.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(d.value.icon.length?"Change":"Select icon"),1)])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",j,[(0,t.bF)(r,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",z,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>We(e)},[(0,t.Lk)("span",q,(0,o.v_)(e),1)],8,Y)))),256))])])])),_:1},8,["visible"])])]),(0,t.Lk)("div",Z,[ee,le,(0,t.bF)(u,{onClick:Oe,plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Category")])),_:1})])])]),f.value.length?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(b),ae,(0,t.bF)($,{data:f.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(g,{prop:"name",label:"Category"}),(0,t.bF)(g,{label:"Icon"},{default:(0,t.k6)((e=>[(0,t.Lk)("span",te,(0,o.v_)(e.row.icon),1)])),_:1}),(0,t.bF)(g,{label:"Remove"},{default:(0,t.k6)((e=>[(0,t.bF)(u,{onClick:l=>Ne(e.row.id),type:"danger",icon:(0,s.R1)(i.epd),circle:""},null,8,["onClick","icon"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(b),(0,t.Lk)("div",ne,[(0,t.Lk)("div",se,[(0,t.bF)(u,{type:"primary",onClick:Ve},{default:(0,t.k6)((()=>[(0,t.eW)("Save Categories")])),_:1})])])],64)):(0,t.Q3)("",!0)])),[[Ue,a.value]])])),_:1},8,["modelValue"]),(0,t.bF)(Te,{width:"30%",modelValue:A.value,"onUpdate:modelValue":l[8]||(l[8]=e=>A.value=e)},{default:(0,t.k6)((()=>[ye.value?(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",oe,[(0,t.Lk)("div",ie,[ue,(0,t.Lk)("div",ce,[(0,t.Lk)("div",de,[re,ve,(0,t.bF)(r,{modelValue:ye.value.name,"onUpdate:modelValue":l[5]||(l[5]=e=>ye.value.name=e),placeholder:"Enter name here",style:{"max-width":"200px"}},null,8,["modelValue"])]),(0,t.Lk)("div",me,[ke,pe,(0,t.Lk)("div",be,[(0,t.Lk)("div",null,[(0,t.Lk)("span",ge,(0,o.v_)(ye.value.icon),1)]),(0,t.eW)("    "),(0,t.bF)(p,{visible:we.value,width:200},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{onClick:l[7]||(l[7]=e=>we.value=!we.value),size:"small",round:""},{default:(0,t.k6)((()=>[(0,t.eW)("Change")])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",fe,[(0,t.bF)(r,{modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=e=>m.value=e),placeholder:"Type to search icon"},null,8,["modelValue"]),(0,t.Lk)("div",Ce,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Se.value,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{style:{margin:"1px",cursor:"pointer"},onClick:l=>Ge(e)},[(0,t.Lk)("span",he,(0,o.v_)(e),1)],8,Le)))),256))])])])),_:1},8,["visible"])])])]),Xe.value?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(b),(0,t.Lk)("div",_e,[(0,t.Lk)("div",Ee,[(0,t.bF)(u,{type:"primary",onClick:Qe},{default:(0,t.k6)((()=>[(0,t.eW)("Save Edits")])),_:1})])])],64)):(0,t.Q3)("",!0)])])),[[Ue,a.value]]):(0,t.Q3)("",!0)])),_:1},8,["modelValue"])],64)}}},we=a(1241);const xe=(0,we.A)(ye,[["__scopeId","data-v-7f0f143d"]]);var Fe=xe;const Ie={class:"pagetitle"},Se=(0,t.Lk)("h1",null,"Categories",-1),Re={class:"breadcrumb"},Te={class:"breadcrumb-item"},Xe=(0,t.Lk)("li",{class:"breadcrumb-item"},"Explore",-1),Ae=(0,t.Lk)("li",{class:"breadcrumb-item active"},"Listing Categories",-1),We={class:"card"},Oe={class:"card-body"},Ne=(0,t.Lk)("br",null,null,-1),Ve={class:"nav nav-tabs",id:"myTab",role:"tablist"},Ke={class:"nav-item",role:"presentation"},Ge={class:"nav-item",role:"presentation"},Qe={class:"tab-content pt-2",id:"myTabContent"},Ue={class:"tab-pane fade show active p-1",id:"explore_categories_active",role:"tabpanel","aria-labelledby":"home-tab"},He=(0,t.Lk)("div",{class:"tab-pane fade",id:"explore_categories_deleted",role:"tabpanel","aria-labelledby":"contact-tab"}," Browse delete categories ",-1);var Me={__name:"Main",setup(e){(0,n.rd)();function l(e){switch(e){case"active":case"reviews":case"deleted":}}return(0,t.sV)((()=>{})),(e,a)=>{const n=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Ie,[Se,(0,t.Lk)("nav",null,[(0,t.Lk)("ol",Re,[(0,t.Lk)("li",Te,[(0,t.bF)(n,{to:{name:"dashboard"}},{default:(0,t.k6)((()=>[(0,t.eW)("Home")])),_:1})]),Xe,Ae])])]),(0,t.Lk)("div",We,[(0,t.Lk)("div",Oe,[Ne,(0,t.Lk)("ul",Ve,[(0,t.Lk)("li",Ke,[(0,t.Lk)("button",{class:"nav-link active",onClick:a[0]||(a[0]=e=>l("active")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_active",type:"button",role:"tab","aria-controls":"home","aria-selected":"false",tabindex:"-1"},"Categories")]),(0,t.Lk)("li",Ge,[(0,t.Lk)("button",{class:"nav-link",onClick:a[1]||(a[1]=e=>l("deleted")),"data-bs-toggle":"tab","data-bs-target":"#explore_categories_deleted",type:"button",role:"tab","aria-controls":"contact","aria-selected":"true"},"Deleted")])]),(0,t.Lk)("div",Qe,[(0,t.Lk)("div",Ue,[(0,t.bF)(Fe)]),He])])])],64)}}};const Pe=Me;var Be=Pe}}]);
//# sourceMappingURL=193.js.map