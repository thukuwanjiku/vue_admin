"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[967],{5992:function(e,t,n){n.d(t,{A:function(){return h}});var l=n(6768);const i={class:"alert alert-danger alert-dismissible fade show",role:"alert"},o=(0,l.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page.",-1),s=(0,l.Lk)("hr",null,null,-1),a=(0,l.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),r=[o,s,a];function c(e,t){return(0,l.uX)(),(0,l.CE)("div",i,r)}var u=n(1241);const d={},k=(0,u.A)(d,[["render",c]]);var h=k},6967:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});n(4114);var l=n(6768),i=n(144),o=n(4232),s=n(7477),a=n(782),r=n(4300),c=n(7190),u=n(1387),d=n(2933),k=n(7021),h=n(5992);const m={class:"row"},_={key:0,class:"table-responsive m-t-10"},g={class:"table table-hover"},p=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Title"),(0,l.Lk)("th",null,"Company"),(0,l.Lk)("th",null,"Archived By"),(0,l.Lk)("th",null,"On"),(0,l.Lk)("th",null,"Reason"),(0,l.Lk)("th",null,"Actions")])],-1),v=["onClick"],L=["onClick"],C=["onClick"],f=["onClick"],E=["onClick"],b=["onClick"],y={key:1},I=(0,l.Lk)("td",{colspan:"7",class:"text-center p-3"},"No data",-1),S=[I],R={key:1};var w={__name:"List",setup(e){const t=(0,a.Pj)(),n=(0,u.rd)(),I=(0,l.EW)({get:()=>t.state.exploreHub.archivedListings,set:e=>t.commit("exploreHub/STORE_ARCHIVED_LISTINGS",e)}),w=(0,l.EW)({get:()=>t.state.exploreHub.isArchivedListingsLoading,set:e=>t.commit("exploreHub/SET_IS_ARCHIVED_LISTINGS_LOADING",e)});function x(e){switch(e.action){case"view":return A(e.listing);case"restore":return T(e.listing);case"delete":return D(e.listing)}}function A(e){return t.commit("exploreHub/STORE_VIEWED_ARCHIVED_LISTING",JSON.parse(JSON.stringify(e))),n.push({name:"explore_hub.listings.archived.view",params:{listingTitleSlug:e.title.toString().replaceAll(" ","-")}})}function T(e){d.s.confirm("Sure you want to restore this listing?","Confirm Restore",{confirmButtonText:"Restore",cancelButtonText:"Cancel"}).then((()=>{let t={id:e.id};H(t)})).catch((()=>{}))}function H(e){w.value=!0,r.A.post(c.pe.EXPLORE_HUB_RESTORE_ARCHIVED_LISTING,e).then((e=>{(0,k.Ik)(),(0,k._L)(JSON.parse(JSON.stringify(t.state.exploreHub.activeListingsFilters))),$.growl.notice({message:e.data.message})})).catch((e=>w.value=!1))}function D(e){d.s.confirm("Sure you want to delete this listing?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let t={id:e.id};N(t)})).catch((()=>{}))}function N(e){w.value=!0,r.A.post(c.pe.EXPLORE_HUB_DELETE_ARCHIVED_LISTING,e).then((e=>{(0,k.Ik)(),$.growl.notice({message:e.data.message})})).catch((e=>w.value=!1))}return(0,l.sV)((()=>{(0,k.cE)("explore_hub.archived_listings.list")&&!I.value.length&&(0,k.Ik)()})),(e,t)=>{const n=(0,l.g2)("el-icon"),a=(0,l.g2)("el-button"),r=(0,l.g2)("el-dropdown-item"),c=(0,l.g2)("el-dropdown-menu"),u=(0,l.g2)("el-dropdown"),d=(0,l.gN)("loading");return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",m,[(0,i.R1)(k.cE)("explore_hub.archived_listings.list")?((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("table",g,[p,(0,l.Lk)("tbody",null,[I.value.length?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(I.value,((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:"explore_hub-archived-listings-"+t,class:(0,o.C4)({"table-info":e.selected}),style:{cursor:"pointer"}},[(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.listing_id),9,v),(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.title),9,L),(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.company.name),9,C),(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.deleted_by),9,f),(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.deleted_at),9,E),(0,l.Lk)("td",{onClick:t=>A(e)},(0,o.v_)(e.delete_reason),9,b),(0,l.Lk)("td",null,[(0,l.bF)(u,{trigger:"click",onCommand:x},{dropdown:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(r,{command:{action:"view",listing:e}},{default:(0,l.k6)((()=>[(0,l.eW)("View")])),_:2},1032,["command"]),(0,i.R1)(k.cE)("explore_hub.archived_listings.restore")?((0,l.uX)(),(0,l.Wv)(r,{key:0,command:{action:"restore",listing:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Restore")])),_:2},1032,["command"])):(0,l.Q3)("",!0),(0,i.R1)(k.cE)("explore_hub.archived_listings.delete")?((0,l.uX)(),(0,l.Wv)(r,{key:1,command:{action:"delete",listing:e}},{default:(0,l.k6)((()=>[(0,l.eW)("Delete")])),_:2},1032,["command"])):(0,l.Q3)("",!0)])),_:2},1024)])),default:(0,l.k6)((()=>[(0,l.bF)(a,{plain:"",type:"primary",size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)(" Actions"),(0,l.bF)(n,{class:"el-icon--right"},{default:(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(s.yd$))])),_:1})])),_:1})])),_:2},1024)])],2)))),128)):((0,l.uX)(),(0,l.CE)("tr",y,S))])])])):((0,l.uX)(),(0,l.CE)("div",R,[(0,l.bF)(h.A)]))])),[[d,w.value]])}}};const x=w;var A=x}}]);
//# sourceMappingURL=967.js.map