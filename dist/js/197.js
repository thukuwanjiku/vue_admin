"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[197],{2653:function(e,n,l){l.d(n,{A:function(){return v}});var t=l(6768);const a={class:"alert alert-danger alert-dismissible fade show",role:"alert"},s=(0,t.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),i=(0,t.Lk)("hr",null,null,-1),c=(0,t.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),o=[s,i,c];function u(e,n){return(0,t.uX)(),(0,t.CE)("div",a,o)}var r=l(1241);const d={},m=(0,r.A)(d,[["render",u]]);var v=m},2197:function(e,n,l){l.r(n),l.d(n,{default:function(){return me}});l(4114);var t=l(6768),a=l(144),s=l(4232),i=l(4300),c=l(7190),o=l(782),u=l(1387),r=l(2933),d=l(7477),m=l(7021),v=l(2653);const k=e=>((0,t.Qi)("data-v-8bed613e"),e=e(),(0,t.jt)(),e),p={class:"row p-2"},h={key:0,class:"col-sm-12 d-flex m-b-10"},_=k((()=>(0,t.Lk)("br",null,null,-1))),b={key:1,class:"table-responsive"},L={class:"table table-hover"},y=k((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Logo"),(0,t.Lk)("th",null,"Reference"),(0,t.Lk)("th",null,"Name"),(0,t.Lk)("th",null,"Business Type"),(0,t.Lk)("th",null,"Tagline"),(0,t.Lk)("th",null,"Contact Person"),(0,t.Lk)("th",null,"Actions")])],-1))),f=["onClick"],E=["src","alt"],g=["onClick"],C=["onClick"],w=["onClick"],T=["onClick"],A=["onClick"],X={key:1},W=k((()=>(0,t.Lk)("td",{colspan:"5",class:"text-center p-3"},"No data",-1))),R=[W],S={key:2},N={class:"row"},I={class:"col-sm-3"},F={class:"mb-4"},M=k((()=>(0,t.Lk)("p",{class:"mb-1"},"Logo",-1))),H=["src"],Q=k((()=>(0,t.Lk)("p",{class:"mb-1"},"Banner",-1))),B=["src"],O={class:"col-sm-6"},P={class:"fw-bold"},D={class:"text-italic"},V={class:"row"},x={class:"col-sm-6"},K=k((()=>(0,t.Lk)("h6",{class:"fw-bold"},"Contact",-1))),Y=k((()=>(0,t.Lk)("br",null,null,-1))),J=k((()=>(0,t.Lk)("br",null,null,-1))),z={key:0,class:"col-sm-6"},U=k((()=>(0,t.Lk)("h6",null,"Social Media Handles",-1))),j={class:"d-inline-flex"},G={key:0,class:"row p-4 pb-1"},q=k((()=>(0,t.Lk)("h6",{class:"fw-bold"},"About",-1))),Z=["innerHTML"],ee=k((()=>(0,t.Lk)("hr",{class:"m-0"},null,-1))),ne={key:1,class:"row p-4"},le=k((()=>(0,t.Lk)("h6",{class:"fw-bold"},"KYB Documents",-1))),te=["href"],ae=k((()=>(0,t.Lk)("hr",{class:"m-0"},null,-1))),se={class:"row p-4"},ie=k((()=>(0,t.Lk)("strong",null,"Added",-1))),ce=k((()=>(0,t.Lk)("br",null,null,-1))),oe=k((()=>(0,t.Lk)("br",null,null,-1)));var ue={__name:"List",setup(e){const n=(0,o.Pj)(),l=(0,u.rd)(),k=(0,a.KR)(!1),W=(0,a.KR)(null);let ue=(0,t.EW)({get:()=>n.state.investmentHub.companies,set:e=>n.commit("investmentHub/STORE_LISTED_COMPANIES",e)}),re=(0,t.EW)({get:()=>n.state.investmentHub.isFetchingCompanies,set:e=>n.commit("investmentHub/SET_IS_FETCHING_COMPANIES",e)});function de(e){switch(e.action){case"view":return me(e.company);case"edit":return ve(e.company);case"archive":return ke(e.company);case"delete":return he(e.company)}}function me(e){if((0,m.cE)("investment_hub.companies.view"))return W.value=JSON.parse(JSON.stringify(e)),k.value=!0}function ve(e){(0,m.cE)("investment_hub.companies.edit")&&(n.commit("investmentHub/SET_EDIT_COMPANY",JSON.parse(JSON.stringify(e))),l.push({name:"investment_hub.companies.edit"}))}function ke(e){(0,m.cE)("investment_hub.companies.archive")&&r.s.prompt("Sure you want to archive this company?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:n})=>{let l={id:e.id,reason:n};pe(l)})).catch((()=>{}))}function pe(e){re.value=!0,i.A.post(c.pe.ARCHIVE_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,m.yM)(),(0,m.Y0)(),$.growl.notice({message:e.data.message})})).catch((e=>re.value=!1))}function he(e){(0,m.cE)("investment_hub.companies.delete")&&r.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let n={id:e.id};_e(n)})).catch((()=>{}))}function _e(e){re.value=!0,i.A.post(c.pe.DELETE_INVESTMENT_HUB_LISTED_COMPANY,e).then((e=>{(0,m.yM)(),$.growl.notice({message:e.data.message})})).catch((e=>re.value=!1))}return(0,t.sV)((()=>{(0,m.cE)("investment_hub.companies.view")&&!ue.value.length&&(0,m.yM)()})),(e,n)=>{const i=(0,t.g2)("el-button"),c=(0,t.g2)("el-icon"),o=(0,t.g2)("el-dropdown-item"),u=(0,t.g2)("el-dropdown-menu"),r=(0,t.g2)("el-dropdown"),$=(0,t.g2)("social-handle"),ve=(0,t.g2)("el-dialog"),ke=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",p,[(0,a.R1)(m.cE)("investment_hub.companies.add")?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.bF)(i,{onClick:n[0]||(n[0]=e=>(0,a.R1)(l).push({name:"investment_hub.companies.add"})),type:"primary",icon:(0,a.R1)(d.FWt),plain:""},{default:(0,t.k6)((()=>[(0,t.eW)("Add Company")])),_:1},8,["icon"])])):(0,t.Q3)("",!0),_,(0,a.R1)(m.cE)("investment_hub.companies.view")?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("table",L,[y,(0,t.Lk)("tbody",null,[(0,a.R1)(ue).length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)((0,a.R1)(ue),((e,n)=>((0,t.uX)(),(0,t.CE)("tr",{key:"investment_hub-companies-"+n,style:{cursor:"pointer"}},[(0,t.Lk)("td",{onClick:n=>me(e)},[(0,t.Lk)("img",{class:"table-img",src:e.logo,alt:e.name+"'s logo"},null,8,E)],8,f),(0,t.Lk)("td",{onClick:n=>me(e)},(0,s.v_)(e.reference),9,g),(0,t.Lk)("td",{onClick:n=>me(e)},(0,s.v_)(e.name),9,C),(0,t.Lk)("td",{onClick:n=>me(e)},(0,s.v_)(e.business_type),9,w),(0,t.Lk)("td",{onClick:n=>me(e)},(0,s.v_)(e.description),9,T),(0,t.Lk)("td",{onClick:n=>me(e)},(0,s.v_)(e.contact_name),9,A),(0,t.Lk)("td",null,[(0,t.bF)(r,{trigger:"click",onCommand:de},{dropdown:(0,t.k6)((()=>[(0,t.bF)(u,null,{default:(0,t.k6)((()=>[(0,a.R1)(m.cE)("investment_hub.companies.view")?((0,t.uX)(),(0,t.Wv)(o,{key:0,command:{action:"view",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("View")])),_:2},1032,["command"])):(0,t.Q3)("",!0),(0,a.R1)(m.cE)("investment_hub.companies.edit")?((0,t.uX)(),(0,t.Wv)(o,{key:1,command:{action:"edit",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Edit")])),_:2},1032,["command"])):(0,t.Q3)("",!0),(0,a.R1)(m.cE)("investment_hub.companies.archive")?((0,t.uX)(),(0,t.Wv)(o,{key:2,command:{action:"archive",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Archive")])),_:2},1032,["command"])):(0,t.Q3)("",!0),(0,a.R1)(m.cE)("investment_hub.companies.delete")?((0,t.uX)(),(0,t.Wv)(o,{key:3,command:{action:"delete",company:e}},{default:(0,t.k6)((()=>[(0,t.eW)("Delete")])),_:2},1032,["command"])):(0,t.Q3)("",!0)])),_:2},1024)])),default:(0,t.k6)((()=>[(0,t.bF)(i,{plain:"",type:"primary",size:"small",disabled:!(0,a.R1)(m.oE)(["investment_hub.companies.view","investment_hub.companies.edit","investment_hub.companies.archive","investment_hub.companies.delete"])},{default:(0,t.k6)((()=>[(0,t.eW)(" Actions"),(0,t.bF)(c,{class:"el-icon--right"},{default:(0,t.k6)((()=>[(0,t.bF)((0,a.R1)(d.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,t.uX)(),(0,t.CE)("tr",X,R))])])])):((0,t.uX)(),(0,t.CE)("div",S,[(0,t.bF)(v.A)]))])),[[ke,(0,a.R1)(re)]]),W.value?((0,t.uX)(),(0,t.Wv)(ve,{key:0,modelValue:k.value,"onUpdate:modelValue":n[1]||(n[1]=e=>k.value=e),width:"60%","align-center":"",fullscreen:(0,a.R1)(m.Qv)},{default:(0,t.k6)((()=>[(0,t.Lk)("div",N,[(0,t.Lk)("div",I,[(0,t.Lk)("div",F,[M,(0,t.Lk)("img",{src:W.value.logo,alt:"",class:"view_company_logo"},null,8,H)]),(0,t.Lk)("div",null,[Q,(0,t.Lk)("img",{src:W.value.banner,alt:"",class:"view_banner_logo"},null,8,B)])]),(0,t.Lk)("div",O,[(0,t.Lk)("h3",null,(0,s.v_)(W.value.name),1),(0,t.Lk)("p",P,(0,s.v_)(W.value.reference),1),(0,t.Lk)("p",D,(0,s.v_)(W.value.description),1),(0,t.Lk)("div",V,[(0,t.Lk)("div",x,[K,(0,t.Lk)("p",null,[(0,t.eW)((0,s.v_)(W.value.contact_name)+" ",1),Y,(0,t.eW)(" "+(0,s.v_)(W.value.email)+" ",1),J,(0,t.eW)(" "+(0,s.v_)(W.value.contact_phone),1)])]),W.value.socials.length?((0,t.uX)(),(0,t.CE)("div",z,[U,(0,t.Lk)("div",j,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(W.value.socials,((e,n)=>((0,t.uX)(),(0,t.Wv)($,(0,t.v6)({key:"form-current-socials-"+n,ref_for:!0},e),null,16)))),128))])])):(0,t.Q3)("",!0)])])]),W.value.about?((0,t.uX)(),(0,t.CE)("div",G,[q,(0,t.Lk)("div",{class:"alert alert-secondary alert-dismissible fade show",role:"alert",innerHTML:W.value.about},null,8,Z)])):(0,t.Q3)("",!0),ee,W.value.documents?((0,t.uX)(),(0,t.CE)("div",ne,[le,(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(W.value.documents,((e,n)=>((0,t.uX)(),(0,t.CE)("li",{key:n},[(0,t.Lk)("a",{href:e,download:""},(0,s.v_)(n),9,te)])))),128))])])):(0,t.Q3)("",!0),ae,(0,t.Lk)("div",se,[(0,t.Lk)("p",null,[ie,ce,(0,t.eW)(" By: "+(0,s.v_)(W.value.added_by)+" ",1),oe,(0,t.eW)(" At: "+(0,s.v_)(W.value.added_at),1)])])])),_:1},8,["modelValue","fullscreen"])):(0,t.Q3)("",!0)],64)}}},re=l(1241);const de=(0,re.A)(ue,[["__scopeId","data-v-8bed613e"]]);var me=de}}]);
//# sourceMappingURL=197.js.map