"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[311],{2653:function(e,l,a){a.d(l,{A:function(){return k}});var n=a(6768);const o={class:"alert alert-danger alert-dismissible fade show",role:"alert"},t=(0,n.Lk)("h6",{class:"alert-heading"},"You don't have permission to view this page..",-1),c=(0,n.Lk)("hr",null,null,-1),s=(0,n.Lk)("p",null," If you think this is a mistake, please contact your system administrator. ",-1),i=[t,c,s];function u(e,l){return(0,n.uX)(),(0,n.CE)("div",o,i)}var r=a(1241);const d={},m=(0,r.A)(d,[["render",u]]);var k=m},3762:function(e,l,a){a.r(l),a.d(l,{default:function(){return ke}});a(4114);var n=a(6768),o=a(144),t=a(4232),c=a(4300),s=a(7190),i=a(782),u=a(1387),r=a(2933),d=a(7477),m=a(7021),k=a(1099),p=a(2653);const v=e=>((0,n.Qi)("data-v-5a4513a1"),e=e(),(0,n.jt)(),e),h={class:"row p-2"},_={key:0,class:"col-sm-12 d-flex m-b-10"},L=v((()=>(0,n.Lk)("br",null,null,-1))),b={key:1,class:"table-responsive"},y={class:"table table-hover"},f=v((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Logo"),(0,n.Lk)("th",null,"Reference"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Business Type"),(0,n.Lk)("th",null,"Tagline"),(0,n.Lk)("th",null,"Contact Person"),(0,n.Lk)("th",null,"Actions")])],-1))),E=["onClick"],C=["src","alt"],g=["onClick"],w=["onClick"],x=["onClick"],X=["onClick"],A=["onClick"],R={key:1},W=v((()=>(0,n.Lk)("td",{colspan:"5",class:"text-center p-3"},"No data",-1))),T=[W],S={key:2},F={class:"row"},I={class:"col-sm-3"},N={class:"mb-4"},O=v((()=>(0,n.Lk)("p",{class:"mb-1"},"Logo",-1))),P=["src"],Q=v((()=>(0,n.Lk)("p",{class:"mb-1"},"Banner",-1))),H=["src"],D={class:"col-sm-6"},B={class:"fw-bold"},M={class:"text-italic"},K={class:"row"},V={class:"col-sm-6"},Y=v((()=>(0,n.Lk)("h6",{class:"fw-bold"},"Contact",-1))),J=v((()=>(0,n.Lk)("br",null,null,-1))),z=v((()=>(0,n.Lk)("br",null,null,-1))),j={key:0,class:"col-sm-6"},G=v((()=>(0,n.Lk)("h6",null,"Social Media Handles",-1))),U={class:"d-inline-flex"},q={key:0,class:"row p-4 pb-1"},Z=v((()=>(0,n.Lk)("h6",{class:"fw-bold"},"About",-1))),ee=["innerHTML"],le=v((()=>(0,n.Lk)("hr",{class:"m-0"},null,-1))),ae={key:1,class:"row p-4"},ne=v((()=>(0,n.Lk)("h6",{class:"fw-bold"},"KYB Documents",-1))),oe=["href"],te=v((()=>(0,n.Lk)("hr",{class:"m-0"},null,-1))),ce={class:"row p-4"},se=v((()=>(0,n.Lk)("strong",null,"Added",-1))),ie=v((()=>(0,n.Lk)("br",null,null,-1))),ue=v((()=>(0,n.Lk)("br",null,null,-1)));var re={__name:"List",setup(e){const l=(0,i.Pj)(),a=(0,u.rd)(),v=(0,o.KR)(!1),W=(0,o.KR)(null);let re=(0,n.EW)({get:()=>l.state.exploreHub.companies,set:e=>l.commit("exploreHub/STORE_EXPLORE_LISTED_COMPANIES",e)}),de=(0,n.EW)({get:()=>l.state.exploreHub.isFetchingCompanies,set:e=>l.commit("exploreHub/SET_IS_FETCHING_COMPANIES",e)});function me(e){switch(e.action){case"view":return ke(e.company);case"edit":return pe(e.company);case"archive":return ve(e.company);case"delete":return _e(e.company)}}function ke(e){if((0,m.cE)("explore_hub.companies.view"))return W.value=JSON.parse(JSON.stringify(e)),v.value=!0}function pe(e){l.commit("exploreHub/SET_EDIT_COMPANY",JSON.parse(JSON.stringify(e))),a.push({name:"explore_hub.companies.edit"})}function ve(e){r.s.prompt("Sure you want to archive this company?\nPlease give a reason why you want to archive","Confirm Archive",{confirmButtonText:"Archive",cancelButtonText:"Cancel",inputPlaceholder:"Type here why you want to archive",inputValidator:e=>!(!e||!e.length)||"Please give a reason"}).then((({value:l})=>{let a={id:e.id,reason:l};he(a)})).catch((()=>{}))}function he(e){de.value=!0,c.A.post(s.pe.ARCHIVE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,m.k1)(),(0,m.G1)(),$.growl.notice({message:e.data.message})})).catch((e=>de.value=!1))}function _e(e){r.s.confirm("Sure you want to delete this company?","Confirm Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((()=>{let l={id:e.id};Le(l)})).catch((()=>{}))}function Le(e){de.value=!0,c.A.post(s.pe.DELETE_EXPLORE_LISTED_COMPANY,e).then((e=>{(0,m.k1)(),$.growl.notice({message:e.data.message})})).catch((e=>de.value=!1))}return(0,n.sV)((()=>{(0,m.cE)("explore_hub.companies.view")&&(0,m.k1)()})),(e,l)=>{const c=(0,n.g2)("el-button"),s=(0,n.g2)("el-icon"),i=(0,n.g2)("el-dropdown-item"),u=(0,n.g2)("el-dropdown-menu"),r=(0,n.g2)("el-dropdown"),$=(0,n.g2)("el-dialog"),pe=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",h,[(0,o.R1)(m.cE)("explore_hub.companies.add")?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.bF)(c,{onClick:l[0]||(l[0]=e=>(0,o.R1)(a).push({name:"explore_hub.companies.add"})),type:"primary",icon:(0,o.R1)(d.FWt),plain:""},{default:(0,n.k6)((()=>[(0,n.eW)("Add Company")])),_:1},8,["icon"])])):(0,n.Q3)("",!0),L,(0,o.R1)(m.cE)("explore_hub.companies.view")?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("table",y,[f,(0,n.Lk)("tbody",null,[(0,o.R1)(re).length?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)((0,o.R1)(re),((e,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:"explore_hub-companies-"+l,style:{cursor:"pointer"}},[(0,n.Lk)("td",{onClick:l=>ke(e)},[(0,n.Lk)("img",{class:"table-img",src:e.logo,alt:e.name+"'s logo"},null,8,C)],8,E),(0,n.Lk)("td",{onClick:l=>ke(e)},(0,t.v_)(e.reference),9,g),(0,n.Lk)("td",{onClick:l=>ke(e)},(0,t.v_)(e.name),9,w),(0,n.Lk)("td",{onClick:l=>ke(e)},(0,t.v_)(e.business_type),9,x),(0,n.Lk)("td",{onClick:l=>ke(e)},(0,t.v_)(e.description),9,X),(0,n.Lk)("td",{onClick:l=>ke(e)},(0,t.v_)(e.contact_name),9,A),(0,n.Lk)("td",null,[(0,n.bF)(r,{trigger:"click",onCommand:me},{dropdown:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,o.R1)(m.cE)("explore_hub.companies.view")?((0,n.uX)(),(0,n.Wv)(i,{key:0,command:{action:"view",company:e}},{default:(0,n.k6)((()=>[(0,n.eW)("View")])),_:2},1032,["command"])):(0,n.Q3)("",!0),(0,o.R1)(m.cE)("explore_hub.companies.edit")?((0,n.uX)(),(0,n.Wv)(i,{key:1,command:{action:"edit",company:e}},{default:(0,n.k6)((()=>[(0,n.eW)("Edit")])),_:2},1032,["command"])):(0,n.Q3)("",!0),(0,o.R1)(m.cE)("explore_hub.companies.archive")?((0,n.uX)(),(0,n.Wv)(i,{key:2,command:{action:"archive",company:e}},{default:(0,n.k6)((()=>[(0,n.eW)("Archive")])),_:2},1032,["command"])):(0,n.Q3)("",!0),(0,o.R1)(m.cE)("explore_hub.companies.delete")?((0,n.uX)(),(0,n.Wv)(i,{key:3,command:{action:"delete",company:e}},{default:(0,n.k6)((()=>[(0,n.eW)("Delete")])),_:2},1032,["command"])):(0,n.Q3)("",!0)])),_:2},1024)])),default:(0,n.k6)((()=>[(0,n.bF)(c,{plain:"",type:"primary",disabled:!(0,o.R1)(m.oE)(["explore_hub.companies.view","explore_hub.companies.edit","explore_hub.companies.archive","explore_hub.companies.delete"]),size:"small"},{default:(0,n.k6)((()=>[(0,n.eW)(" Actions"),(0,n.bF)(s,{class:"el-icon--right"},{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(d.yd$))])),_:1})])),_:1},8,["disabled"])])),_:2},1024)])])))),128)):((0,n.uX)(),(0,n.CE)("tr",R,T))])])])):((0,n.uX)(),(0,n.CE)("div",S,[(0,n.bF)(p.A)]))])),[[pe,(0,o.R1)(de)]]),W.value?((0,n.uX)(),(0,n.Wv)($,{key:0,modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=e=>v.value=e),width:"60%","align-center":"",fullscreen:(0,o.R1)(m.Qv)},{default:(0,n.k6)((()=>[(0,n.Lk)("div",F,[(0,n.Lk)("div",I,[(0,n.Lk)("div",N,[O,(0,n.Lk)("img",{src:W.value.logo,alt:"",class:"view_company_logo"},null,8,P)]),(0,n.Lk)("div",null,[Q,(0,n.Lk)("img",{src:W.value.banner,alt:"",class:"view_banner_logo"},null,8,H)])]),(0,n.Lk)("div",D,[(0,n.Lk)("h3",null,(0,t.v_)(W.value.name)+" - "+(0,t.v_)(W.value.business_type),1),(0,n.Lk)("p",B,(0,t.v_)(W.value.reference),1),(0,n.Lk)("p",M,(0,t.v_)(W.value.description),1),(0,n.Lk)("div",K,[(0,n.Lk)("div",V,[Y,(0,n.Lk)("p",null,[(0,n.eW)((0,t.v_)(W.value.contact_name)+" ",1),J,(0,n.eW)(" "+(0,t.v_)(W.value.email)+" ",1),z,(0,n.eW)(" "+(0,t.v_)(W.value.contact_phone),1)])]),W.value.socials.length?((0,n.uX)(),(0,n.CE)("div",j,[G,(0,n.Lk)("div",U,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(W.value.socials,((e,l)=>((0,n.uX)(),(0,n.Wv)(k.A,(0,n.v6)({key:"form-current-socials-"+l,ref_for:!0},e),null,16)))),128))])])):(0,n.Q3)("",!0)])])]),W.value.about?((0,n.uX)(),(0,n.CE)("div",q,[Z,(0,n.Lk)("div",{class:"alert alert-secondary alert-dismissible fade show",role:"alert",innerHTML:W.value.about},null,8,ee)])):(0,n.Q3)("",!0),le,W.value.documents?((0,n.uX)(),(0,n.CE)("div",ae,[ne,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(W.value.documents,((e,l)=>((0,n.uX)(),(0,n.CE)("li",{key:l},[(0,n.Lk)("a",{href:e,download:""},(0,t.v_)(l),9,oe)])))),128))])])):(0,n.Q3)("",!0),te,(0,n.Lk)("div",ce,[(0,n.Lk)("p",null,[se,ie,(0,n.eW)(" By: "+(0,t.v_)(W.value.added_by)+" ",1),ue,(0,n.eW)(" At: "+(0,t.v_)(W.value.added_at),1)])])])),_:1},8,["modelValue","fullscreen"])):(0,n.Q3)("",!0)],64)}}},de=a(1241);const me=(0,de.A)(re,[["__scopeId","data-v-5a4513a1"]]);var ke=me}}]);
//# sourceMappingURL=311.js.map