{"version":3,"file":"js/739.js","mappings":"qzGAoBA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,GAAUC,EAAAA,EAAAA,IAAI,CAChBC,KAAK,GACLC,YAAY,GACZC,aAAa,GACbC,cAAc,GACdC,MAAM,GACNC,MAAM,GACNC,cAAe,KAEbC,IAAeR,EAAAA,EAAAA,IAAI,IACnBS,IAAkBT,EAAAA,EAAAA,IAAI,CAACU,SAAS,GAAIC,KAAK,KAE/C,IAAIC,IAAaZ,EAAAA,EAAAA,IAAI,MACjBa,IAAWb,EAAAA,EAAAA,IAAI,MAEfc,IAAed,EAAAA,EAAAA,IAAI,MACnBe,IAAaf,EAAAA,EAAAA,IAAI,MAErB,MAAMgB,IAAYhB,EAAAA,EAAAA,KAAI,GAChBiB,IAAwBjB,EAAAA,EAAAA,KAAI,GAClC,IAAIkB,IAAmBlB,EAAAA,EAAAA,IAAI,MAE3B,MAAMmB,GAAgB,CAClB,CAAEC,MAAO,sBAAuBC,MAAO,uBACvC,CAAED,MAAO,cAAeC,MAAO,eAC/B,CAAED,MAAO,kCAAmCC,MAAO,8BAEjDC,IAAoBtB,EAAAA,EAAAA,IAAI,IACxBuB,IAAYvB,EAAAA,EAAAA,IAAI,CAAC,GAOjBwB,IAAmBC,EAAAA,EAAAA,KAAS,KAE9B,IAAIC,EAAsBlB,GAAaa,MAAMM,KAAIC,GAASA,EAAMlB,WAChE,OAAOmB,EAAAA,GAAgBC,QAAOF,IAAUF,EAAoBK,SAASH,IAAO,IA+ChF,SAASI,GAAiBC,EAAOC,GAC/B,MAAMC,EAAOF,EAAMG,OAAOC,MAAM,GAGhC,GAAIF,EAAKG,KAAO,QAId,OAHAC,EAAAA,GAAUC,MAAM,mEAEhBP,EAAMG,OAAOf,MAAQ,MAGvBE,GAAUF,MAAMa,GAAgBC,CAClC,CAEA,SAASM,GAAcR,GACrB,MAAME,EAAOF,EAAMG,OAAOC,MAAM,GAChC,GAAIF,EAAKG,KAAO,QAId,OAHAC,EAAAA,GAAUC,MAAM,mEAChBP,EAAMG,OAAOf,MAAQ,UACrBT,GAAWS,MAAQ,MAIrBT,GAAWS,MAAQc,EACnB,MAAMO,EAAS,IAAIC,WACnBD,EAAOE,OAAUC,IACfhC,GAASQ,MAAQwB,EAAET,OAAOU,MAAM,EAElCJ,EAAOK,cAAcZ,EACvB,CACA,SAASa,GAAoBf,GAC3B,MAAME,EAAOF,EAAMG,OAAOC,MAAM,GAChC,GAAIF,EAAKG,KAAO,QAId,OAHAC,EAAAA,GAAUC,MAAM,qEAChBP,EAAMG,OAAOf,MAAQ,UACrBP,GAAaO,MAAQ,MAIvBP,GAAaO,MAAQc,EACrB,MAAMO,EAAS,IAAIC,WACnBD,EAAOE,OAAUC,IACf9B,GAAWM,MAAQwB,EAAET,OAAOU,MAAM,EAEpCJ,EAAOK,cAAcZ,EACvB,CAEA,SAASc,KACLrC,GAAWS,MAAQ,KACnBR,GAASQ,MAAQ,KACjB6B,EAAE,gBAAgBC,IAAI,GAC1B,CAEA,SAASC,KACPtC,GAAaO,MAAQ,KACrBN,GAAWM,MAAQ,KACnB6B,EAAE,kBAAkBC,IAAI,GAC1B,CAEA,SAASE,GAAqBC,GAC1B7C,GAAgBY,MAAMX,SAAW4C,EAEjC7C,GAAgBY,MAAMV,KAAiB,YAAV2C,EAAuB,iBAAmB,EAC3E,CAEA,SAASC,KAKL,GAJqC,YAAlC9C,GAAgBY,MAAMX,WACrBD,GAAgBY,MAAMV,KAAOF,GAAgBY,MAAMV,KAAK6C,QAAQ,OAAQ,OAGxEC,EAAAA,EAAAA,GAAqBhD,GAAgBY,OACrC,OAAOkB,EAAAA,GAAUmB,QAAQ,yBAAwBC,EAAAA,EAAAA,GAAUlD,GAAgBY,MAAMX,iBAGrFF,GAAaa,MAAMuC,KAAK,CACpBlD,SAAUD,GAAgBY,MAAMX,SAChCC,KAAMF,GAAgBY,MAAMV,OAGhCF,GAAgBY,MAAQ,CAACX,SAAU,GAAIC,KAAM,GACjD,CAEA,SAASkD,KAEL,IAAIvD,EAAQY,GAAiB4C,kBAC7B,IAAIxD,IAAUA,EAAMyD,WAAWC,QAAmB,WAAT1D,EACrC,OAAO4C,EAAEe,MAAMP,QAAQ,CAACQ,QAAS,mCAKrC,GAHAnE,EAAQsB,MAAM,SAAWf,GAGrBP,EAAQsB,MAAMjB,gBAAkBL,EAAQsB,MAAMjB,cAAc2D,WAAWC,OACvE,OAAOd,EAAEe,MAAMP,QAAQ,CAACQ,QAAS,+BAIrC,IAAIC,EAAU,IAAIC,SAElBC,OAAOC,KAAKvE,EAAQsB,OACXkD,SAAQC,IACL,IAAInD,EAAQtB,EAAQsB,MAAMmD,GAChB,iBAAPA,IAAwBnD,EAAQA,EAAM0C,WAAWU,WAAW,IAAK,KACpEN,EAAQO,OAAOF,EAAKnD,EAAM,IAIrCgD,OAAOC,KAAK/C,GAAUF,OAAOkD,SAAQI,IAC9BpD,GAAUF,MAAMsD,IAChBR,EAAQO,OAAO,aAAaC,KAAQpD,GAAUF,MAAMsD,GACxD,IAIJR,EAAQO,OAAO,eAAgB9D,GAAWS,OAG1C8C,EAAQO,OAAO,iBAAkB5D,GAAaO,OAG3Cb,GAAaa,MAAM2C,QAClBxD,GAAaa,MAAMkD,SAAQ,CAACjB,EAAQsB,KAChCT,EAAQO,OAAO,WAAWE,eAAoBtB,EAAO5C,UACrDyD,EAAQO,OAAO,WAAWE,WAAgBtB,EAAO3C,KAAK,IAK9DK,GAAUK,OAAQ,EAGlBwD,EAAAA,EAAIC,KAAKC,EAAAA,GAAUC,2BAA4Bb,GAASc,MAAKC,IAEzDhC,EAAEe,MAAMkB,OAAO,CAACjB,QAASgB,EAASE,KAAKlB,UAGvC,IAAImB,EAAYC,KAAKC,MAAMD,KAAKE,UAAU3F,EAAM4F,MAAMC,WAAWL,YAEjEA,EAAUM,QAAQT,EAASE,KAAKA,MAEhCvF,EAAM+F,OAAO,4CAA6CP,GAG1DrE,GAAUK,OAAQ,EAGlB1B,EAAOkG,MAAM,IACdC,OAAMtD,IACLxB,GAAUK,OAAQ,CAAK,GAE/B,C,OA1LA0E,EAAAA,EAAAA,KAAU,KACN7E,GAAmB,IAAI8E,MAAM,yBAA0B,CACnDC,MAAO,OACPC,YAAa,6BAGjBhF,GAAiBiF,GAAG,eAAe,KACbjF,GAAiBkF,WAAW,GAChD,KAINC,EAAAA,EAAAA,KAAM,IAAMtG,EAAQsB,MAAMd,gBAAgB+F,IACxC/E,GAAUF,MAAQ,CAAC,EACD,wBAAZiF,EACAhF,GAAkBD,MAAQ,CACtB,oCAAqC,sBACrC,sBAAuB,8BAA+B,uDAEvC,gBAAZiF,EACPhF,GAAkBD,MAAQ,CACtB,mBAAoB,8BAA+B,8BACnD,6BAA8B,sBAAuB,gDAEtC,8BAAZiF,IACPhF,GAAkBD,MAAQ,CACtB,oCAAqC,8BAA+B,sBACpE,8BAA+B,uDAEvC,I,07LChGJ,MAAMkF,GAAc,GAEpB,S","sources":["webpack://myzola-admin/./src/views/explore_hub/companies/listed/Add.vue","webpack://myzola-admin/./src/views/explore_hub/companies/listed/Add.vue?e393"],"sourcesContent":["<script setup>\n\nimport {useRouter} from \"vue-router\";\nimport {onMounted, ref, computed, watch} from \"vue\";\nimport api from \"@/services/api\";\nimport {apiRoutes} from \"@/services/apiRoutes\";\nimport {useStore} from \"vuex\";\nimport CloseButton from \"@/components/CloseButton.vue\";\nimport { VueTelInput } from 'vue-tel-input';\nimport 'vue-tel-input/vue-tel-input.css';\nimport {startCase} from \"lodash-es\";\nimport {checkHasPermission, isSmallScreen, socialPlatforms} from \"@/services/Helpers\";\nimport {validateSocialHandle} from \"@/services/SocialHandlesLinksValidator\";\nimport {ElMessage} from \"element-plus\";\nimport SocialHandle from \"@/components/SocialHandle.vue\";\n\n/* ------------------------------\n* Variables & Properties\n* ------------------------------\n* */\nconst router = useRouter();\nconst store = useStore();\n\nconst company = ref({\n    name:\"\",\n    description:\"\",\n    contact_name:\"\",\n    contact_phone:\"\",\n    email:\"\",\n    about:\"\",\n    business_type: \"\"\n});\nconst addedSocials = ref([]);\nconst newSocialHandle = ref({platform:\"\", link:\"\"});\n\nlet logoUpload = ref(null);\nlet logoFile = ref(null);\n\nlet bannerUpload = ref(null);\nlet bannerFile = ref(null);\n\nconst isLoading = ref(false);\nconst isAddingSocialHandles = ref(false);\nlet aboutQuillEditor = ref(null);\n\nconst businessTypes = [\n    { label: \"Sole Proprietorship\", value: \"Sole Proprietorship\" },\n    { label: \"Partnership\", value: \"Partnership\" },\n    { label: \"Limited Liability Company (LLC)\", value: \"Limited Liability Company\" }\n];\nconst requiredDocuments = ref([]);\nconst documents = ref({});\n\n\n/* ------------------------------\n* Computed Properties\n* ------------------------------\n* */\nconst availableSocials = computed(()=>{\n    //get socials already added to the company\n    let alreadyAddedSocials = addedSocials.value.map(entry => entry.platform);\n    return socialPlatforms.filter(entry => !alreadyAddedSocials.includes(entry));\n});\n\n\n\n/* ------------------------------\n* Lifecycle Hooks\n* ------------------------------\n* */\nonMounted(()=>{\n    aboutQuillEditor = new Quill('#addCompanyAboutEditor', {\n        theme: 'snow',\n        placeholder: 'Enter company about here'\n    });\n\n    aboutQuillEditor.on('text-change', () => {\n        let aboutLength = aboutQuillEditor.getLength();\n    });\n});\n\n// Watch for business type change and update required documents\nwatch(() => company.value.business_type, (newType) => {\n  documents.value = {}\n    if (newType === 'Sole Proprietorship') {\n        requiredDocuments.value = [\n            \"Business Registration Certificate\", \"KRA PIN Certificate\",\n            \"Owner's National ID\", \"Owner's KRA PIN Certificate\", \"Bank Account Confirmation Letter (in business name)\"\n        ];\n    } else if (newType === 'Partnership') {\n        requiredDocuments.value = [\n            \"Partnership Deed\", \"Certificate of Registration\", \"Company KRA PIN Certificate\", \n            \"Partners Resolution Letter\", \"Owner's National ID\", \"Bank Letter Stating Partnership Bank Details\"\n        ];\n    } else if (newType === 'Limited Liability Company') {\n        requiredDocuments.value = [\n            \"Business Registration Certificate\", \"Company KRA PIN Certificate\", \"Owner's National ID\",\n            \"Owner's KRA PIN Certificate\", \"Bank Account Confirmation Letter (in business name)\"\n        ];\n    }\n});\n\n/* ------------------------------\n* Methods & functions\n* ------------------------------\n* */\n\n// Handle file uploads\nfunction handleFileUpload(event, documentType) {\n  const file = event.target.files[0];\n\n  // Check if the file size exceeds 2MB (2 * 1024 * 1024 bytes)\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error('File size exceeds 2MB limit. Please upload a smaller file.');\n    // Clear the file input\n    event.target.value = null;\n    return;\n  }\n  documents.value[documentType] = file;\n}\n\nfunction processUpload(event) {\n  const file = event.target.files[0];\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error('Logo file size exceeds 2MB limit. Please upload a smaller file.');\n    event.target.value = null;\n    logoUpload.value = null;\n    return;\n  }\n\n  logoUpload.value = file;\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    logoFile.value = e.target.result;\n  };\n  reader.readAsDataURL(file);\n}\nfunction bannerProcessUpload(event) {\n  const file = event.target.files[0];\n  if (file.size > 2 * 1024 * 1024) {\n    ElMessage.error('Banner file size exceeds 2MB limit. Please upload a smaller file.');\n    event.target.value = null;\n    bannerUpload.value = null;\n    return;\n  }\n\n  bannerUpload.value = file;\n  const reader = new FileReader();\n  reader.onload = (e) => {\n    bannerFile.value = e.target.result;\n  };\n  reader.readAsDataURL(file);\n}\n\nfunction removeUpload(){\n    logoUpload.value = null;\n    logoFile.value = null;\n    $(\"#companyLogo\").val(\"\");\n}\n\nfunction removeBannerUpload() {\n  bannerUpload.value = null;\n  bannerFile.value = null;\n  $(\"#companyBanner\").val(\"\");\n}\n\nfunction selectSocialPlatform(social){\n    newSocialHandle.value.platform = social;\n    //if social platform is whatsapp, prefill the link field with whatsapp api link\n    newSocialHandle.value.link = social == 'whatsapp' ? \"https://wa.me/\" : \"\";\n}\n\nfunction addSocial(){\n    if(newSocialHandle.value.platform != 'whatsapp')\n        newSocialHandle.value.link = newSocialHandle.value.link.replace(/\\/+$/, '');\n\n    //validate link entered\n    if(!validateSocialHandle(newSocialHandle.value))\n        return ElMessage.warning(`Please enter a valid ${startCase(newSocialHandle.value.platform)} url`);\n\n    //add new social to company list of socials\n    addedSocials.value.push({\n        platform: newSocialHandle.value.platform,\n        link: newSocialHandle.value.link\n    });\n    //reset new social handle details\n    newSocialHandle.value = {platform: \"\", link: \"\"};\n}\n\nfunction submit(){\n    //validate that company about is provided\n    let about = aboutQuillEditor.getSemanticHTML();\n    if(!about || !about.toString().length || about == \"<p></p>\") {\n        return $.growl.warning({message: \"Please enter the company's bio\"})\n    }\n    company.value['about'] = about;\n\n    //validate that phone number is entered\n    if(!company.value.contact_phone || !company.value.contact_phone.toString().length) {\n        return $.growl.warning({message: \"Please enter contact phone\"})\n    }\n\n    //prepare request payload\n    let payload = new FormData();\n    //add all company details to the form data\n    Object.keys(company.value)\n            .forEach(key => {\n                let value = company.value[key];\n                if(key == 'contact_phone') value = value.toString().replaceAll(\" \", \"\");\n                payload.append(key, value)\n            });\n\n     // Add documents\n     Object.keys(documents.value).forEach(doc => {\n        if (documents.value[doc]) {\n            payload.append(`documents[${doc}]`, documents.value[doc]);\n        }\n    });\n\n  //add logo to payload\n    payload.append('company_logo', logoUpload.value);\n\n    //add banner to payload\n    payload.append('company_banner', bannerUpload.value);\n\n    //where company socials are specified, add them to form data\n    if(addedSocials.value.length){\n        addedSocials.value.forEach((social, index) => {\n            payload.append(`socials[${index}][platform]`, social.platform);\n            payload.append(`socials[${index}][link]`, social.link);\n        });\n    }\n\n    //SHOW LOADER\n    isLoading.value = true;\n\n    //make api call\n    api.post(apiRoutes.ADD_EXPLORE_LISTED_COMPANY, payload).then(response => {\n        //show success response\n        $.growl.notice({message: response.data.message});\n\n        //get a copy of current companies list\n        let companies = JSON.parse(JSON.stringify(store.state.exploreHub.companies));\n        //add the new company to the copy\n        companies.unshift(response.data.data);\n        //overwrite the vuex companies list with the updated copy\n        store.commit('exploreHub/STORE_EXPLORE_LISTED_COMPANIES', companies)\n\n        //DISMISS LOADER\n        isLoading.value = false;\n\n        //navigate back to companies list\n        router.back();\n    }).catch(error => {\n        isLoading.value = false\n    });\n}\n\n</script>\n\n<template>\n\n    <div class=\"col-sm-12 mb-3 d-inline-flex align-items-center justify-content-between\">\n        <h6 class=\"fw-bold mb-0\" style=\"margin-left: 20px;\">Add a new Company</h6>\n        <close-button></close-button>\n    </div>\n\n    <form @submit.prevent=\"submit\" v-loading=\"isLoading\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <!-- Logo -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyName\"\n                               placeholder=\"Company Name\" v-model=\"company.name\" required>\n                        <label for=\"companyName\">Company Name</label>\n                    </div>\n                </div>\n\n                <!-- Tagline -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyTagline\"\n                               placeholder=\"Tagline\" v-model=\"company.description\"\n                               maxlength=\"100\" required>\n                        <label for=\"companyTagline\">Tagline</label>\n\n                        <div v-if=\"company.description.toString().length\" class=\"d-flex justify-content-end character_count_indicator\">\n                            {{ company.description.toString().length }}/100\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Contact Person -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"text\" class=\"form-control\" id=\"companyContactPerson\"\n                               placeholder=\"Company Person\" v-model=\"company.contact_name\" required>\n                        <label for=\"companyContactPerson\">Contact Person</label>\n                    </div>\n                </div>\n\n                <!-- Contact Phone -->\n                <div class=\"col-md-10 m-b-20\">\n                    <small class=\"text-muted\">Contact Phone</small>\n                    <vue-tel-input\n                            v-model=\"company.contact_phone\"\n                            mode=\"international\"></vue-tel-input>\n                </div>\n\n                <!-- Contact Email -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"email\" class=\"form-control\" id=\"companyContactEmail\"\n                               placeholder=\"Email\" v-model=\"company.email\" required>\n                        <label for=\"companyContactEmail\">Email</label>\n                    </div>\n                </div>\n\n                <!-- About -->\n                <div class=\"col-md-10 m-b-20\">\n                    <h6>Company's Bio (About)</h6>\n\n                    <!-- Quill Editor Default -->\n                    <div id=\"addCompanyAboutEditor\" class=\"quill-editor-default\">\n                    </div>\n                    <!-- End Quill Editor Default -->\n\n\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <!-- Logo -->\n                <div class=\"col-md-10 m-b-20\">\n                    <div class=\"form-floating\">\n                        <input type=\"file\" class=\"form-control\" id=\"companyLogo\" @change=\"processUpload\" accept=\".png,.jpg,.jpeg,.gif\">\n                        <label for=\"companyLogo\">Company Logo (Max 2MB | png, jpg, jpeg, gif)</label>\n                    </div>\n\n                    <div class=\"d-flex flex-wrap m-t-10\" v-if=\"logoFile\">\n                        <div class=\"p-1 uploaded-image\">\n                            <img :src=\"logoFile\"  style=\"max-width:80px;max-height:60px;\">\n                            <div class=\"remover\" @click=\"removeUpload\">\n                                <i class=\"ri ri-close-line\"></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n              <!-- Company Banner -->\n              <div class=\"col-md-10 m-b-20\">\n                <div class=\"form-floating\">\n                  <input type=\"file\" class=\"form-control\" id=\"companyBanner\" @change=\"bannerProcessUpload\" accept=\".png,.jpg,.jpeg,.gif\">\n                  <label for=\"companyBanner\">Company Banner (Max 2MB | png, jpg, jpeg, gif)</label>\n                </div>\n\n                <div class=\"d-flex flex-wrap m-t-10\" v-if=\"bannerFile\">\n                  <div class=\"p-1 uploaded-image\">\n                    <img :src=\"bannerFile\"  style=\"max-width:80px;max-height:60px;\">\n                    <div class=\"remover\" @click=\"removeBannerUpload\">\n                      <i class=\"ri ri-close-line\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n                <!-- Socials -->\n                <div class=\"col-md-10 m-b-20\">\n                    <h6>Social Media Handles</h6>\n                    <div class=\"d-inline-flex align-items-center flex-wrap\">\n                        <div v-if=\"addedSocials.length\" class=\"d-inline-flex\">\n                            <social-handle v-for=\"(social, index) in addedSocials\"\n                                           :key=\"'form-current-socials-'+index\"\n                                           v-bind=\"social\"></social-handle>\n                        </div>\n                        <el-button @click=\"isAddingSocialHandles = !isAddingSocialHandles\" size=\"small\" round>\n                            <i class=\"ri ri-add-line\" v-if=\"!addedSocials.length\"></i>{{ addedSocials.length ? \"Click to edit\" : \"Click to add\" }}\n                        </el-button>\n                    </div>\n                </div>\n              <!-- Business Type Dropdown -->\n                <div class=\"col-md-10 m-b-20\">\n                <label for=\"businessType\" class=\"mb-2\">Business Type</label>\n                <select class=\"form-control\" v-model=\"company.business_type\" required>\n                    <option v-for=\"type in businessTypes\" :key=\"type.value\" :value=\"type.value\">{{ type.label }}</option>\n                </select>\n                </div>\n              <!-- Document Upload Fields -->\n                <div class=\"col-md-10 m-b-20\">\n                        <div v-if=\"requiredDocuments.length\">\n                          <h6>Please upload the following required documents (Max 2MB per file | pdf, doc, docx)</h6>\n                        <div class=\"form-floating mb-2\" v-for=\"doc in requiredDocuments\" :key=\"doc\">\n                            <input  required class=\"form-control\" type=\"file\" @change=\"(event) => handleFileUpload(event, doc)\" accept=\".pdf,.doc,.docx\" />\n                            <label :for=\"doc\">{{ doc }}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <hr>\n        <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" type=\"submit\" v-if=\"checkHasPermission('explore_hub.companies.add')\">Add Company</button>\n            &nbsp;\n            <button @click=\"router.back()\" class=\"btn btn-secondary\" type=\"button\">Cancel</button>\n        </div>\n    </form>\n\n    <!-- Modal to add company socials -->\n    <el-dialog\n            :fullscreen=\"isSmallScreen\"\n            v-model=\"isAddingSocialHandles\">\n        <div class=\"row\" v-if=\"addedSocials.length\">\n            <h6 class=\"fw-bold\">\n                <small class=\"text-muted\">Currently added</small>\n            </h6>\n            <small class=\"text-muted text-italic\">Click to remove</small>\n            <div class=\"d-inline-flex\">\n                <div class=\"p-1\" @click=\"addedSocials.splice(index,1)\"\n                     v-for=\"(social, index) in addedSocials\" :key=\"'current-socials-'+index\">\n                    <social-handle :platform=\"social.platform\"></social-handle>\n                </div>\n            </div>\n        </div>\n        <br>\n        <div class=\"row\">\n            <h6 class=\"fw-bold\" v-if=\"addedSocials.length\">\n                <small class=\"text-muted\">Add more here</small>\n            </h6>\n            <div class=\"p-l-20\">\n                <form @submit.prevent=\"addSocial\">\n                    <p><small>Select Platform</small></p>\n                    <div class=\"d-inline-flex flex-wrap\">\n                        <template v-for=\"(social, index) in availableSocials\"\n                                  :key=\"'to-add-social'+index\">\n                            <div @click=\"selectSocialPlatform(social)\" v-if=\"social == newSocialHandle.platform\">\n                                <el-badge value=\"✓\" class=\"item\" type=\"primary\">\n                                    <social-handle :platform=\"social\"></social-handle>\n                                </el-badge>\n                            </div>\n                            <div @click=\"selectSocialPlatform(social)\" v-else>\n                                <social-handle :platform=\"social\"></social-handle>\n                            </div>\n                        </template>\n                    </div>\n                    <br><br>\n                    <div class=\"col-md-6\" v-if=\"newSocialHandle.platform.length\">\n                        <div class=\"input-group mb-3\">\n                            <div class=\"form-floating\">\n                                <input type=\"text\" class=\"form-control\" id=\"newSocialLink\"\n                                       placeholder=\"Tagline\" v-model=\"newSocialHandle.link\" required>\n                                <label for=\"newSocialLink\">\n                                    <template v-if=\"newSocialHandle.platform == 'whatsapp'\">\n                                        Enter Whatsapp number\n                                    </template>\n                                    <template v-else>\n                                        Enter {{ startCase(newSocialHandle.platform) }} Link here\n                                    </template>\n                                </label>\n                            </div>\n                            <span class=\"input-group-text\" id=\"basic-addon2\">\n                                <el-button native-type=\"submit\" link>Add</el-button>\n                            </span>\n                        </div>\n                        <small v-if=\"newSocialHandle.platform == 'whatsapp'\">Please enter the whatsapp number in international format (+254712345678)</small>\n                    </div>\n                </form>\n            </div>\n            <div class=\"col-sm-12 d-flex justify-content-end\">\n                <el-button type=\"primary\" @click=\"isAddingSocialHandles = !isAddingSocialHandles\">Close</el-button>\n            </div>\n        </div>\n    </el-dialog>\n\n</template>\n\n\n<style scoped>\n\n</style>\n","import script from \"./Add.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Add.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","store","useStore","company","ref","name","description","contact_name","contact_phone","email","about","business_type","addedSocials","newSocialHandle","platform","link","logoUpload","logoFile","bannerUpload","bannerFile","isLoading","isAddingSocialHandles","aboutQuillEditor","businessTypes","label","value","requiredDocuments","documents","availableSocials","computed","alreadyAddedSocials","map","entry","socialPlatforms","filter","includes","handleFileUpload","event","documentType","file","target","files","size","ElMessage","error","processUpload","reader","FileReader","onload","e","result","readAsDataURL","bannerProcessUpload","removeUpload","$","val","removeBannerUpload","selectSocialPlatform","social","addSocial","replace","validateSocialHandle","warning","startCase","push","submit","getSemanticHTML","toString","length","growl","message","payload","FormData","Object","keys","forEach","key","replaceAll","append","doc","index","api","post","apiRoutes","ADD_EXPLORE_LISTED_COMPANY","then","response","notice","data","companies","JSON","parse","stringify","state","exploreHub","unshift","commit","back","catch","onMounted","Quill","theme","placeholder","on","getLength","watch","newType","__exports__"],"sourceRoot":""}