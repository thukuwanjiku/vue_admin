"use strict";(self["webpackChunkmyzola_admin"]=self["webpackChunkmyzola_admin"]||[]).push([[810],{5810:function(e,a,l){l.r(a),l.d(a,{default:function(){return z}});var t=l(6768),s=l(5130),o=l(4232),n=l(85),i=l(144),r=l(4300),c=l(7190),d=l(3641),u=l(1387),v=l(1219),m=l(782);const p=e=>((0,t.Qi)("data-v-0cbbb59e"),e=e(),(0,t.jt)(),e),k={class:"container"},f={class:"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4"},b={class:"container"},L={class:"row justify-content-center"},g={class:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center"},h=p((()=>(0,t.Lk)("div",{class:"d-flex justify-content-center py-4"},[(0,t.Lk)("div",{class:"logo d-flex align-items-center w-auto"},[(0,t.Lk)("img",{src:n,alt:""}),(0,t.Lk)("span",{class:"d-none d-lg-block"},"MyZola Admin")])],-1))),w={class:"card mb-3"},y={class:"card-body"},C=p((()=>(0,t.Lk)("div",{class:"pt-4 pb-2"},[(0,t.Lk)("h5",{class:"card-title text-center pb-0 fs-4"},"Accept Invite"),(0,t.Lk)("p",{class:"text-center small"},"Enter your details below to accept invite and create account")],-1))),E={class:"col-12"},_={class:"form-floating"},x=p((()=>(0,t.Lk)("label",{for:"name"},"Name",-1))),R={class:"col-12"},K={class:"form-floating"},T=["type"],A=p((()=>(0,t.Lk)("label",{for:"password"},"Password",-1))),I={class:"col-12"},P={class:"form-floating"},N=["type"],S=p((()=>(0,t.Lk)("label",{for:"passwordConfirmation"},"Password",-1))),U=p((()=>(0,t.Lk)("div",{class:"col-12"},[(0,t.Lk)("button",{class:"btn btn-primary w-100",type:"submit"},"Accept Invite")],-1))),O={key:1,class:"row p-2"},V=p((()=>(0,t.Lk)("div",{class:"alert alert-danger bg-danger text-light border-0 alert-dismissible fade show",role:"alert"},[(0,t.Lk)("i",{class:"bx bx-error"}),(0,t.eW)(" Token Invalid ")],-1))),j=p((()=>(0,t.Lk)("div",{class:"col-md-12"}," The invite token is invalid. ",-1))),X=[V,j];var Q={__name:"UserInvite",props:{token:String},setup(e){const a=(0,u.lq)(),l=(0,u.rd)(),n=(0,m.Pj)(),p=(0,i.KR)(!1),V=(0,i.KR)(""),j=(0,i.KR)(""),Q=(0,i.KR)(""),q=(0,i.KR)(!1),F=(0,i.KR)(!1),z=(0,i.KR)(!1),B=(0,i.KR)(!1),D=(0,i.KR)("");function H(){p.value=!0,r.A.post(c.pe.VALIDATE_INVITE_TOKEN,{token:a.params.token}).then((e=>{D.value=e.data.valid?"valid":"invalid",p.value=!1})).catch((e=>p.value=!1))}function M(){if(j.value!==Q.value)return v.nk.warning("Password confirmation does not match");p.value=!0;let e={token:a.params.token,name:V.value.trim(),password:j.value.trim(),password_confirmation:Q.value.trim()};r.A.post(c.pe.ACCEPT_INVITE,e).then((e=>{$.growl.notice({message:e.data.message}),n.commit("auth/STORE_AUTH_TOKEN",e.data.token),n.commit("auth/STORE_AUTH_USER",e.data.user),n.commit("auth/STORE_PERMISSIONS",e.data.permissions),p.value=!1,n.commit("auth/UNLOCK_APP"),l.replace({name:"dashboard"}),(0,d.C)()})).catch((e=>p.value=!1))}return(0,t.sV)((()=>{H()})),(e,a)=>{const l=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("main",null,[(0,t.Lk)("div",k,[(0,t.Lk)("section",f,[(0,t.Lk)("div",b,[(0,t.Lk)("div",L,[(0,t.Lk)("div",g,[h,(0,t.Lk)("div",w,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",y,["valid"==D.value?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[C,(0,t.Lk)("form",{onSubmit:(0,s.D$)(M,["prevent"]),class:"row g-3 needs-validation"},[(0,t.Lk)("div",E,[(0,t.Lk)("div",_,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:"form-control",id:"name",placeholder:"Name","onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),required:""},null,512),[[s.Jo,V.value]]),x])]),(0,t.Lk)("div",R,[(0,t.Lk)("div",K,[(0,t.bo)((0,t.Lk)("input",{type:F.value?"text":"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e),onFocus:a[2]||(a[2]=e=>q.value=!0),onBlur:a[3]||(a[3]=e=>q.value=!1),required:""},null,40,T),[[s.hp,j.value]]),A,j.value.length?((0,t.uX)(),(0,t.CE)("i",{key:0,class:(0,o.C4)([F.value?"bi bi-eye-slash-fill":"bi bi-eye-fill","toggle-password"]),onClick:a[4]||(a[4]=e=>F.value=!F.value)},null,2)):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",I,[(0,t.Lk)("div",P,[(0,t.bo)((0,t.Lk)("input",{type:B.value?"text":"password",class:"form-control",id:"passwordConfirmation",placeholder:"Password Confirmation","onUpdate:modelValue":a[5]||(a[5]=e=>Q.value=e),onFocus:a[6]||(a[6]=e=>z.value=!0),onBlur:a[7]||(a[7]=e=>z.value=!1),required:""},null,40,N),[[s.hp,Q.value]]),S,Q.value.length?((0,t.uX)(),(0,t.CE)("i",{key:0,class:(0,o.C4)([B.value?"bi bi-eye-slash-fill":"bi bi-eye-fill","toggle-password"]),onClick:a[8]||(a[8]=e=>B.value=!B.value)},null,2)):(0,t.Q3)("",!0)])]),U],32)],64)):(0,t.Q3)("",!0),"invalid"==D.value?((0,t.uX)(),(0,t.CE)("div",O,X)):(0,t.Q3)("",!0)])),[[l,p.value]])])])])])])])])}}},q=l(1241);const F=(0,q.A)(Q,[["__scopeId","data-v-0cbbb59e"]]);var z=F}}]);
//# sourceMappingURL=810.js.map